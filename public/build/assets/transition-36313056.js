import{r as u,R as g,c as it,d as Le}from"./main-0c6ea3e6.js";import{s as B,o as E,e as at,D as F,y as R,l as oe,u as P,X as D,T as ut,b as je,c as j,I as J,S as Pe,a as st,j as I,d as ct}from"./keyboard-641a7f6e.js";import{C as Oe,d as S,r as dt,c as ft}from"./open-closed-69f1a0de.js";import{t as pe,h as pt,T as mt,O as de,M as z,c as Ce,p as Se,f as le,y as Y,N as vt}from"./use-is-mounted-eb87d527.js";function K(){let e=[],t={addEventListener(n,r,i,l){return n.addEventListener(r,i,l),t.add(()=>n.removeEventListener(r,i,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return pe(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=K();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function ke(){let[e]=u.useState(K);return u.useEffect(()=>()=>e.dispose(),[e]),e}function ce(e,t,n){let r=B(t);u.useEffect(()=>{function i(l){r.current(l)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function Ue(e,t,n){let r=B(t);u.useEffect(()=>{function i(l){r.current(l)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function gt(e,t,n=!0){let r=u.useRef(!1);u.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let s=a(o);if(s===null||!s.getRootNode().contains(s)||!s.isConnected)return;let c=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let d of c){if(d===null)continue;let h=d instanceof HTMLElement?d:d.current;if(h!=null&&h.contains(s)||o.composed&&o.composedPath().includes(h))return}return!pt(s,mt.Loose)&&s.tabIndex!==-1&&o.preventDefault(),t(o,s)}let l=u.useRef(null);ce("pointerdown",o=>{var a,s;r.current&&(l.current=((s=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:s[0])||o.target)},!0),ce("mousedown",o=>{var a,s;r.current&&(l.current=((s=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:s[0])||o.target)},!0),ce("click",o=>{l.current&&(i(o,()=>l.current),l.current=null)},!0),ce("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Ue("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ae(e,t){let n=u.useRef([]),r=E(e);u.useEffect(()=>{let i=[...n.current];for(let[l,o]of t.entries())if(n.current[l]!==o){let a=r(t,i);return n.current=t,a}},[r,...t])}function ht(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var re=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(re||{});function Et(){let e=u.useRef(0);return Ue("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ie(...e){return u.useMemo(()=>at(...e),[...e])}function qe(e,t,n,r){let i=B(n);u.useEffect(()=>{e=e??window;function l(o){i.current(o)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function bt(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function Ve(e){let t=E(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,pe(()=>{n.current&&t()})}),[t])}function We(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let wt="div";var Ye=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Ye||{});function $t(e,t){let n=u.useRef(null),r=R(n,t),{initialFocus:i,containers:l,features:o=30,...a}=e;oe()||(o=1);let s=ie(n);Lt({ownerDocument:s},!!(o&16));let c=Pt({ownerDocument:s,container:n,initialFocus:i},!!(o&2));Ct({ownerDocument:s,container:n,containers:l,previousActiveElement:c},!!(o&8));let d=Et(),h=E(p=>{let v=n.current;v&&(b=>b())(()=>{P(d.current,{[re.Forwards]:()=>{de(v,z.First,{skipElements:[p.relatedTarget]})},[re.Backwards]:()=>{de(v,z.Last,{skipElements:[p.relatedTarget]})}})})}),$=ke(),m=u.useRef(!1),f={ref:r,onKeyDown(p){p.key=="Tab"&&(m.current=!0,$.requestAnimationFrame(()=>{m.current=!1}))},onBlur(p){let v=We(l);n.current instanceof HTMLElement&&v.add(n.current);let b=p.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(_e(v,b)||(m.current?de(n.current,P(d.current,{[re.Forwards]:()=>z.Next,[re.Backwards]:()=>z.Previous})|z.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&Y(p.target)))}};return g.createElement(g.Fragment,null,!!(o&4)&&g.createElement(Ce,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Se.Focusable}),D({ourProps:f,theirProps:a,defaultTag:wt,name:"FocusTrap"}),!!(o&4)&&g.createElement(Ce,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Se.Focusable}))}let Tt=F($t),te=Object.assign(Tt,{features:Ye}),N=[];bt(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&N[0]!==t.target&&(N.unshift(t.target),N=N.filter(n=>n!=null&&n.isConnected),N.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function yt(e=!0){let t=u.useRef(N.slice());return Ae(([n],[r])=>{r===!0&&n===!1&&pe(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=N.slice())},[e,N,t]),E(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Lt({ownerDocument:e},t){let n=yt(t);Ae(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Y(n())},[t]),Ve(()=>{t&&Y(n())})}function Pt({ownerDocument:e,container:t,initialFocus:n},r){let i=u.useRef(null),l=le();return Ae(()=>{if(!r)return;let o=t.current;o&&pe(()=>{if(!l.current)return;let a=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?Y(n.current):de(o,z.First)===vt.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[r]),i}function Ct({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){let l=le();qe(e==null?void 0:e.defaultView,"focus",o=>{if(!i||!l.current)return;let a=We(n);t.current instanceof HTMLElement&&a.add(t.current);let s=r.current;if(!s)return;let c=o.target;c&&c instanceof HTMLElement?_e(a,c)?(r.current=c,Y(c)):(o.preventDefault(),o.stopPropagation(),Y(s)):Y(r.current)},!0)}function _e(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let Ge=u.createContext(!1);function St(){return u.useContext(Ge)}function Fe(e){return g.createElement(Ge.Provider,{value:e.force},e.children)}function Ft(e){let t=St(),n=u.useContext(Xe),r=ie(e),[i,l]=u.useState(()=>{if(!t&&n!==null||je.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return u.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),u.useEffect(()=>{t||n!==null&&l(n.current)},[n,l,t]),i}let Rt=u.Fragment;function Dt(e,t){let n=e,r=u.useRef(null),i=R(ut(d=>{r.current=d}),t),l=ie(r),o=Ft(r),[a]=u.useState(()=>{var d;return je.isServer?null:(d=l==null?void 0:l.createElement("div"))!=null?d:null}),s=u.useContext(Re),c=oe();return j(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),j(()=>{if(a&&s)return s.register(a)},[s,a]),Ve(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),c?!o||!a?null:it.createPortal(D({ourProps:{ref:i},theirProps:n,defaultTag:Rt,name:"Portal"}),a):null}let Mt=u.Fragment,Xe=u.createContext(null);function xt(e,t){let{target:n,...r}=e,i={ref:R(t)};return g.createElement(Xe.Provider,{value:n},D({ourProps:i,theirProps:r,defaultTag:Mt,name:"Popover.Group"}))}let Re=u.createContext(null);function Ot(){let e=u.useContext(Re),t=u.useRef([]),n=E(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=E(l=>{let o=t.current.indexOf(l);o!==-1&&t.current.splice(o,1),e&&e.unregister(l)}),i=u.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,u.useMemo(()=>function({children:l}){return g.createElement(Re.Provider,{value:i},l)},[i])]}let kt=F(Dt),At=F(xt),De=Object.assign(kt,{Group:At}),ze=u.createContext(null);function Je(){let e=u.useContext(ze);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Je),t}return e}function Ht(){let[e,t]=u.useState([]);return[e.length>0?e.join(" "):void 0,u.useMemo(()=>function(n){let r=E(l=>(t(o=>[...o,l]),()=>t(o=>{let a=o.slice(),s=a.indexOf(l);return s!==-1&&a.splice(s,1),a}))),i=u.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return g.createElement(ze.Provider,{value:i},n.children)},[t])]}let Nt="p";function It(e,t){let n=J(),{id:r=`headlessui-description-${n}`,...i}=e,l=Je(),o=R(t);j(()=>l.register(r),[r,l.register]);let a={ref:o,...l.props,id:r};return D({ourProps:a,theirProps:i,slot:l.slot||{},defaultTag:Nt,name:l.name||"Description"})}let Bt=F(It),jt=Object.assign(Bt,{}),He=u.createContext(()=>{});He.displayName="StackContext";var Me=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Me||{});function Ut(){return u.useContext(He)}function qt({children:e,onUpdate:t,type:n,element:r,enabled:i}){let l=Ut(),o=E((...a)=>{t==null||t(...a),l(...a)});return j(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),g.createElement(He.Provider,{value:o},e)}function Vt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Wt=typeof Object.is=="function"?Object.is:Vt,{useState:Yt,useEffect:_t,useLayoutEffect:Gt,useDebugValue:Xt}=Le;function zt(e,t,n){const r=t(),[{inst:i},l]=Yt({inst:{value:r,getSnapshot:t}});return Gt(()=>{i.value=r,i.getSnapshot=t,we(i)&&l({inst:i})},[e,r,t]),_t(()=>(we(i)&&l({inst:i}),e(()=>{we(i)&&l({inst:i})})),[e]),Xt(r),r}function we(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Wt(n,r)}catch{return!0}}function Jt(e,t,n){return t()}const Kt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qt=!Kt,Zt=Qt?Jt:zt,en="useSyncExternalStore"in Le?(e=>e.useSyncExternalStore)(Le):Zt;function tn(e){return en(e.subscribe,e.getSnapshot,e.getSnapshot)}function nn(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...l){let o=t[i].call(n,...l);o&&(n=o,r.forEach(a=>a()))}}}function rn(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,l=e-i;n.style(r,"paddingRight",`${l}px`)}}}function on(){if(!ht())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:n,meta:r}){function i(o){return r.containers.flatMap(a=>a()).some(a=>a.contains(o))}n.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let l=null;n.addEventListener(t,"click",o=>{if(o.target instanceof HTMLElement)try{let a=o.target.closest("a");if(!a)return;let{hash:s}=new URL(a.href),c=t.querySelector(s);c&&!i(c)&&(l=c)}catch{}},!0),n.addEventListener(t,"touchmove",o=>{o.target instanceof HTMLElement&&!i(o.target)&&o.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+e),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})}}}function ln(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function an(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let W=nn(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:K(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:an(n)},i=[on(),rn(),ln()];i.forEach(({before:l})=>l==null?void 0:l(r)),i.forEach(({after:l})=>l==null?void 0:l(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});W.subscribe(()=>{let e=W.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&W.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&W.dispatch("TEARDOWN",n)}});function un(e,t,n){let r=tn(W),i=e?r.get(e):void 0,l=i?i.count>0:!1;return j(()=>{if(!(!e||!t))return W.dispatch("PUSH",e,n),()=>W.dispatch("POP",e,n)},[t,e]),l}let $e=new Map,ne=new Map;function Ie(e,t=!0){j(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function i(){var o;if(!r)return;let a=(o=ne.get(r))!=null?o:1;if(a===1?ne.delete(r):ne.set(r,a-1),a!==1)return;let s=$e.get(r);s&&(s["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",s["aria-hidden"]),r.inert=s.inert,$e.delete(r))}let l=(n=ne.get(r))!=null?n:0;return ne.set(r,l+1),l!==0||($e.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[e,t])}function sn({defaultContainers:e=[],portals:t}={}){let n=u.useRef(null),r=ie(n),i=E(()=>{var l;let o=[];for(let a of e)a!==null&&(a instanceof HTMLElement?o.push(a):"current"in a&&a.current instanceof HTMLElement&&o.push(a.current));if(t!=null&&t.current)for(let a of t.current)o.push(a);for(let a of(l=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?l:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(a.contains(n.current)||o.some(s=>a.contains(s))||o.push(a));return o});return{resolveContainers:i,contains:E(l=>i().some(o=>o.contains(l))),mainTreeNodeRef:n,MainTreeNode:u.useMemo(()=>function(){return g.createElement(Ce,{features:Se.Hidden,ref:n})},[n])}}var cn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cn||{}),dn=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(dn||{});let fn={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},fe=u.createContext(null);fe.displayName="DialogContext";function ae(e){let t=u.useContext(fe);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ae),n}return t}function pn(e,t,n=()=>[document.body]){un(e,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function mn(e,t){return P(t.type,fn,e,t)}let vn="div",gn=Pe.RenderStrategy|Pe.Static;function hn(e,t){var n;let r=J(),{id:i=`headlessui-dialog-${r}`,open:l,onClose:o,initialFocus:a,__demoMode:s=!1,...c}=e,[d,h]=u.useState(0),$=Oe();l===void 0&&$!==null&&(l=($&S.Open)===S.Open);let m=u.useRef(null),f=R(m,t),p=ie(m),v=e.hasOwnProperty("open")||$!==null,b=e.hasOwnProperty("onClose");if(!v&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof l!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${l}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let w=l?0:1,[y,L]=u.useReducer(mn,{titleId:null,descriptionId:null,panelRef:u.createRef()}),M=E(()=>o(!1)),Q=E(T=>L({type:0,id:T})),O=oe()?s?!1:w===0:!1,k=d>1,_=u.useContext(fe)!==null,[Z,G]=Ot(),{resolveContainers:U,mainTreeNodeRef:H,MainTreeNode:he}=sn({portals:Z,defaultContainers:[(n=y.panelRef.current)!=null?n:m.current]}),q=k?"parent":"leaf",ue=$!==null?($&S.Closing)===S.Closing:!1,Ee=(()=>_||ue?!1:O)(),X=u.useCallback(()=>{var T,A;return(A=Array.from((T=p==null?void 0:p.querySelectorAll("body > *"))!=null?T:[]).find(C=>C.id==="headlessui-portal-root"?!1:C.contains(H.current)&&C instanceof HTMLElement))!=null?A:null},[H]);Ie(X,Ee);let ee=(()=>k?!0:O)(),be=u.useCallback(()=>{var T,A;return(A=Array.from((T=p==null?void 0:p.querySelectorAll("[data-headlessui-portal]"))!=null?T:[]).find(C=>C.contains(H.current)&&C instanceof HTMLElement))!=null?A:null},[H]);Ie(be,ee);let x=(()=>!(!O||k))();gt(U,M,x);let et=(()=>!(k||w!==0))();qe(p==null?void 0:p.defaultView,"keydown",T=>{et&&(T.defaultPrevented||T.key===st.Escape&&(T.preventDefault(),T.stopPropagation(),M()))});let tt=(()=>!(ue||w!==0||_))();pn(p,tt,U),u.useEffect(()=>{if(w!==0||!m.current)return;let T=new ResizeObserver(A=>{for(let C of A){let se=C.target.getBoundingClientRect();se.x===0&&se.y===0&&se.width===0&&se.height===0&&M()}});return T.observe(m.current),()=>T.disconnect()},[w,m,M]);let[nt,rt]=Ht(),ot=u.useMemo(()=>[{dialogState:w,close:M,setTitleId:Q},y],[w,y,M,Q]),Ne=u.useMemo(()=>({open:w===0}),[w]),lt={ref:f,id:i,role:"dialog","aria-modal":w===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":nt};return g.createElement(qt,{type:"Dialog",enabled:w===0,element:m,onUpdate:E((T,A)=>{A==="Dialog"&&P(T,{[Me.Add]:()=>h(C=>C+1),[Me.Remove]:()=>h(C=>C-1)})})},g.createElement(Fe,{force:!0},g.createElement(De,null,g.createElement(fe.Provider,{value:ot},g.createElement(De.Group,{target:m},g.createElement(Fe,{force:!1},g.createElement(rt,{slot:Ne,name:"Dialog.Description"},g.createElement(te,{initialFocus:a,containers:U,features:O?P(q,{parent:te.features.RestoreFocus,leaf:te.features.All&~te.features.FocusLock}):te.features.None},g.createElement(G,null,D({ourProps:lt,theirProps:c,slot:Ne,defaultTag:vn,features:gn,visible:w===0,name:"Dialog"}))))))))),g.createElement(he,null))}let En="div";function bn(e,t){let n=J(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:l,close:o}]=ae("Dialog.Overlay"),a=R(t),s=E(d=>{if(d.target===d.currentTarget){if(dt(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),c=u.useMemo(()=>({open:l===0}),[l]);return D({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:s},theirProps:i,slot:c,defaultTag:En,name:"Dialog.Overlay"})}let wn="div";function $n(e,t){let n=J(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:l},o]=ae("Dialog.Backdrop"),a=R(t);u.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let s=u.useMemo(()=>({open:l===0}),[l]);return g.createElement(Fe,{force:!0},g.createElement(De,null,D({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:s,defaultTag:wn,name:"Dialog.Backdrop"})))}let Tn="div";function yn(e,t){let n=J(),{id:r=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:l},o]=ae("Dialog.Panel"),a=R(t,o.panelRef),s=u.useMemo(()=>({open:l===0}),[l]),c=E(d=>{d.stopPropagation()});return D({ourProps:{ref:a,id:r,onClick:c},theirProps:i,slot:s,defaultTag:Tn,name:"Dialog.Panel"})}let Ln="h2";function Pn(e,t){let n=J(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:l,setTitleId:o}]=ae("Dialog.Title"),a=R(t);u.useEffect(()=>(o(r),()=>o(null)),[r,o]);let s=u.useMemo(()=>({open:l===0}),[l]);return D({ourProps:{ref:a,id:r},theirProps:i,slot:s,defaultTag:Ln,name:"Dialog.Title"})}let Cn=F(hn),Sn=F($n),Fn=F(yn),Rn=F(bn),Dn=F(Pn),Kn=Object.assign(Cn,{Backdrop:Sn,Panel:Fn,Overlay:Rn,Title:Dn,Description:jt});function Mn(e=0){let[t,n]=u.useState(e),r=le(),i=u.useCallback(s=>{r.current&&n(c=>c|s)},[t,r]),l=u.useCallback(s=>!!(t&s),[t]),o=u.useCallback(s=>{r.current&&n(c=>c&~s)},[n,r]),a=u.useCallback(s=>{r.current&&n(c=>c^s)},[n]);return{flags:t,addFlag:i,hasFlag:l,removeFlag:o,toggleFlag:a}}function xn(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Te(e,...t){e&&t.length>0&&e.classList.add(...t)}function ye(e,...t){e&&t.length>0&&e.classList.remove(...t)}function On(e,t){let n=K();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[l,o]=[r,i].map(s=>{let[c=0]=s.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return c}),a=l+o;if(a!==0){n.group(c=>{c.setTimeout(()=>{t(),c.dispose()},a),c.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&c.dispose()})});let s=n.addEventListener(e,"transitionend",c=>{c.target===c.currentTarget&&(t(),s())})}else t();return n.add(()=>t()),n.dispose}function kn(e,t,n,r){let i=n?"enter":"leave",l=K(),o=r!==void 0?xn(r):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let a=P(i,{enter:()=>t.enter,leave:()=>t.leave}),s=P(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=P(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return ye(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Te(e,...a,...c),l.nextFrame(()=>{ye(e,...c),Te(e,...s),On(e,()=>(ye(e,...a),Te(e,...t.entered),o()))}),l.dispose}function An({container:e,direction:t,classes:n,onStart:r,onStop:i}){let l=le(),o=ke(),a=B(t);j(()=>{let s=K();o.add(s.dispose);let c=e.current;if(c&&a.current!=="idle"&&l.current)return s.dispose(),r.current(a.current),s.add(kn(c,n.current,a.current==="enter",()=>{s.dispose(),i.current(a.current)})),s.dispose},[t])}function V(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let me=u.createContext(null);me.displayName="TransitionContext";var Hn=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Hn||{});function Nn(){let e=u.useContext(me);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function In(){let e=u.useContext(ve);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let ve=u.createContext(null);ve.displayName="NestingContext";function ge(e){return"children"in e?ge(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Ke(e,t){let n=B(e),r=u.useRef([]),i=le(),l=ke(),o=E((m,f=I.Hidden)=>{let p=r.current.findIndex(({el:v})=>v===m);p!==-1&&(P(f,{[I.Unmount](){r.current.splice(p,1)},[I.Hidden](){r.current[p].state="hidden"}}),l.microTask(()=>{var v;!ge(r)&&i.current&&((v=n.current)==null||v.call(n))}))}),a=E(m=>{let f=r.current.find(({el:p})=>p===m);return f?f.state!=="visible"&&(f.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,I.Unmount)}),s=u.useRef([]),c=u.useRef(Promise.resolve()),d=u.useRef({enter:[],leave:[],idle:[]}),h=E((m,f,p)=>{s.current.splice(0),t&&(t.chains.current[f]=t.chains.current[f].filter(([v])=>v!==m)),t==null||t.chains.current[f].push([m,new Promise(v=>{s.current.push(v)})]),t==null||t.chains.current[f].push([m,new Promise(v=>{Promise.all(d.current[f].map(([b,w])=>w)).then(()=>v())})]),f==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>p(f)):p(f)}),$=E((m,f,p)=>{Promise.all(d.current[f].splice(0).map(([v,b])=>b)).then(()=>{var v;(v=s.current.shift())==null||v()}).then(()=>p(f))});return u.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:$,wait:c,chains:d}),[a,o,r,h,$,d,c])}function Bn(){}let jn=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Be(e){var t;let n={};for(let r of jn)n[r]=(t=e[r])!=null?t:Bn;return n}function Un(e){let t=u.useRef(Be(e));return u.useEffect(()=>{t.current=Be(e)},[e]),t}let qn="div",Qe=Pe.RenderStrategy;function Vn(e,t){let{beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:l,enter:o,enterFrom:a,enterTo:s,entered:c,leave:d,leaveFrom:h,leaveTo:$,...m}=e,f=u.useRef(null),p=R(f,t),v=m.unmount?I.Unmount:I.Hidden,{show:b,appear:w,initial:y}=Nn(),[L,M]=u.useState(b?"visible":"hidden"),Q=In(),{register:O,unregister:k}=Q,_=u.useRef(null);u.useEffect(()=>O(f),[O,f]),u.useEffect(()=>{if(v===I.Hidden&&f.current){if(b&&L!=="visible"){M("visible");return}return P(L,{hidden:()=>k(f),visible:()=>O(f)})}},[L,f,O,k,b,v]);let Z=B({enter:V(o),enterFrom:V(a),enterTo:V(s),entered:V(c),leave:V(d),leaveFrom:V(h),leaveTo:V($)}),G=Un({beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:l}),U=oe();u.useEffect(()=>{if(U&&L==="visible"&&f.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[f,L,U]);let H=y&&!w,he=(()=>!U||H||_.current===b?"idle":b?"enter":"leave")(),q=Mn(0),ue=E(x=>P(x,{enter:()=>{q.addFlag(S.Opening),G.current.beforeEnter()},leave:()=>{q.addFlag(S.Closing),G.current.beforeLeave()},idle:()=>{}})),Ee=E(x=>P(x,{enter:()=>{q.removeFlag(S.Opening),G.current.afterEnter()},leave:()=>{q.removeFlag(S.Closing),G.current.afterLeave()},idle:()=>{}})),X=Ke(()=>{M("hidden"),k(f)},Q);An({container:f,classes:Z,direction:he,onStart:B(x=>{X.onStart(f,x,ue)}),onStop:B(x=>{X.onStop(f,x,Ee),x==="leave"&&!ge(X)&&(M("hidden"),k(f))})}),u.useEffect(()=>{H&&(v===I.Hidden?_.current=null:_.current=b)},[b,H,L]);let ee=m,be={ref:p};return w&&b&&y&&(ee={...ee,className:ct(m.className,...Z.current.enter,...Z.current.enterFrom)}),g.createElement(ve.Provider,{value:X},g.createElement(ft,{value:P(L,{visible:S.Open,hidden:S.Closed})|q.flags},D({ourProps:be,theirProps:ee,defaultTag:qn,features:Qe,visible:L==="visible",name:"Transition.Child"})))}function Wn(e,t){let{show:n,appear:r=!1,unmount:i,...l}=e,o=u.useRef(null),a=R(o,t);oe();let s=Oe();if(n===void 0&&s!==null&&(n=(s&S.Open)===S.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=u.useState(n?"visible":"hidden"),h=Ke(()=>{d("hidden")}),[$,m]=u.useState(!0),f=u.useRef([n]);j(()=>{$!==!1&&f.current[f.current.length-1]!==n&&(f.current.push(n),m(!1))},[f,n]);let p=u.useMemo(()=>({show:n,appear:r,initial:$}),[n,r,$]);u.useEffect(()=>{if(n)d("visible");else if(!ge(h))d("hidden");else{let y=o.current;if(!y)return;let L=y.getBoundingClientRect();L.x===0&&L.y===0&&L.width===0&&L.height===0&&d("hidden")}},[n,h]);let v={unmount:i},b=E(()=>{var y;$&&m(!1),(y=e.beforeEnter)==null||y.call(e)}),w=E(()=>{var y;$&&m(!1),(y=e.beforeLeave)==null||y.call(e)});return g.createElement(ve.Provider,{value:h},g.createElement(me.Provider,{value:p},D({ourProps:{...v,as:u.Fragment,children:g.createElement(Ze,{ref:a,...v,...l,beforeEnter:b,beforeLeave:w})},theirProps:{},defaultTag:u.Fragment,features:Qe,visible:c==="visible",name:"Transition"})))}function Yn(e,t){let n=u.useContext(me)!==null,r=Oe()!==null;return g.createElement(g.Fragment,null,!n&&r?g.createElement(xe,{ref:t,...e}):g.createElement(Ze,{ref:t,...e}))}let xe=F(Wn),Ze=F(Vn),_n=F(Yn),Qn=Object.assign(xe,{Child:_n,Root:xe});export{Qn as $,Kn as _};
