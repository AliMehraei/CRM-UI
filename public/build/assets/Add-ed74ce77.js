import{d as g,u as x,a as q,j as e,l as u,a0 as I,k as y,y as O,m as P,F as v,aS as h,r as N,b as d,X as F,aI as k,c as S,s as T,aT as C,e as V}from"./main-0b302a62.js";import{S as w}from"./react-select.esm-baf394b3.js";import{G as R,R as p,A as M}from"./GenerateFields-5ada396c.js";import{F as D}from"./index-383f56fd.js";/* empty css                  */import"./index-ad146f50.js";const j=()=>{g(n=>n.vendorRfqForm);const i=x();new q;const l=(n,c)=>{i(h({[n]:c}))},s=[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"excel-generate",label:"Excel Generated"},{value:"email-sent",label:"Email Sent"},{value:"closed",label:"Closed"}],r={"Vendor RFQ Information":{"Vendor RFQ Name":e("input",{id:"vendor_rfq_name",name:"vendor_rfq_name",className:"form-input flex-1 ",required:!0,onChange:n=>l(n.target.name,n.target.value)}),"Vendor Name":e(u,{defaultOptions:!0,isMulti:!1,id:"vendor_id",placeholder:"Type at least 2 characters to search...",name:"vendor_id",required:!0,loadOptions:I,onChange:({value:n})=>{l("vendor_id",n)},className:"flex-1"}),Status:e(w,{options:s,name:"status",id:"status",required:!0,onChange:({value:n})=>{l("status",n)},className:"flex-1",defaultValue:s.find(n=>n.value=="draft")}),Email:e("input",{id:"email",name:"email",className:"form-input flex-1 ",onChange:n=>l(n.target.name,n.target.value)}),Currency:e(w,{options:y,name:"currency",id:"currency",onChange:({value:n})=>{l("currency",n)},className:"flex-1",defaultValue:y.find(n=>n.value=="EUR")}),"Related RFQs":e(u,{defaultOptions:!0,isMulti:!0,id:"related_rfqs_id",placeholder:"Type at least 2 characters to search...",name:"related_rfqs_id",loadOptions:O,onChange:n=>{l("related_rfqs_id",n.map(c=>c.value))},className:"flex-1"})},"":{Date:e(D,{name:"date",options:{dateFormat:"Y-m-d "},className:"form-input flex-1",placeholder:"YYYY-MM-DD",onChange:(n,c)=>l("date",c)}),"Vendor RFQ Owner":e(u,{defaultOptions:!0,isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:P,onChange:({value:n})=>{l("owner_id",n)},className:"flex-1"}),"Email Opt Out":e("input",{id:"email_opt_out",type:"checkbox",name:"email_opt_out",className:"form-checkbox",onChange:n=>l(n.target.name,n.target.checked)}),"Exchange Rate":e("input",{id:"exchange_rate",name:"exchange_rate",className:"form-input flex-1 ",disabled:!0,onChange:n=>l(n.target.name,n.target.value),defaultValue:1})}};return e(v,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(R,{fields:r})})})},Q=()=>{const i=g(t=>t.vendorRfqForm),[l,s]=N.useState([{id:0,rfq_id:"",alt_product:"",comment:"",lead_time_demand:"",manufacturer_id:"",product_id:"",quantity:"",rfq_owner_name:""}]),r=x(),n=(t,a,o)=>{const m={...i.requested_products[o],[t]:a},f={...i.requested_products,[o]:m};s(Object.values(f)),r(h({requested_products:f}))},c=()=>{let t;t=l!=null&&l.length?l.reduce((o,m)=>m.id>o?m.id:o,l[0].id):0;let a=[...l,{id:t+1}];s(a),r(h({requested_products:a}))},_=[{label:"-None-",value:"none"},{label:"Stock",value:"stock"},{label:"Lead Time",value:"lead_time"}],b=(t=null)=>{const a=l.filter(o=>o.id!=t.id);s(a),r(h({requested_products:a}))};return e(v,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:" w-full ltr:lg:mr-12 rtl:lg:ml-12 mb-12 ",children:d("div",{className:"",children:[e("div",{className:"text-lg",children:"Requested Products :"}),d("div",{className:"mt-8",children:[e("div",{className:"overflow-x-auto	w-11/12",children:d("table",{className:"table-auto w-5",children:[e("thead",{children:d("tr",{children:[d("th",{className:"w-1",children:["Source RFQ ",e(p,{})]}),e("th",{className:"w-1",children:"RFQ Owner Name"}),d("th",{className:"w-1",children:["Product ",e(p,{})]}),e("th",{className:"w-1",children:"Is Alt For This Product"}),d("th",{className:"w-1",children:["Manufacturer ",e(p,{})]}),d("th",{className:"w-1",children:["Quantity ",e(p,{})]}),d("th",{className:"w-1",children:["Lead Time Demand ",e(p,{})]}),e("th",{className:"w-1",children:"Comments"})]})}),e("tbody",{children:l.map(t=>d("tr",{className:"align-top",children:[e("td",{children:e(u,{defaultOptions:!0,isMulti:!1,id:"rfq_id",name:"rfq_id",placeholder:"Type at least 2 characters to search...",loadOptions:O,onChange:({value:a})=>{n("rfq_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e("input",{name:"rfq_owner_name",type:"text",className:"form-input min-w-[200px]",onChange:a=>n(a.target.name,a.target.value,t.id),defaultValue:t.rfq_owner_name})}),e("td",{children:e(u,{defaultOptions:!0,isMulti:!1,id:"product_id",name:"product_id",placeholder:"Type at least 2 characters to search...",loadOptions:F,menuPortalTarget:document.body,onChange:({value:a})=>{n("product_id",a,t.id)},className:"flex-1  min-w-[200px]"})}),e("td",{children:e("input",{name:"alt_product",type:"text",className:"form-input min-w-[200px]",onChange:a=>n(a.target.name,a.target.value,t.id),defaultValue:t.alt_product})}),e("td",{children:e(u,{defaultOptions:!0,isMulti:!1,id:"manufacturer_id",name:"manufacturer_id",placeholder:"Type at least 2 characters to search...",loadOptions:k,onChange:({value:a})=>{n("manufacturer_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e("input",{name:"quantity",id:"quantity",type:"number",className:"form-input min-w-[200px]",min:0,onChange:a=>n(a.target.name,a.target.value,t.id),defaultValue:t.quantity})}),e("td",{children:e(w,{options:_,name:"lead_time_demand",id:"lead_time_demand",onChange:({value:a})=>{n("lead_time_demand",a,t.id)},menuPlacement:"top",defaultValue:_.find(a=>a.value==i.lead_time_demand),menuPortalTarget:document.body,className:"flex-1 min-w-[200px]"})}),e("td",{children:e("textarea",{name:"comment",className:"form-input min-w-[200px]",defaultValue:t.date_code,onChange:a=>n(a.target.name,a.target.value,t.id)})}),e("td",{children:e("button",{type:"button",onClick:()=>b(t),children:d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},t.id))})]})}),e("div",{className:"flex justify-between sm:flex-row flex-col mt-6 px-4",children:e("div",{className:"sm:mb-0 mb-6",children:e("button",{type:"button",className:"btn btn-primary",onClick:()=>c(),children:"Add Item"})})})]})]},"Requested Products Items")})})})},L=()=>{const i=g(t=>t.vendorRfqForm),l=x(),s=(t,a,o)=>{const m={...i.offered_products[o],[t]:a},f={...i.offered_products,[o]:m};n(Object.values(f)),l(h({offered_products:f}))},[r,n]=N.useState([{id:1}]),c=()=>{let t;t=r!=null&&r.length?r.reduce((o,m)=>m.id>o?m.id:o,r[0].id):0;let a=[...r,{id:t+1,name:"",part_id:"",quantity:1,SPQ:"",list_price:"",lead_time:"",date_code:"",comment:"",amount:0}];n(a),l(h({offered_products:a}))},_=[{label:"-None-",value:"none"},{label:"Stock",value:"stock"},{label:"Lead Time",value:"lead_time"}],b=(t=null)=>{const a=r.filter(o=>o.id!=t.id);n(a),l(h({offered_products:a}))};return e(v,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:" w-full ltr:lg:mr-12 rtl:lg:ml-12 mb-12 ",children:d("div",{className:"",children:[e("div",{className:"text-lg",children:"Offered Products :"}),d("div",{className:"mt-8",children:[e("div",{className:"overflow-x-auto	w-11/12",children:d("table",{className:"table-auto w-5",children:[e("thead",{children:d("tr",{children:[e("th",{className:"w-1",children:"Offered MPN"}),e("th",{className:"w-1",children:"Offered Manufacturer"}),e("th",{className:"w-1",children:"Offered Quantity"}),e("th",{className:"w-1",children:"Offered Price (USD)"}),e("th",{className:"w-1",children:"D/C"}),e("th",{className:"w-1",children:"Offered Lead Time"}),e("th",{className:"w-1",children:"Comments"})]})}),e("tbody",{children:r.map(t=>d("tr",{className:"align-top",children:[e("td",{children:e(u,{defaultOptions:!1,isMulti:!1,id:"product_id",name:"product_id",placeholder:"Type at least 2 characters to search...",loadOptions:F,onChange:({value:a})=>{s("product_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e(u,{defaultOptions:!0,isMulti:!1,id:"manufacturer_id",name:"manufacturer_id",placeholder:"Type at least 2 characters to search...",loadOptions:k,onChange:({value:a})=>{s("manufacturer_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e("input",{name:"quantity",type:"text",className:"form-input min-w-[200px]",onChange:a=>s(a.target.name,a.target.value,t.id),defaultValue:t.quantity})}),e("td",{children:e("input",{name:"price",type:"text",className:"form-input min-w-[200px]",onChange:a=>s(a.target.name,a.target.value,t.id),defaultValue:t.price})}),e("td",{children:e("input",{name:"dc",type:"text",className:"form-input min-w-[200px]",onChange:a=>s(a.target.name,a.target.value,t.id),defaultValue:t.dc})}),e("td",{children:e(w,{options:_,name:"offer_lead_time",id:"offer_lead_time",onChange:({value:a})=>{s("offer_lead_time",a,t.id)},menuPlacement:"top",menuPortalTarget:document.body,className:"flex-1 min-w-[200px]"})}),e("td",{children:e("textarea",{name:"comment",className:"form-input min-w-[200px]",defaultValue:t.date_code,onChange:a=>s(a.target.name,a.target.value,t.id)})}),e("td",{children:e("button",{type:"button",onClick:()=>b(t),children:d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},t.id))})]})}),e("div",{className:"flex justify-between sm:flex-row flex-col mt-6 px-4",children:e("div",{className:"sm:mb-0 mb-6",children:e("button",{type:"button",className:"btn btn-primary",onClick:()=>c(),children:"Add Item"})})})]})]},"Quote Items")})})})},E=()=>{g(r=>r.vendorRfqForm);const i=x();new q;const l=(r,n)=>{i(h({[r]:n}))};return e(v,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(R,{fields:{Development:{"Requested Products JSON":e("textarea",{id:"requested_products",rows:2,name:"requested_products",className:"form-textarea flex-1",placeholder:""})},"":{"Is full":e("input",{id:"is_full",type:"checkbox",name:"is_full",className:"form-checkbox",onChange:r=>l(r.target.name,r.target.checked)})}}})})})},A=()=>d("div",{className:"mt-8 px-4",children:[e(j,{},"VendorRFQInformation"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Q,{},"RequestedProducts"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(L,{},"OfferedProducts"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(E,{},"Development")]}),J=()=>{const{hasPermission:i}=S(),l=g(r=>r.vendorRfqForm),s=x();return N.useEffect(()=>{s(T("Vendor Rfq Add"))}),N.useEffect(()=>{s(C())},[]),i("create-vendor-rfq")?d("div",{className:"px-4",children:[e(M,{formState:l,resetForm:C}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(A,{})})})]}):e(V,{})};export{J as default};
