import{j as l,a as e,r as u,F as v,b8 as x,u as N,s as f,b as y}from"./main-22663fbf.js";import{S as w}from"./react-select.esm-d04eef86.js";const C=({name:a,icon:t,isActive:s})=>l("div",{className:`p-4 flex items-center ${s?"bg-blue-500 text-white":"text-gray-400 hover:bg-blue-800 hover:text-white"}`,children:[t&&e("div",{className:"mr-3",children:e("img",{src:t,alt:a,className:"h-6 w-6 mr-3"})}),e("span",{children:a})]}),S=[{name:"All Apps",icon:"/assets/images/app.svg",isActive:!1},{name:"CRM",icon:"/assets/images/sascrm.svg",isActive:!0}],k=()=>e("div",{className:"min-h-screen",children:S.map(a=>e(C,{name:a.name,icon:a.icon,isActive:a.isActive},a.name))}),A=({isOpen:a,onClose:t,onApply:s})=>{const c={modules:"All Modules"},[d,n]=u.useState(c),o=()=>{n(c)},m=[{value:"All Modules",label:"All Modules"},{value:"Invoices",label:"Invoices"},{value:"Sales Orders",label:"Sales Orders"},{value:"Purchase order",label:"Purchase order"},{value:"RFQ",label:"RFQ"},{value:"Quote",label:"Quote"},{value:"Availability",label:"Availability"},{value:"Account",label:"Account"},{value:"Lead",label:"Lead"},{value:"Contact",label:"Contact"},{value:"Vendor",label:"Vendor"},{value:"Call",label:"Call"},{value:"Product",label:"Product"},{value:"VendorRFQ",label:"VendorRFQ"},{value:"Tasks",label:"Tasks"},{value:"Manufacturer",label:"Manufacturer"},{value:"Excess",label:"Excess"},{value:"User",label:"User"}],[r,i]=u.useState([]),p=(h,b)=>{if(h.some(g=>g.value==="All Modules")){i(m);return}switch(b.action){case"select-option":i(h);break;case"deselect-option":i(h);break;case"remove-value":b.removedValue.value==="All Modules"?i([]):i(h);break;case"clear":i([]);break;default:console.warn(`Unknown action: ${b.action}`);break}};return u.useEffect(()=>{n(r.map(h=>h.value))},[r]),a?e("div",{className:"absolute inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e("div",{className:"relative top-20 mx-auto p-5 border w-1/2 shadow-lg rounded-md bg-white",children:l("div",{className:"mt-3 text-center",children:[e("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Advanced Filters"}),e("div",{className:"mt-2 px-7 py-3",children:l("div",{className:"mb-4",children:[e("label",{htmlFor:"modules",className:"block text-gray-700 text-sm font-bold mb-2",children:"Modules"}),e(w,{isMulti:!0,id:"modules",placeholder:"Type at least 2 characters to search...",name:"modules",options:m,value:r,onChange:p,className:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]})}),l("div",{className:"flex justify-between items-center px-4 py-3",children:[e("button",{className:"bg-red-500 text-white active:bg-red-60 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:o,children:"Reset"}),l("div",{children:[e("button",{className:"bg-gray-300 text-gray-700 active:bg-gray-400 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:t,children:"Close"}),e("button",{className:"bg-blue-500 text-white active:bg-blue-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>s(d),children:"Apply"})]})]})]})})}):null},M=({onSearch:a})=>{const[t,s]=u.useState(!1),[c,d]=u.useState(),[n,o]=u.useState("");return l("div",{children:[l("div",{className:"flex justify-between items-center p-4 bg-white shadow",children:[e("input",{type:"text",placeholder:"Search everything",className:"flex-grow p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:n,onChange:b=>{o(b.target.value)}}),e("button",{type:"button",onClick:()=>{a(n)},className:"ml-4 inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:e("span",{children:"Search"})}),e("button",{type:"button",onClick:()=>{s(!0)},className:"ml-4 px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Filter"})]}),e(A,{isOpen:t,onClose:()=>{s(!1)},onApply:b=>{d(b),s(!1)}})]})},F=({item:a,onSelect:t})=>{const s=Object.keys(a)[0],c=s.charAt(0).toUpperCase(),d=n=>{const o={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(n).toLocaleDateString(void 0,o)};return e(v,{children:a[s].map((n,o)=>{var m,r;return l("div",{onClick:()=>t(n),className:"p-2 hover:bg-gray-100 cursor-pointer",children:[l("div",{className:"flex items-center",children:[e("h4",{className:"text-sm font-semibold flex-grow",children:n.model_label_field}),e("h4",{className:"text-xs font-semibold mr-3",children:s}),e("span",{className:"w-8 h-8 mr-2 flex items-center justify-center rounded-full bg-blue-500 text-white font-bold text-xl",children:c})]}),e("div",{className:"grid grid-cols-6 gap-6 mb-6",children:l("div",{className:"col-span-3",children:[l("p",{className:"text-xs text-gray-600",children:[(m=n.owner)==null?void 0:m.first_name," ",(r=n.owner)==null?void 0:r.last_name]}),e("p",{className:"text-xs text-gray-600",children:d(n.created_at)})]})})]},o)})})},_=({selectedItem:a})=>{var t,s,c;return l(v,{children:[l("div",{children:[l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Call Start Time:"}),e("span",{className:"text-sm ml-2",children:(t=a.val)==null?void 0:t.call_start_time})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Call Duration:"}),e("span",{className:"text-sm ml-2",children:(s=a.val)==null?void 0:s.call_duration})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Call Type:"}),e("span",{className:"text-sm ml-2",children:(c=a.val)==null?void 0:c.type})]})]}),e("div",{})]})},O=({selectedItem:a})=>{var t,s,c,d,n,o,m,r,i,p,h;return l(v,{children:[l("div",{children:[l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Account Name:"}),e("span",{className:"text-sm ml-2",children:(s=(t=a.val)==null?void 0:t.account)==null?void 0:s.account_name})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Email:"}),e("span",{className:"text-sm ml-2",children:(c=a.val)==null?void 0:c.email})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Phone:"}),e("span",{className:"text-sm ml-2",children:(d=a.val)==null?void 0:d.phone})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Contact Status:"}),e("span",{className:"text-sm ml-2",children:(n=a.val)==null?void 0:n.contact_status})]})]}),l("div",{children:[l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Contact Type:"}),e("span",{className:"text-sm ml-2",children:(o=a.val)==null?void 0:o.contact_type})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Mailing Country:"}),e("span",{className:"text-sm ml-2",children:(m=a.val)==null?void 0:m.mailing_country})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Mailing City:"}),e("span",{className:"text-sm ml-2",children:(r=a.val)==null?void 0:r.mailing_city})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Mailing Street:"}),e("span",{className:"text-sm ml-2",children:(i=a.val)==null?void 0:i.mailing_street})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Mailing Zip:"}),e("span",{className:"text-sm ml-2",children:(p=a.val)==null?void 0:p.mailing_code})]}),l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Last Activity Date:"}),e("span",{className:"text-sm ml-2",children:(h=a.val)==null?void 0:h.last_activity})]})]})]})},j=({selectedItem:a,itemPath:t})=>{const s=()=>{switch(a.group){case"Call":return e(_,{selectedItem:a});case"Contact":return e(O,{selectedItem:a});default:return null}};return l(v,{children:[l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:l("div",{className:"flex items-center mb-4",children:[l("h3",{className:"text-xl font-bold mr-2",children:[a.group," : ",a.val.model_label_field]}),e("a",{target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",href:t,children:l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M3.27489 15.2957C2.42496 14.1915 2 13.6394 2 12C2 10.3606 2.42496 9.80853 3.27489 8.70433C4.97196 6.49956 7.81811 4 12 4C16.1819 4 19.028 6.49956 20.7251 8.70433C21.575 9.80853 22 10.3606 22 12C22 13.6394 21.575 14.1915 20.7251 15.2957C19.028 17.5004 16.1819 20 12 20C7.81811 20 4.97196 17.5004 3.27489 15.2957Z",stroke:"currentColor","stroke-width":"1.5"}),e("path",{d:"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z",stroke:"currentColor","stroke-width":"1.5"})]})})]})}),e("div",{children:l("div",{className:"mb-4",children:[e("span",{className:"text-sm font-bold",children:"Owner:"}),l("span",{className:"text-sm ml-2",children:[a.val.owner.first_name," ",a.val.owner.last_name]})]})})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s()})]})},R=({results:a})=>{const[t,s]=u.useState({}),[c,d]=u.useState(""),n=(r,i)=>{s({group:r,val:i}),d(`/${x[r]}/preview/${i.id}`)},m=(r=>Object.keys(r).length===0&&r.constructor===Object)(t);return l("div",{className:"flex",children:[e("div",{className:"w-1/3 bg-white overflow-auto",children:a.map((r,i)=>e(F,{item:r,onSelect:p=>n(Object.keys(r)[0],p)},i))}),e("div",{className:"w-2/3 bg-gray-50 p-5",children:m?e("div",{className:"flex justify-center items-center h-full",children:e("p",{children:"Select an item to view details"})}):e(j,{selectedItem:t,itemPath:c})})]})},T=()=>{const a=N();u.useEffect(()=>{a(f("Search"))},[a]);const[t,s]=u.useState([]),c=new y;return e(v,{children:e("div",{className:"panel px-0 border-white-light dark:border-[#1b2e4b]",children:e("div",{className:"personal-setting-table",children:l("div",{className:"grid grid-cols-7 gap-6 mb-6",children:[e("div",{className:"panel col-span-1",children:e(k,{})}),l("div",{className:"panel col-span-6 border rounded-lg shadow-lg bg-white p-5",children:[e(M,{onSearch:async n=>{const o=await c.globalSearchFull({search:n});s(o.data)}}),e(R,{results:t})]})]})})})})};export{T as default};
