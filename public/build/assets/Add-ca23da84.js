import{u as d,a as g,j as m,b as e,$ as r,F as p,c as h,r as _,s as y,f as b,a0 as C}from"./main-8a69f85c.js";import{G as f,A as N}from"./GenerateFields-2d27b3d4.js";/* empty css                  */import{A as o}from"./react-select-async.esm-a4ef796e.js";import{S as u}from"./react-select.esm-bac11f38.js";import{h as x,g as v,b as E,c as w,a as S,s as F,m as k}from"./CommonFunctions-3dfebde0.js";import{C as O}from"./ClearButtonComponent-6f851ca5.js";import"./sweetalert2.all-d4d85d58.js";import"./Select-aecb2a80.esm-5c135cbc.js";const q=()=>{const n=d(),s=g(a=>a.excessForm),l=(a,c)=>{n(r({[a]:c}))},t=[{value:"none",label:"-None-"},{value:"email",label:"Email"},{value:"portal",label:"Portal"}],i={Header:{"Excess Image":m("div",{className:"",children:[m("div",{className:"flex",children:[e("input",{id:"excess_image",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"image/*",onChange:a=>x(a,c=>{n(r({excess_image:`${c==null?void 0:c.data.data.file_url}`}))}),name:"excess_image"},"excess_image"),e(O,{callBack:()=>{const a=document.getElementById("excess_image");a&&(a.value="",a.dispatchEvent(new Event("change",{bubbles:!0}))),n(r({excess_image:null}))}})]}),e("img",{id:"excess_image_preview",src:v(s.excess_image||s.oldImage),alt:"img",className:"mt-4 w-20 h-20 rounded"})]}),"Account Name":e(o,{isMulti:!1,id:"account_id",name:"account_id",required:!0,placeholder:"Type at least 2 characters to search...",loadOptions:E,onChange:({value:a})=>{l("account_id",a)},className:"flex-1"}),Contact:e(o,{isMulti:!1,id:"contact_id",name:"contact_id",placeholder:"Type at least 2 characters to search...",loadOptions:w,onChange:({value:a})=>{l("contact_id",a)},className:"flex-1"}),Email:e("input",{id:"email",type:"text",name:"email",className:"form-input flex-1 ",onChange:a=>l(a.target.name,a.target.value)}),Currency:e(u,{options:S,onChange:({value:a})=>{l("currency",a)},className:"flex-1"}),"Portal Excess Id":e("input",{id:"portal_excess_id",type:"text",name:"portal_excess_id",className:"form-input flex-1 ",onChange:a=>l(a.target.name,a.target.value)})},"":{"Excess Owner":e(o,{isMulti:!1,id:"owner_id",name:"owner_id",placeholder:"Type at least 2 characters to search...",loadOptions:F,onChange:({value:a})=>{l("owner_id",a)},className:"flex-1"}),"Excess File":e("input",{id:"excess_file",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",onChange:a=>x(a,c=>{n(r({excess_file:`${c==null?void 0:c.data.data.file_url}`}))}),name:"excess_file"},"excess_file"),"Excess Source":e(u,{name:"excess_source",id:"excess_source",options:t,onChange:({value:a})=>{l("excess_source",a)},className:"flex-1"}),"Secondary Email":e("input",{id:"secondary_email",type:"text",name:"secondary_email",className:"form-input flex-1 ",onChange:a=>l(a.target.name,a.target.value)}),"Email Opt Out":e("input",{id:"email_opt_out",type:"checkbox",name:"email_opt_out",className:"form-checkbox",onChange:a=>l(a.target.name,a.target.checked)}),"Exchange Rate":e("input",{id:"exchangeRate",type:"text",value:"1",placeholder:"Readonly input hereâ€¦",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0})}};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:i})})})},A=()=>{const n=d(),s=(i,a)=>{n(r({[i]:a}))};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{Status:{"Excess Type":e(u,{options:[{value:"none",label:"-None-"},{value:"line_bid",label:"Line Bid"},{value:"package_bid",label:"Package Bid"},{value:"consignment",label:"Consignment"},{value:"closed",label:"Closed"}],name:"excess_type",id:"excess_type",onChange:({value:i})=>{s("excess_type",i)},className:"flex-1"})},"":{"Excess Name":e("input",{id:"excess_name",type:"text",name:"excess_name",className:"form-input flex-1 ",onChange:i=>s(i.target.name,i.target.value)})}}})})})},P=()=>{const n=d(),s=(t,i)=>{n(r({[t]:i}))};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{"Excess Line":{"Product name":e(o,{isMulti:!1,id:"product_name",name:"product_name",required:!0,placeholder:"Type at least 2 characters to search...",loadOptions:k,onChange:({value:t})=>{s("product_id",t)},className:"flex-1"}),"Customer Internal No.":e("input",{id:"customer_internal_no",type:"text",name:"customer_internal_no",className:"form-input flex-1 ",onChange:t=>s(t.target.name,t.target.value)}),Quantity:e("input",{id:"quantity",type:"text",name:"quantity",className:"form-input flex-1 ",onChange:t=>s(t.target.name,t.target.value)}),Cost:e("input",{id:"cost",type:"text",name:"cost",className:"form-input flex-1 ",onChange:t=>s(t.target.name,t.target.value)})},"":{"Date Code":e("input",{id:"date_code",type:"text",name:"date_code",className:"form-input flex-1 ",onChange:t=>s(t.target.name,t.target.value)}),SPQ:e("input",{id:"spq",type:"text",name:"spq",className:"form-input flex-1 ",onChange:t=>s(t.target.name,t.target.value)}),MOQ:e("input",{id:"moq",type:"text",name:"moq",className:"form-input flex-1 ",onChange:t=>s(t.target.name,t.target.value)}),Comment:e("input",{id:"comment",type:"text",name:"comment",className:"form-input flex-1 ",onChange:t=>s(t.target.name,t.target.value)})}}})})})},T=()=>m("div",{className:"mt-8 px-4",children:[e(q,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(A,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(P,{})]}),G=()=>{const{hasPermission:n}=h(),s=g(t=>t.excessForm),l=d();return _.useEffect(()=>{l(y("Excess Add"))}),n("create-excess")?m("div",{className:"px-4",children:[e(N,{formState:s,resetForm:C}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(T,{})})})]}):e(b,{})};export{G as default};
