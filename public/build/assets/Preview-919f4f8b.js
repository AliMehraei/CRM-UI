import{c as M,u as B,r as o,h as V,d as G,s as U,j as a,e as P,b as i,f as H,i as C,aS as z,a as J}from"./main-cc930730.js";import{A as K}from"./ActionButtonsPreview-2c86593e.js";import{I as r}from"./InformationSectionPreview-f7158369.js";import{M as D}from"./MultipleLineSectionPreview-c72ec239.js";import{A as W}from"./AttachmentDownloadButton-21d4db82.js";import{A as X}from"./AttachmentSection-9e25cbd6.js";import{G as Y}from"./GenerateEmailLogList-c6ada5f2.js";import{G as Z}from"./GenerateCallList-7652583e.js";import"./CommonIcons-0c4cb687.js";import"./sortBy-e6be9ca1.js";import"./_baseIsEqual-4a6c96d9.js";const be=()=>{var u,f,p,v,_,h,g,$,j,y,q,N,O,w,R,F,S,Q,x;const{hasPermission:n}=M(),c=B(),[s,L]=o.useState(!0),l=V().id,A=new J,e=G(t=>t.rfqFormSlice);o.useEffect(()=>{c(U("RFQ Preview"))});const I=()=>{window.print()},k=async()=>{const t=await A.fetchSingleRfq(l);if(t.status!=200)return;const E=t.data.data.rfq;c(z(E))};o.useEffect(()=>{k().then(()=>{L(!1)})},[l]);const m={leftObjects:[{label:"Account Name",value:`${(u=e.account)==null?void 0:u.account_name}`},{label:"Contact Name",value:`${e.contact?((f=e.contact)==null?void 0:f.first_name)+" "+((p=e.contact)==null?void 0:p.last_name):""}`},{label:"Customer RFQ No",value:(v=e.qoute)==null?void 0:v.customer_rfq_no},{label:"Project Name / Application",value:`${e.project_name}`},{label:" RFQ Source",value:`${e.rfq_source}`},{label:"RFQ Type",value:`${e.rfq_type}`},{label:"RFQ Date",value:`${e.rfq_}`},{label:"Status",value:`${e.status}`},{label:"RFQ Date",value:`${e.created_at}`},{label:"Date History",value:`${e.date_history}`},{label:"Exchange Rate",value:`${e.exchange_rate}`},{label:"Portal BOM id",value:`${e.portal_bom_id}`}],rightObjects:[{label:"RFQ Name",value:`${e.rfq_name}`},{label:"Owner Name",value:`${(_=e.owner)==null?void 0:_.first_name} ${(h=e.owner)==null?void 0:h.last_name}`},{label:"Deal Stage",value:`${e.deal_stage}`},{label:"Lost Reason",value:`${(g=e.lead)==null?void 0:g.lost_reason}`},{label:"Lost Reason Comment",value:`${($=e.lead)==null?void 0:$.lost_reason}`},{label:"PM User",value:`${(j=e.pmUser)==null?void 0:j.first_name} ${(y=e.pmUser)==null?void 0:y.last_name}`},{label:"Customer RFQ File",value:a(W,{formAttribute:"customer_rfq_file",modelName:"rfq",formState:e})},{label:"Created By",value:`${(q=e.creator)==null?void 0:q.first_name} ${(N=e.creator)==null?void 0:N.last_name}`},{label:"Modified By",value:`${(O=e.modifier)==null?void 0:O.first_name} ${(w=e.modifier)==null?void 0:w.last_name}`},{label:"RFQ Dead Line",value:`${e.rfq_dead_line}`},{label:"Currency ",value:`${e.currency}`},{label:"Vendor_RFQs_Line",value:`${(R=e.vendor_rfqs_line)==null?void 0:R.map(t=>t.vendor_name)}`}]},d={leftObjects:[{label:"Product Name",value:`${(F=e.product)==null?void 0:F.name}`},{label:"Customer Part Id",value:e.customer_part_id},{label:"Quantity",value:e.quantity},{label:"Target Price",value:e.target_price},{label:"Total",value:parseFloat(e.quantity)*parseFloat(e.target_price)}],rightObjects:[{label:"Alternative Products",value:`${(S=e.rfq_product_alternatives)==null?void 0:S.map(t=>t.product_name)}`}]},b={leftObjects:[{label:"Availability",value:`${(Q=e.availability)==null?void 0:Q.availability_name}`}],rightObjects:[{label:"Excess",value:`${(x=e.excess)==null?void 0:x.excess_name}`}]},T={leftObjects:[{label:"Processed for VRFQ round 1",value:`${e.processed_for_vrfq_round_1}`},{label:"Processed for VRFQ round 2",value:`${e.processed_for_vrfq_round_2}`},{label:"Open Status Time",value:`${e.open_status_date} ${e.open_status_time}`}]};return s?a(P,{}):!n("read-rfq")||s?a(P,{}):i("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(K,{loading:s,hasPermission:n,modelId:l,exportTable:I,routeModel:"rfq",permissionModel:"rfq"})}),i("div",{className:"panel",children:[i("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"RFQ"}),a("div",{className:"shrink-0",children:a("img",{src:H(e.image_data),alt:"RFQ image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a(r,{title:"Header",leftObjects:m.leftObjects,rightObjects:m.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(r,{title:"RFQ Line",leftObjects:d.leftObjects,rightObjects:d.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(D,{sectionTitle:"Special Instructions",data:[{label:"Special Instructions",value:e.special_instructions}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(D,{sectionTitle:"Comment For Vendors ",data:[{label:"Comment For Vendors",value:e.comment}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(r,{title:"Convert TO Quote",leftObjects:b.leftObjects,rightObjects:b.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(r,{title:"Development",leftObjects:T.leftObjects,rightObjects:null}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(r,{title:"Date information",leftObjects:[{label:"Created Date",value:C(e.created_at)}],rightObjects:[{label:"Modified Date",value:C(e.updated_at)}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(X,{modelId:l,modelName:"rfq"}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Z,{permissionName:"read-rfq",type:"call",routeName:"fetchRfqCall",modelId:l,title:"Call Logs"}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Y,{permissionName:"read-rfq",type:"email-log",routeName:"fetchRfqEmailLogs",modelId:l,title:"Email Logs"})]})]})};export{be as default};
