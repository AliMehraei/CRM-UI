import{u as p,d as y,r as c,b as u,j as a,A as C,H as T,G as P,F as f,bb as b,v as _,aD as w,J as R,I as q,aT as j,a1 as D,a0 as E,aN as L,$ as I,K as k,aE as G,M as Q,b9 as $,c as H,s as U,bc as A,e as B}from"./main-47e64be7.js";import{G as h}from"./GenerateFields-ecaae248.js";import{S as d}from"./react-select.esm-a7d99c23.js";import{F as J}from"./index-c90cb229.js";import{a1 as K,a2 as Y,a3 as z}from"./SelectOptions-3a2c6409.js";import{A as W}from"./ActionButtonsComponent-b1e33665.js";/* empty css                  */import"./index-2a8dd478.js";const X=()=>{const r=p(),s=y(e=>e.callForm),[o,l]=c.useState("App\\Models\\Contact"),[i,N]=c.useState("App\\Models\\Account"),[M,g]=c.useState(null),[O,v]=c.useState(null),t=(e,n)=>{r(b({[e]:n}))},x=[{value:"App\\Models\\Lead",label:"Lead"},{value:"App\\Models\\Contact",label:"Contact"}],m=[{value:"App\\Models\\Account",label:"Account",api:_},{value:"App\\Models\\Vendor",label:"Vendor",api:w},{value:"App\\Models\\Quote",label:"Quote",api:R},{value:"App\\Models\\Rfq",label:"Rfq",api:q},{value:"App\\Models\\Excess",label:"Excess",api:j},{value:"App\\Models\\Availability",label:"Availability",api:D},{value:"App\\Models\\Product",label:"Product",api:E},{value:"App\\Models\\Manufacturer",label:"Manufacturer",api:L},{value:"App\\Models\\Deal",label:"Deals",api:I},{value:"App\\Models\\SalesOrder",label:"Sales Order",api:k},{value:"App\\Models\\PurchaseOrder",label:"Purchase Order",api:G},{value:"App\\Models\\Invoice",label:"Invoice",api:Q},{value:"App\\Models\\VendorRfq",label:"Vendor Rfq",api:$}],S=e=>(m.find(F=>F.value===i)??{value:null,label:null,api:_}).api.call(null,e),V={"Call Information":{"Call To":u("div",{className:"flex",children:[a(d,{id:"callable_type",name:"callable_type",onChange:({value:e})=>{l(e),g(null),t("callable_type",e),t("callable_id",null)},defaultValue:x.find(e=>e.value==s.callable_type),className:"flex-none w-64 mr-2",options:x}),a(C,{isMulti:!1,id:"callable_id",placeholder:"Type at least 2 characters to search...",name:"callable_id",value:M,menuPortalTarget:document.body,loadOptions:o==="App\\Models\\Lead"?T:P,onChange:({value:e,label:n})=>{g({value:e,label:n}),t("callable_id",e)},className:"flex-1",required:!0})]}),"Related To":u("div",{className:"flex",children:[a(d,{id:"relatable_type",name:"relatable_type",onChange:({value:e})=>{N(e),v(null),t("relatable_type",e),t("relatable_id",null)},className:"flex-none w-64 mr-2",options:m,defaultValue:m.find(e=>e.value==s.relatable_type)}),a(C,{isMulti:!1,id:"relatable_id",menuPortalTarget:document.body,placeholder:"Type at least 2 characters to search...",name:"relatable_id",loadOptions:e=>S(e),onChange:({value:e,label:n})=>{v({value:e,label:n}),t("relatable_id",e)},value:O,className:"flex-1",required:!0})]}),"Call Type":a(d,{id:"type",name:"type",required:!0,options:K,defaultValue:{value:"ausgehend",label:"Ausgehend"},onChange:({value:e})=>{t("type",e)},className:"flex-1"}),"Outgoing Call Status":a("input",{id:"outgoing_call_status",name:"outgoing_call_status",type:"text",placeholder:"readOnly input hereâ€¦",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",defaultValue:"Abgeschlossen",disabled:!0}),"Call Start Time":a(J,{required:!0,name:"call_start_time","data-enable-time":!0,options:{enableTime:!0,dateFormat:"Y-m-d H:i",position:"auto left"},onChange:(e,n)=>t("call_start_time",n),className:"form-input flex-1"}),"Call Duration":u("div",{className:"flex",children:[a("input",{id:"call_duration_minutes",required:!0,name:"call_duration_minutes",className:"form-input mr-2 flex-1 ",onChange:e=>t(e.target.name,e.target.value),placeholder:"Minutes"}),a("input",{id:"call_duration_seconds",required:!0,name:"call_duration_seconds",className:"form-input ml-2 flex-1 ",onChange:e=>t(e.target.name,e.target.value),placeholder:"Seconds"})]}),Subject:a("input",{required:!0,id:"subject",name:"subject",className:"form-input flex-1 ",defaultValue:"Outgoing call to Unknown",onChange:e=>t(e.target.name,e.target.value)}),"Voice Recording":a("input",{id:"voice_recording",name:"voice_recording",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value)})}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:V})})})},Z=()=>{const r=p(),s=(l,i)=>{r(b({[l]:i}))},o={"Purpose Of Outgoing Call":{"Call Purpose":a(d,{id:"call_purpose",name:"call_purpose",options:Y,menuPortalTarget:document.body,defaultValue:{value:"none",label:"None"},onChange:({value:l})=>{s("call_purpose",l)},className:"flex-1"}),"Call Agenda":a("input",{id:"call_agenda",name:"call_agenda",className:"form-input flex-1 ",onChange:l=>s(l.target.name,l.target.value)})}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:o})})})},ee=()=>{const r=p(),s=(l,i)=>{r(b({[l]:i}))};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:{"Outcome Of Outgoing Call":{"Call Result":a(d,{id:"call_result",name:"call_result",options:z,defaultValue:{value:"none",label:"None"},onChange:({value:l})=>{s("call_result",l)},className:"flex-1"}),Description:a("input",{id:"description",name:"description",className:"form-input flex-1 ",onChange:l=>s(l.target.name,l.target.value)})}}})})})},ae=()=>u("div",{className:"mt-8 px-4",children:[a(X,{}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Z,{}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(ee,{})]}),ue=()=>{const{hasPermission:r}=H(),s=y(l=>l.callForm),o=p();return c.useEffect(()=>{o(U("Call Add"))}),c.useEffect(()=>{o(A())},[]),r("create-call")?u("div",{className:"px-4",children:[a(W,{formState:s,resetForm:A}),a("div",{className:"flex xl:flex-row flex-col gap-2.5",children:a("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6",children:a(ae,{})})})]}):a(B,{})};export{ue as default};
