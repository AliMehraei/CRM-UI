import{a as _,u as x,e as ee,b as e,j as m,F as C,a7 as g,r as q,h as ae,c as ne,q as ie,s as se,a8 as K,g as X}from"./main-c04bb166.js";import{A as b}from"./react-select-async.esm-a7c7d1e9.js";import{S as V}from"./react-select.esm-a460a2c5.js";import{G as S,R as re,A as oe}from"./GenerateFields-302fde9a.js";import{b as ce,c as de,e as ue,s as F,a as Z,l as me,h as he,m as te,q as pe,y as fe,n as ge}from"./CommonFunctions-90d107b8.js";import{F as ve}from"./index-3c565ae9.js";import{A as be}from"./AttachmentSection-4e819460.js";/* empty css                  */import{S as _e}from"./sweetalert2.all-9d5da798.js";import"./Select-aecb2a80.esm-e774644f.js";const xe=()=>{var h,n,o,p,v,w,s,N,k,Q,D,T,j,I,O,A,M,P,R,E,L,B,U,Y,$,H,W;const a=_(i=>i.quoteForm),c=x(),l=new ee,d=[{value:"none",label:"-None-"},{value:"high",label:"High"},{value:"unknown",label:"Unknown"},{value:"low",label:"Low"}],u=[{value:"draft",label:"Draft"},{value:"no_feedback",label:"No Feedback"},{value:"negotiation_price",label:"Negotiation Price"},{value:"negotiation_conditions",label:"Negotiation Conditions"},{value:"open",label:"Open"},{value:"lost",label:"Lost"},{value:"won",label:"Won"}],r=(i,y)=>{c(g({[i]:y}))},f=async i=>{const y=await l.fetchSingleAccount(i);if(y.status!=200)return;const G=y.data.data.account;c(g({account:G}));const le=["billing_street","billing_city","billing_state","billing_code","billing_country","shipping_street","shipping_city","shipping_state","shipping_code","shipping_country"],z={};le.forEach(J=>{z[J]=G[J]??null}),c(g(z))},t={Header:{"Account Name":e(b,{isMulti:!1,id:"account_id",name:"account_id",placeholder:"Type at least 2 characters to search...",loadOptions:ce,onChange:({value:i})=>{r("account_id",i),f(i)},defaultValue:{value:(h=a.account)==null?void 0:h.id,label:m("div",{className:"flex items-center",children:[a.account?e("img",{src:a.account.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,m("div",{children:[e("div",{className:"text-sm font-bold",children:(n=a.account)==null?void 0:n.account_name}),e("div",{className:"text-xs text-gray-500",children:(o=a.account)==null?void 0:o.email})]})]},(p=a.account)==null?void 0:p.id)},className:"flex-1"}),"Contact Name":e(b,{isMulti:!1,id:"contact_id",name:"contact_id",placeholder:"Type at least 2 characters to search...",loadOptions:de,onChange:({value:i})=>{r("contact_id",i)},defaultValue:{value:(v=a.contact)==null?void 0:v.id,label:m("div",{className:"flex items-center",children:[a.contact?e("img",{src:a.contact.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,m("div",{children:[e("div",{className:"text-sm font-bold",children:(w=a.contact)==null?void 0:w.name}),e("div",{className:"text-xs text-gray-500",children:(s=a.contact)==null?void 0:s.email})]})]},(N=a.contact)==null?void 0:N.id)},className:"flex-1"}),RFQ:e(b,{isMulti:!1,id:"rfq_id",name:"rfq_id",placeholder:"Type at least 2 characters to search...",loadOptions:ue,onChange:({value:i})=>{r("rfq_id",i)},defaultValue:{value:(k=a.rfq)==null?void 0:k.id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(Q=a.rfq)==null?void 0:Q.rfq_name})})},(D=a.rfq)==null?void 0:D.id)},className:"flex-1"}),"Customer RFQ No":e("input",{id:"customer_rfq_no",type:"text",name:"customer_rfq_no",className:"form-input flex-1 ",onChange:i=>r(i.target.name,i.target.value),defaultValue:a.customer_rfq_no}),Subject:e("input",{required:!0,id:"subject",name:"subject",type:"text",className:"form-input flex-1 ",onChange:i=>r(i.target.name,i.target.value),defaultValue:a.subject}),"Converted by":e(b,{isMulti:!1,id:"converted_by_id",name:"converted_by_id",placeholder:"Type at least 2 characters to search...",loadOptions:F,className:"flex-1",onChange:({value:i})=>{r("converted_by_id",i)},defaultValue:{value:(T=a.converted_by)==null?void 0:T.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:((j=a.converted_by)==null?void 0:j.first_name)+" "+((I=a.converted_by)==null?void 0:I.last_name)})},(O=a.converted_by)==null?void 0:O.id)}}),"Quote Chance":e(V,{name:"quote_chance",required:!0,options:d,className:"flex-1",onChange:({value:i})=>{r("quote_chance",i)},defaultValue:d.find(i=>i.value==a.quote_chance)}),Currency:e(V,{name:"currency",options:Z,className:"flex-1",onChange:({value:i})=>{r("currency",i)},defaultValue:Z.find(i=>i.value==a.currency)})},"":{"Quote Owner":e(b,{isMulti:!1,id:"owner_id",name:"owner_id",placeholder:"Type at least 2 characters to search...",loadOptions:F,onChange:({value:i})=>{r("owner_id",i)},defaultValue:{value:(A=a.owner)==null?void 0:A.id,label:m("div",{className:"flex items-center",children:[a.owner?e("img",{src:a.owner.avatar??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,m("div",{children:[e("div",{className:"text-sm font-bold",children:((M=a.owner)==null?void 0:M.first_name)+" "+((P=a.owner)==null?void 0:P.last_name)}),e("div",{className:"text-xs text-gray-500",children:(R=a.owner)==null?void 0:R.email})]})]},(E=a.owner)==null?void 0:E.id)},className:"flex-1"}),"PM User":e(b,{required:!0,isMulti:!1,id:"pm_user_id",name:"pm_user_id",placeholder:"Type at least 2 characters to search...",loadOptions:F,onChange:({value:i})=>{r("pm_user_id",i)},defaultValue:{value:(L=a.pm_user)==null?void 0:L.id,label:m("div",{className:"flex items-center",children:[a.pm_user?e("img",{src:a.pm_user.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,m("div",{children:[e("div",{className:"text-sm font-bold",children:(B=a.pm_user)==null?void 0:B.name}),e("div",{className:"text-xs text-gray-500",children:(U=a.pm_user)==null?void 0:U.email})]})]},(Y=a.pm_user)==null?void 0:Y.id)},className:"flex-1"}),"Deals Name":e(b,{isMulti:!1,id:"deal_id",name:"deal_id",placeholder:"Type at least 2 characters to search...",loadOptions:me,onChange:({value:i})=>{r("deal_id",i)},defaultValue:{value:($=a.deal)==null?void 0:$.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(H=a.deal)==null?void 0:H.deal_name})},(W=a.deal)==null?void 0:W.id)},className:"flex-1"}),"Quote Stage":e(V,{name:"quote_stage",required:!0,options:u,className:"flex-1",onChange:({value:i})=>{r("quote_stage",i)},defaultValue:u.find(i=>i.value==a.quote_stage)}),"Quote File(Excel)":m("div",{className:"flex",children:[e("input",{name:"quote_file",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"image/*,.zip,.pdf,.xls,.xlsx,.txt.doc,.docx",onChange:i=>he(i,y=>{c(g({quote_file:`${y==null?void 0:y.data.data.file_url}`}))})}),e("a",{className:"ml-1 cursor-pointer btn btn-outline-primary",href:a.quote_file,target:"_blank",children:"Download"})]}),"Exchange Rate":e("input",{id:"exchangeRate",type:"text",value:"1",placeholder:"Readonly input hereâ€¦",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0})}};return e(C,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(S,{fields:t})})})},Ne=()=>{const a=x(),c=_(r=>r.quoteForm),l=(r,f)=>{a(g({[r]:f}))},d=[{value:"none",label:"-None-"},{value:"1_day",label:"1 Day"},{value:"3_day",label:"3 Days"},{value:"1_week",label:"1 Week"}],u={Status:{"Quote valid":e(V,{options:d,name:"quote_valid",id:"quote_valid",onChange:({value:r})=>{l("converted_by_id",r)},defaultValue:d.find(r=>r.value==c.quote_valid),className:"flex-1"}),"Proactive Offer":e("input",{id:"proactive_offer",type:"checkbox",name:"proactive_offer",className:"form-checkbox",onChange:r=>l(r.target.name,r.target.checked),checked:c.proactive_offer})},"":{Rating:e("input",{id:"rating",name:"rating",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:c.rating})}};return e(C,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(S,{fields:u})})})},ye=()=>{var u,r,f;const a=x(),c=_(t=>t.quoteForm),l=(t,h)=>{a(g({[t]:h}))},d={"Quote Line":{"Product Name":e(b,{isMulti:!1,id:"product_id",name:"product_id",placeholder:"Type at least 2 characters to search...",loadOptions:te,onChange:({value:t})=>{l("product_id",t)},defaultValue:{value:(u=c.product)==null?void 0:u.id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(r=c.product)==null?void 0:r.product_name})})},(f=c.product)==null?void 0:f.id)},className:"flex-1"}),"Customer part ID":e("input",{id:"customer_part_id",name:"customer_part_id",className:"form-input flex-1 ",onChange:t=>l(t.target.name,t.target.value),defaultValue:c.customer_part_id})},"":{Quantity:e("input",{id:"quantity",name:"quantity",className:"form-input flex-1 ",defaultValue:c.quantity,onChange:t=>l(t.target.name,t.target.value)}),"List Price":e("input",{id:"list_price",name:"list_price",className:"form-input flex-1 ",defaultValue:c.list_price,onChange:t=>l(t.target.name,t.target.value)}),"Lead Time":e("input",{id:"lead_time",name:"lead_time",className:"form-input flex-1 ",defaultValue:c.lead_time,onChange:t=>l(t.target.name,t.target.value)})}};return e(C,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(S,{fields:d})})})},Ce=()=>{var u,r,f,t,h,n;const a=_(o=>o.quoteForm),c=x(),l=(o,p)=>{c(g({[o]:p}))},d={Source:{Vendor:e(b,{isMulti:!1,id:"vendor_id",name:"vendor_id",placeholder:"Type at least 2 characters to search...",loadOptions:pe,onChange:({value:o})=>{l("vendor_id",o)},defaultValue:{value:(u=a.vendor)==null?void 0:u.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(r=a.vendor)==null?void 0:r.vendor_name})},(f=a.vendor)==null?void 0:f.id)},className:"flex-1"}),"Availability No":e("input",{id:"availability_no",name:"availability_no",className:"form-input flex-1 ",defaultValue:a.availability_no,onChange:o=>l(o.target.name,o.target.value)}),"Availability Date":e(ve,{name:"availability_date",options:{dateFormat:"Y-m-d ",defaultDate:a.availability_date?new Date(a.availability_date):null},defaultValue:a.availability_date,className:"form-input flex-1",placeholder:"YYYY-MM-DD",onChange:(o,p)=>l("availability_date",p)}),Availability:e(b,{isMulti:!1,id:"availability_id",name:"availability_id",placeholder:"Type at least 2 characters to search...",loadOptions:fe,onChange:({value:o})=>{l("availability_id",o)},defaultValue:{value:(t=a.availability)==null?void 0:t.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(h=a.availability)==null?void 0:h.availability_name})},(n=a.availability)==null?void 0:n.id)},className:"flex-1"})},"":{Cost:e("input",{id:"cost",name:"cost",className:"form-input flex-1 ",defaultValue:a.cost,onChange:o=>l(o.target.name,o.target.value)}),"LT vendor":e("input",{id:"lt_vendor",name:"lt_vendor",className:"form-input flex-1 ",defaultValue:a.lt_vendor,onChange:o=>l(o.target.name,o.target.value)}),SPQ:e("input",{id:"spq",name:"spq",className:"form-input flex-1 ",defaultValue:a.spq,onChange:o=>l(o.target.name,o.target.value)}),"Quantity in Stock":e("input",{id:"quantity_in_stock",name:"quantity_in_stock",defaultValue:a.quantity_in_stock,className:"form-input flex-1 ",onChange:o=>l(o.target.name,o.target.value)})}};return e(C,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(S,{fields:d})})})},we=()=>{var u,r,f,t,h,n,o,p,v,w;const a=_(s=>s.quoteForm),c=x(),l=(s,N)=>{c(g({[s]:N}))},d={"Address Information":{"Billing Street":e("input",{id:"billing_street",name:"billing_street",required:!0,onChange:s=>l(s.target.name,s.target.value),value:a.billing_street||((u=a.account)==null?void 0:u.billing_street)||"",className:"form-input flex-1"}),"Billing City":e("input",{id:"billing_city",name:"billing_city",required:!0,value:a.billing_city||((r=a.account)==null?void 0:r.billing_city)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"}),"Billing State":e("input",{id:"billing_state",name:"billing_state",value:a.billing_state||((f=a.account)==null?void 0:f.billing_state)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"}),"Billing Code":e("input",{id:"billing_code",name:"billing_code",required:!0,value:a.billing_code||((t=a.account)==null?void 0:t.billing_code)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"}),"Billing Country":e("input",{id:"billing_country",name:"billing_country",required:!0,value:a.billing_country||((h=a.account)==null?void 0:h.billing_country)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"})},"":{"Shipping Street":e("input",{id:"shipping_street",name:"shipping_street",value:a.shipping_street||((n=a.account)==null?void 0:n.shipping_street)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"}),"Shipping City":e("input",{id:"shipping_city",name:"shipping_city",value:a.shipping_city||((o=a.account)==null?void 0:o.shipping_city)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"}),"Shipping State":e("input",{id:"shipping_state",name:"shipping_state",value:a.shipping_state||((p=a.account)==null?void 0:p.shipping_state)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"}),"Shipping Code":e("input",{id:"shipping_code",name:"shipping_code",value:a.shipping_code||((v=a.account)==null?void 0:v.shipping_code)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"}),"Shipping Country":e("input",{id:"shipping_country",name:"shipping_country",value:a.shipping_country||((w=a.account)==null?void 0:w.shipping_country)||"",onChange:s=>l(s.target.name,s.target.value),className:"form-input flex-1"})}};return e(C,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(S,{fields:d})})})},qe=()=>{const a=_(d=>d.quoteForm),c=x(),l=(d,u)=>{c(g({[d]:u}))};return e(C,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:"lg:w-1/2 w-full ltr:lg:mr-6 rtl:lg:ml-6 mb-6",children:m("div",{className:"",children:[e("div",{className:"text-lg",children:"Terms and Conditions :"}),m("div",{className:"mt-4 flex items-center",children:[e("label",{className:"ltr:mr-2 rtl:ml-2 w-1/3 mb-0",children:"Terms and Conditions"}),e("textarea",{id:"terms_conditions",rows:3,name:"terms_conditions",className:"form-textarea flex-1",defaultValue:a.terms_conditions,placeholder:"",onChange:d=>l(d.target.name,d.target.value)})]},"terms_conditions")]},"Terms and Conditions")})})})},Se=()=>{const a=_(d=>d.quoteForm),c=x(),l=(d,u)=>{c(g({[d]:u}))};return e(C,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:"lg:w-1/2 w-full ltr:lg:mr-6 rtl:lg:ml-6 mb-6",children:m("div",{className:"",children:[e("div",{className:"text-lg",children:"Description Information :"}),m("div",{className:"mt-4 flex items-center",children:[e("label",{className:"ltr:mr-2 rtl:ml-2 w-1/3 mb-0",children:"Description"}),e("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",placeholder:"",onChange:d=>l(d.target.name,d.target.value),defaultValue:a.description})]},"description")]},"Terms and Conditions")})})})},Ve=()=>{const a=_(t=>t.quoteForm),c=x(),[l,d]=q.useState([]),u=(t,h,n)=>{const o=l.find(N=>N.id===n),p=l.findIndex(N=>N.id===n),v={...o,[t]:h},w=(parseFloat(v.quantity)||0)*(parseFloat(v.list_price)||0);v.amount=w;const s={...l,[p]:v};d(Object.values(s)),c(g({items:s}))};q.useEffect(()=>{d(Object.values(a.items))},[]);const r=()=>{let t;t=l!=null&&l.length?l.reduce((n,o)=>o.id>n?o.id:n,l[0].id):0;let h=[...l,{id:t+1,name:"",part_id:"",quantity:1,SPQ:"",list_price:"",lead_time:"",date_code:"",comment:"",amount:0}];d(h),c(g({items:h}))},f=(t=null)=>{const h=l.filter(n=>n.id!=t.id);d(h),c(g({items:h}))};return e(C,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:" w-full ltr:lg:mr-12 rtl:lg:ml-12 mb-12",children:m("div",{className:"",children:[m("div",{className:"text-lg",children:["Quote Items ",e(re,{})," :"]}),m("div",{className:"mt-8",children:[e("div",{className:"overflow-x-auto	w-11/12",children:m("table",{className:"table-auto",children:[e("thead",{children:m("tr",{children:[e("th",{className:"w-1",children:"Product Name"}),e("th",{className:"w-1",children:"Customer Part ID"}),e("th",{className:"w-1",children:"Quantity"}),e("th",{className:"w-1",children:"SPQ"}),e("th",{className:"w-1",children:"List Price"}),e("th",{className:"w-1",children:"Lead Time"}),e("th",{className:"w-1",children:"Date Code"}),e("th",{className:"w-1",children:"Comment"}),e("th",{className:"w-1",children:"Amount"})]})}),e("tbody",{children:l==null?void 0:l.map(t=>{var h;return m("tr",{className:"align-top",children:[m("td",{children:[e(b,{isMulti:!1,id:"product_id",name:"product_id",placeholder:"Type at least 2 characters to search...",loadOptions:te,onChange:({value:n})=>{u("product_id",n,t.id)},className:"flex-1  min-w-[200px]",defaultValue:{value:t.id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(h=t.product)==null?void 0:h.product_name})})},t.id)}}),",",e("textarea",{name:"description",className:"form-textarea mt-4",placeholder:"Enter Description",onChange:n=>u(n.target.name,n.target.value,t.id),defaultValue:t.description})]}),e("td",{children:e("input",{name:"customer_part_id",type:"text",className:"form-input min-w-[200px]",onChange:n=>u(n.target.name,n.target.value,t.id),defaultValue:t.customer_part_id})}),e("td",{children:e("input",{type:"number",className:"form-input w-32",placeholder:"Quantity",name:"quantity",min:0,onChange:n=>u(n.target.name,n.target.value,t.id),defaultValue:t.quantity})}),e("td",{children:e("input",{name:"spq",type:"text",className:"form-input min-w-[200px]",onChange:n=>u(n.target.name,n.target.value,t.id),defaultValue:t.spq})}),e("td",{children:e("input",{type:"number",className:"form-input w-32",placeholder:"Price",name:"list_price",min:0,defaultValue:t.list_price,onChange:n=>u(n.target.name,n.target.value,t.id)})}),e("td",{children:e("input",{name:"lead_time",type:"text",className:"form-input min-w-[200px]",defaultValue:t.lead_time,onChange:n=>u(n.target.name,n.target.value,t.id)})}),e("td",{children:e("input",{name:"date_code",type:"text",className:"form-input min-w-[200px]",defaultValue:t.date_code,onChange:n=>u(n.target.name,n.target.value,t.id)})}),e("td",{children:e("input",{name:"comment",type:"text",className:"form-input min-w-[200px]",defaultValue:t.comment,onChange:n=>u(n.target.name,n.target.value,t.id)})}),e("td",{children:e("input",{disabled:!0,name:"amount",type:"text",className:"form-input min-w-[200px] disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",value:t.amount,onChange:n=>u(n.target.name,n.target.value,t.id)})}),e("td",{children:e("button",{type:"button",onClick:()=>f(t),children:m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},t.id)})})]})}),e("div",{className:"flex justify-between sm:flex-row flex-col mt-6 px-4",children:e("div",{className:"sm:mb-0 mb-6",children:e("button",{type:"button",className:"btn btn-primary",onClick:()=>r(),children:"Add Item"})})})]})]},"Quote Items")})})})},Fe=()=>{const c=ae().id;return m("div",{className:"mt-8 px-4",children:[e(xe,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Ne,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Ve,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(ye,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Ce,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(we,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(qe,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Se,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(be,{modelId:c,modelName:"quote"})]})},Re=()=>{const{hasPermission:a}=ne(),c=x(),l=_(p=>p.quoteForm),[d,u]=q.useState(!0),f=ae().id,t=new ee,h=ie();q.useEffect(()=>{c(se("Quotes Edit"))}),q.useEffect(()=>{c(K())},[]),q.useEffect(()=>{n().then(()=>{u(!1)})},[f]),q.useEffect(()=>{c(g({api:"updateSingleQuote",redirectTo:"/quotes/edit/:id",action:"edit"}))},[]);const n=async()=>{const p=await t.fetchSingleQuote(f);if(p.status!=200)return;const v=p.data.data.quote;c(g(v))},o=async()=>{try{const p=await t.convertQuoteToSalesOrder({id:l.id});_e.fire({title:"Quote Converted Successfully.",html:`
                <span class="text-blue-500">Do you want to redirect to created SalesOrder ? </span>
                `,showCancelButton:!0,icon:"success",confirmButtonText:"Redirect",denyButtonText:"Close",customClass:{title:"text-blue-500"}}).then(v=>{v.isConfirmed&&h(`/sales/edit/${p.data.salesOrder.id}`,{replace:!0})})}catch(p){ge("Failed to convert Rfq"),console.error(p);return}};return d?e(X,{}):!a("update-quote")||d?e(X,{}):m("div",{className:"px-4",children:[e(oe,{formState:l,resetForm:K}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:m("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:[e("button",{onClick:o,className:"mx-5 btn btn-secondary gap-2",children:"Convert Quote to Sales Order"}),e(Fe,{})]})})]})};export{Re as default};
