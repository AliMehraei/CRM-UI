import{u as b,b as e,F as h,Y as f,r as u,j as s,a as A,s as D}from"./main-8dcc6ef7.js";import{A as P}from"./ActionButtonsComponent-231c005e.js";import{a as O,A as y}from"./react-select-async.esm-36b0e078.js";import{G as j,s as E,b as R,i as B,u as q,c as M,a as z,l as G}from"./CommonFunctions-94d8ff2f.js";import{F as I}from"./index-03834abc.js";import{S as k}from"./react-select.esm-22c93d6f.js";import{k as F,E as V}from"./EditPencilIcon-768b3223.js";import{$}from"./transition-9880b4a1.js";/* empty css                  */import"./sweetalert2.all-31dac5d6.js";import"./Select-aecb2a80.esm-55e31ab5.js";const L=()=>{const c=b();new O;const a=(l,d)=>{c(f({[l]:d}))};return e(h,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(j,{fields:{"Invoice Information":{"Invoice Owner":e(y,{isMulti:!1,id:"owner_id",name:"owner_id",placeholder:"Type at least 2 characters to search...",loadOptions:E,className:"flex-1",onChange:({value:l})=>{a("owner_id",l)}}),Subject:e("input",{id:"subject",required:!0,name:"subject",className:"form-input flex-1 ",onChange:l=>a(l.target.name,l.target.value)}),"Invoice Date":e(I,{options:{dateFormat:"Y-m-d",position:"auto left"},value:"",className:"form-input flex-1",name:"invoice_date",onChange:l=>a("invoice_date",l[0])}),"Due Date":e(I,{options:{dateFormat:"Y-m-d",position:"auto left"},value:"",name:"due_date",className:"form-input flex-1",onChange:l=>a("due_date",l[0])}),"Sales Commission":e("input",{id:"sales_commission",name:"sales_commission",className:"form-input flex-1 ",onChange:l=>a(l.target.name,l.target.value)}),"Account Name":e(y,{isMulti:!1,id:"account_id",placeholder:"Type at least 2 characters to search...",name:"account_id",loadOptions:R,onChange:({value:l})=>{a("account_id",l)},className:"flex-1"}),"Exchange Rate":e("input",{id:"exchangeRate",type:"text",value:"1",placeholder:"Readonly input here…",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0}),ZohoBooksID:e("input",{id:"zoho_books_id",name:"zoho_books_id",className:"form-input flex-1 ",onChange:l=>a(l.target.name,l.target.value)})},"":{"Sales Order":e(y,{isMulti:!1,id:"sales_order_id",placeholder:"Type at least 2 characters to search...",name:"sales_order_id",loadOptions:B,onChange:({value:l})=>{a("sales_order_id",l)},className:"flex-1"}),"Purchase Order":e("input",{id:"purchase_order",name:"purchase_order",className:"form-input flex-1 ",onChange:l=>a(l.target.name,l.target.value)}),"Deal Stage":e(k,{name:"deal_stage",id:"deal_stage",placeholder:"",options:q,onChange:({value:l})=>{a("deal_stage",l)}}),"Excise Duty":e("input",{id:"excise_duty",name:"excise_duty",className:"form-input flex-1 ",onChange:l=>a(l.target.name,l.target.value)}),Status:e(k,{name:"status",id:"status",placeholder:"",options:[{value:"erzeugt",label:"Erzeugt"},{value:"genehmigt",label:"Genehmigt"},{value:"geliefert",label:"Geliefert"},{value:"abgesagt",label:"Abgesagt"}],onChange:({value:l})=>{a("status",l)}}),"Contact Name":e(y,{isMulti:!1,id:"contact_id",placeholder:"Type at least 2 characters to search...",name:"contact_id",loadOptions:M,onChange:({value:l})=>{a("contact_id",l)},className:"flex-1"}),Currency:e(k,{id:"currency",name:"currency",options:z,className:"flex-1"})}}})})})},Y=()=>{const c=b(),a=(t,l)=>{c(f({[t]:l}))};return e(h,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(j,{fields:{"Address Information":{"Billing Street":e("input",{id:"billing_street",name:"billing_street",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"}),"Billing City":e("input",{id:"billing_city",name:"billing_city",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"}),"Billing State":e("input",{id:"billing_state",name:"billing_state",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"}),"Billing Code":e("input",{id:"billing_code",name:"billing_code",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"}),"Billing Country":e("input",{id:"billing_country",name:"billing_country",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"})},"":{"Shipping Street":e("input",{id:"shipping_street",name:"shipping_street",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"}),"Shipping City":e("input",{id:"shipping_city",name:"shipping_city",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"}),"Shipping State":e("input",{id:"shipping_state",name:"shipping_state",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"}),"Shipping Code":e("input",{id:"shipping_code",name:"shipping_code",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"}),"Shipping Country":e("input",{id:"shipping_country",name:"shipping_country",onChange:t=>a(t.target.name,t.target.value),className:"form-input flex-1"})}}})})})},w=({item:c,field:a,handleChangeField:o})=>{const[t,l]=u.useState(!0),d=u.useRef(null),x=u.useRef(null),v=u.useRef(null),g=()=>{l(p=>!p)},C=()=>{var n,i,r;let p;t?p=(x.current?parseFloat((n=x.current)==null?void 0:n.value):0)/100*c.amount:p=v.current?parseFloat((i=v.current)==null?void 0:i.value):0,o(a,p,c.id),(r=d.current)==null||r.click()};return e(h,{children:e(F,{className:"relative",children:({open:p})=>s(h,{children:[e(F.Button,{ref:d,className:"btn w-5 h-5 p-0 rounded-full ml-1",children:e(V,{})}),e($,{as:u.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:e(F.Panel,{className:"absolute left-1/2 z-10 mt-3  max-w-sm -translate-x-1/2 transform px-4 sm:px-0 w-80",children:e("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 ",children:s("div",{className:"relative grid gap-8 bg-white p-7 w-full",children:[s("div",{className:"flex gap-3",children:[s("label",{className:"inline-block",children:[e("input",{checked:t,type:"radio",name:"type",className:"form-radio",onChange:g}),e("span",{children:"Percentage"})]}),e("input",{name:"total",ref:x,hidden:!t,className:"form-input mx-2 w-20  h-8  cursor-text"})]}),s("div",{className:"block gap-3",children:[s("label",{className:"inline-block",children:[e("input",{checked:!t,type:"radio",name:"type",className:"form-radio",onChange:g}),e("span",{className:"",children:"Direct Price Reduction"})]}),e("input",{ref:v,name:"total",hidden:t,className:"form-input mx-2 w-20 h-8 cursor-text"})]}),s("div",{className:"flex gap-3",children:[e("button",{className:"btn btn-primary",onClick:C,children:"Submit"}),e("button",{className:"btn btn-warning",onClick:()=>{var n;return(n=d.current)==null?void 0:n.click()},children:"Cancel"})]})]})})})})]})})})},Q=()=>{const c=b(),[a,o]=u.useState({amount:0,subtotal:0,discount:0,tax:0,adjustment:0,grandTotal:0}),[t,l]=u.useState([{id:1,product_id:null,description:null,quantity:null,list_price:null,amount:null,discount:null,tax:null,total:null}]),d=(n,i,r)=>{const m={...t.find(S=>S.id===r)};m[n]=i;const N=(parseFloat(m.quantity)||0)*(parseFloat(m.list_price)||0),_=N-((parseFloat(m.discount)||0)+(parseFloat(m.tax)||0));m.amount=N,m.total=_,x(m)},x=n=>{const i=t.map(r=>r.id===n.id?{...r,...n}:r);l(i),c(f({items:i}))},v=()=>{let n;n=t!=null&&t.length?t.reduce((i,r)=>r.id>i?r.id:i,t[0].id):0,l([...t,{id:n+1,product_id:null,description:null,quantity:null,list_price:null,amount:null,discount:null,tax:null,total:null}])},g=(n,i)=>{const r={...a};r[n]=parseFloat(i),r.grandTotal=r.subtotal-r.discount+r.tax+r.adjustment,o(r)};u.useEffect(()=>{c(f({summary:a}))},[a]);const C=(n=null)=>{l(t.filter(i=>i.id!==n.id))},p=()=>{const n=t.reduce((S,T)=>S+(parseFloat(T.total)||0),0),i=n,r=a.discount,m=a.tax,N=a.adjustment,_=n-r+m+N;o({amount:i,subtotal:n,discount:r,tax:m,adjustment:N,grandTotal:_})};return u.useEffect(()=>{p()},[t]),e(h,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:" w-full ltr:lg:mr-12 rtl:lg:ml-12 mb-12",children:s("div",{className:"",children:[e("div",{className:"text-lg",children:"Invoice Items :"}),s("div",{className:"mt-8",children:[e("div",{className:"overflow-x",children:s("table",{className:"table-auto overflow-scroll w-full",children:[e("thead",{children:s("tr",{children:[e("th",{className:"w-1",children:"S.NO"}),e("th",{className:"w-full",children:"Product Name"}),e("th",{className:"w-1",children:"Quantity"}),e("th",{className:"w-1",children:"List Price"}),e("th",{className:"w-1",children:"Amount"}),e("th",{className:"w-1",children:"Discount"}),e("th",{className:"w-1",children:"Tax"}),e("th",{className:"w-1",children:"Total"})]})}),e("tbody",{children:t.map(n=>s("tr",{className:"align-top",children:[e("td",{children:n.id}),s("td",{children:[e(y,{isMulti:!1,placeholder:"Type at least 2 characters to search...",name:"product_id",loadOptions:G,onChange:({value:i})=>{d("product_id",i,n.id)},className:"flex-1"}),e("textarea",{name:"description",className:"form-textarea mt-4 flex-1",placeholder:"Enter Description",defaultValue:n.description,onChange:i=>d(i.target.name,i.target.value,n.id)})]}),e("td",{children:e("input",{name:"quantity",type:"text",className:"form-input min-w-[200px]",defaultValue:n.quantity,onChange:i=>d(i.target.name,i.target.value,n.id)})}),e("td",{children:e("input",{type:"number",className:"form-input w-32",placeholder:"Price",name:"list_price",min:0,defaultValue:n.list_price,onChange:i=>d(i.target.name,i.target.value,n.id)})}),e("td",{children:e("input",{name:"amount",type:"number",className:"form-input min-w-[200px]  form-input disabled:pointer-events-none bg-[#eee] dark:bg-[#1b2e4b]  cursor-text",value:n.amount,disabled:!0,onChange:i=>d(i.target.name,i.target.value,n.id)})}),e("td",{children:s("div",{className:"flex",children:[e("input",{name:"discount",type:"number",className:"form-input min-w-[200px]  form-input disabled:pointer-events-none bg-[#eee] dark:bg-[#1b2e4b]  cursor-text",value:n.discount,disabled:!0,onChange:i=>d(i.target.name,i.target.value,n.id)}),e(w,{item:n,handleChangeField:d,field:"discount"})]})}),e("td",{children:s("div",{className:"flex",children:[e("input",{name:"tax",type:"number",className:"form-input min-w-[200px]  form-input disabled:pointer-events-none bg-[#eee] dark:bg-[#1b2e4b]  cursor-text",value:n.tax,disabled:!0,onChange:i=>d(i.target.name,i.target.value,n.id)}),e(w,{item:n,handleChangeField:d,field:"tax"})]})}),e("td",{children:e("input",{name:"total",type:"number",className:"form-input min-w-[200px]  form-input disabled:pointer-events-none bg-[#eee] dark:bg-[#1b2e4b]  cursor-text",defaultValue:n.total,disabled:!0,onChange:i=>d(i.target.name,i.target.value,n.id)})}),e("td",{children:e("button",{type:"button",onClick:()=>C(n),children:s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},n.id))})]})}),s("div",{className:"flex justify-between sm:flex-row flex-col mt-6 px-4",children:[e("div",{className:"sm:mb-0 mb-6",children:e("button",{type:"button",className:"btn btn-primary",onClick:()=>v(),children:"Add Item"})}),s("div",{className:"sm:w-2/5",children:[s("div",{className:"flex items-center justify-between",children:[e("div",{children:"Subtotal(€)"}),e("input",{id:"subtotal",name:"subtotal",type:"text",value:a.subtotal,className:"w-64 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] disabled:cursor-not-allowed",disabled:!0})]}),s("div",{className:"flex items-center justify-between mt-4",children:[e("div",{children:"Discount(€)"}),s("div",{className:"flex",children:[e("input",{id:"discount",name:"discount",type:"text",value:a.discount,disabled:!0,className:"w-56 form-input disabled:pointer-events-none bg-[#eee] dark:bg-[#1b2e4b] cursor-text"}),e(w,{item:a,handleChangeField:g,field:"discount"})]})]}),s("div",{className:"flex items-center justify-between mt-4",children:[e("div",{children:"Tax(€)"}),s("div",{className:"flex",children:[e("input",{id:"tax",name:"tax",type:"text",value:a.tax,disabled:!0,className:"w-56 form-input disabled:pointer-events-none bg-[#eee] dark:bg-[#1b2e4b]  cursor-text"}),e(w,{item:a,handleChangeField:g,field:"tax"})]})]}),s("div",{className:"flex items-center justify-between mt-4",children:[e("div",{children:"Adjustment(€)"}),e("input",{id:"adjustment",name:"adjustment",type:"text",value:a.adjustment,onChange:n=>g(n.target.name,n.target.value),className:"w-64 form-input "})]}),s("div",{className:"flex items-center justify-between mt-4 font-semibold",children:[e("div",{className:"flex-1",children:"Grand Total(€)"}),e("input",{id:"approved_by",name:"approved_by_id",type:"text",value:a.grandTotal,className:"w-64 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0})]})]})]})]})]},"Quote Items")})})})},W=()=>{const c=b(),a=(o,t)=>{c(f({[o]:t}))};return e(h,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:"lg:w-1/2 w-full ltr:lg:mr-6 rtl:lg:ml-6 mb-6",children:s("div",{className:"",children:[e("div",{className:"text-lg",children:"Terms and Conditions :"}),s("div",{className:"mt-4 flex items-center",children:[e("label",{className:"ltr:mr-2 rtl:ml-2 w-1/3 mb-0",children:"Terms and Conditions"}),e("textarea",{id:"terms_and_conditions",rows:3,name:"terms_conditions",className:"form-textarea flex-1",onChange:o=>a(o.target.name,o.target.value),placeholder:""})]},"terms_and_conditions")]},"Terms and Conditions")})})})},Z=()=>{const c=b(),a=(o,t)=>{c(f({[o]:t}))};return e(h,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:"lg:w-1/2 w-full ltr:lg:mr-6 rtl:lg:ml-6 mb-6",children:s("div",{className:"",children:[e("div",{className:"text-lg",children:"Description Information :"}),s("div",{className:"mt-4 flex items-center",children:[e("label",{className:"ltr:mr-2 rtl:ml-2 w-1/3 mb-0",children:"Description"}),e("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",onChange:o=>a(o.target.name,o.target.value),placeholder:""})]},"description")]},"Terms and Conditions")})})})},H=()=>s("div",{className:"mt-8 px-4",children:[e(L,{},"invoiceInformation"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Y,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Q,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(W,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Z,{})]}),re=()=>{const c=A(o=>o.invoiceForm),a=b();return u.useEffect(()=>{a(D("Invoice Add"))}),s("div",{className:"px-4",children:[e(P,{formState:c}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(H,{})})})]})};export{re as default};
