import{a as m,u,e as f,b as a,F as p,af as d,j as y,h as P,c as O,r as _,s as E,ag as A,g as I}from"./main-c04bb166.js";import{G as h,A as L}from"./GenerateFields-302fde9a.js";import{A as v}from"./react-select-async.esm-a7c7d1e9.js";import{S as w}from"./react-select.esm-a460a2c5.js";import{h as V,s as D,a as T,P as j}from"./CommonFunctions-90d107b8.js";import{A as U}from"./AttachmentSection-4e819460.js";import"./sweetalert2.all-9d5da798.js";import"./Select-aecb2a80.esm-e774644f.js";const z=()=>{const r=m(e=>e.vendorForm),i=u();new f;const n=(e,s)=>{i(d({[e]:s}))},l={"Contact Information":{"First Name":a("input",{id:"first_name",name:"first_name",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.first_name}),Phone:a("input",{id:"phone",required:!0,name:"phone",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.phone}),email:a("input",{id:"email",required:!0,name:"email",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.email}),linkedin:a("input",{id:"linkedin",name:"linkedin",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.linkedin})},"":{"Last Name":a("input",{id:"last_name",name:"last_name",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.last_name}),Mobile:a("input",{id:"mobile",name:"mobile",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.mobile}),Website:a("input",{id:"website",name:"website",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.website})}};return a(p,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:l})})})},$=()=>{var b,c,N,S,F;const r=u(),i=new f,n=m(t=>t.vendorForm),l=(t,o)=>{r(d({[t]:o}))},e=async t=>{const o="id",M="vendor_name",k=await i.searchVendor({query:t});if(k.status)return k.data.data.map(C=>({value:C[o],label:a("div",{className:"flex items-center",children:a("div",{children:a("div",{className:"text-sm font-bold",children:C[M]})})},C[o])}))},s=[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"waiting",label:"Waiting for approval"},{value:"approval",label:"Approval"},{value:"rejected",label:"Rejected"}],x=[{value:"none",label:"-None-"},{value:"web",label:"Web Download"},{value:"linkedin",label:"Linkedin"},{value:"chat",label:"Chat"},{value:"messe",label:"Messe"}],g={"Vendor Information":{"Vendor Image":a("input",{id:"vendor_image",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"image/*",onChange:t=>V(t,o=>{r(d({image:`${o==null?void 0:o.data.data.file_url}`}))}),name:"vendorImage"},"vendor_image"),"Vendor Name":a("input",{id:"vendor_name",required:!0,name:"vendor_name",className:"form-input flex-1 ",onChange:t=>l(t.target.name,t.target.value),defaultValue:n.vendor_name}),Contracts:a(v,{isMulti:!0,id:"contracts_id",placeholder:"Type at least 2 characters to search...",name:"contracts_id",loadOptions:e,onChange:t=>{l("contracts_id",t.map(o=>o.value))},className:"flex-1"}),"SL Contains all MFRs":a("input",{id:"is_active",type:"checkbox",name:"is_active",className:"form-checkbox",onChange:t=>l(t.target.name,t.target.checked),checked:n.is_active}),"Strong Lines":a(v,{isMulti:!1,id:"strong_lines",placeholder:"Type at least 2 characters to search...",name:"strong_lines",loadOptions:e,onChange:({value:t})=>{l("strong_lines",t)},className:"flex-1"}),"Line Card":a(v,{isMulti:!1,id:"line_card",placeholder:"Type at least 2 characters to search...",name:"line_card",loadOptions:e,onChange:({value:t})=>{l("line_card",t)},className:"flex-1"}),"Approve status":a(w,{options:s,name:"approved_status",id:"approved_status",onChange:({value:t})=>{l("approved_status",t)},className:"flex-1",defaultValue:s.find(t=>t.value==n.approved_status)}),"Business Vendor":a("input",{id:"business_vendor",type:"checkbox",name:"business_vendor",className:"form-checkbox",onChange:t=>l(t.target.name,t.target.checked),checked:n.business_vendor}),"Approved By":a(v,{isMulti:!1,id:"approved_by",placeholder:"Type at least 2 characters to search...",name:"approved_by_id",loadOptions:D,onChange:({value:t})=>{l("approved_by_id",t)},className:"flex-1"})},"":{"Vendor Owner":a(v,{isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:D,onChange:({value:t})=>{l("owner_id",t)},className:"flex-1",defaultValue:{value:(b=n.owner)==null?void 0:b.id,label:y("div",{className:"flex items-center",children:[n.owner?a("img",{src:n.owner.avatar??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,y("div",{children:[a("div",{className:"text-sm font-bold",children:((c=n.owner)==null?void 0:c.first_name)+" "+((N=n.owner)==null?void 0:N.last_name)}),a("div",{className:"text-xs text-gray-500",children:(S=n.owner)==null?void 0:S.email})]})]},(F=n.owner)==null?void 0:F.id)}}),"Vendor Source":a(w,{options:x,name:"vendor_source",id:"vendor_source",onChange:({value:t})=>{l("vendor_source",t)},defaultValue:x.find(t=>t.value==n.vendor_source),className:"flex-1"}),Currency:a(w,{options:T,name:"currency",id:"currency",onChange:({value:t})=>{l("currency",t)},defaultValue:T.find(t=>t.value==n.currency),className:"flex-1"}),"ISO Upload":a("input",{id:"iso_upload",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"*",onChange:t=>V(t,o=>{r(d({field:"iso_upload",value:`${o==null?void 0:o.data.data.file_url}`}))}),name:"iso_upload"},"iso_upload"),"Doc Upload":a("input",{id:"doc_upload",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"*",onChange:t=>V(t,o=>{r(d({field:"doc_upload",value:`${o==null?void 0:o.data.data.file_url}`}))}),name:"doc_upload"},"doc_upload"),"Parent Vendor":a(v,{isMulti:!1,id:"parent_vendor_id",placeholder:"Type at least 2 characters to search...",name:"parent_vendor_id",loadOptions:e,onChange:({value:t})=>{l("parent_vendor_id",t)},className:"flex-1",defaultValue:{value:n.parent_vendor_id,label:a("div",{className:"flex items-center",children:a("div",{children:a("div",{className:"text-sm font-bold",children:n.parent_vendor_id})})},n.parent_vendor_id)}}),"Portal Access":a(w,{options:j,name:"portal_access",id:"portal_access",onChange:({value:t})=>{l("portal_access",t)},defaultValue:j.find(t=>t.value==n.portal_access),className:"flex-1"})}};return a(p,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:g})})})},B=()=>{const r=m(e=>e.vendorForm),i=u();new f;const n=(e,s)=>{i(d({[e]:s}))},l={"Terms and Shipping":{"Payment Terms":a("input",{id:"payment_terms",name:"payment_terms",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value)}),"Incoterms ":a("input",{id:"incoterms",name:"incoterms",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value)})},"":{"Vat No":a("input",{id:"vat_no",required:!0,name:"vat_no",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.vat_no}),Forwarder:a("input",{id:"forwarder",name:"forwarder",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value)}),"Forwarder Account no.":a("input",{id:"forwarder_account_no",name:"forwarder_account_no",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value)})}};return a(p,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:l})})})},q=()=>{const r=m(e=>e.vendorForm),i=u();new f;const n=(e,s)=>{i(d({[e]:s}))},l={"Address Information":{Street:a("input",{id:"street",name:"street",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.street}),City:a("input",{id:"city",name:"city",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.city}),"Zip Code":a("input",{id:"zip_code",name:"zip_code",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.zip_code}),State:a("input",{id:"state",name:"state",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.state}),Country:a("input",{id:"country",name:"country",className:"form-input flex-1 ",onChange:e=>n(e.target.name,e.target.value),defaultValue:r.country})},"":{}};return a(p,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:l})})})},R=()=>{const r=m(e=>e.vendorForm),i=u();new f;const n=(e,s)=>{i(d({[e]:s}))},l={"Description Information":{Description:a("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",defaultValue:r.description,onChange:e=>n(e.target.name,e.target.value),placeholder:""})},"":{}};return a(p,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:l})})})},W=()=>{const r=m(e=>e.vendorForm),i=u();new f;const n=(e,s)=>{i(d({[e]:s}))},l={"Technical information":{"BOM/Excess Total Uploading Rows":a("input",{id:"bom_excess_total_rows",name:"bom_excess_total_rows",className:"form-input flex-1 ",defaultValue:r.bom_excess_total_rows,onChange:e=>n(e.target.name,e.target.value)})},"":{}};return a(p,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:l})})})},G=()=>{const r=m(e=>e.vendorForm),i=u();new f;const n=(e,s)=>{i(d({[e]:s}))},l={"API Data":{"Octopart ID":a("input",{id:"octopart_id",name:"octopart_id",className:"form-input flex-1 ",defaultValue:r.octopart_id,onChange:e=>n(e.target.name,e.target.value)})},"":{ZohoBooksID:a("input",{id:"zoho_book_id",name:"zoho_book_id",className:"form-input flex-1 ",defaultValue:r.zoho_book_id,onChange:e=>n(e.target.name,e.target.value)})}};return a(p,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:l})})})},Z=()=>{const i=P().id;return y("div",{className:"mt-8 px-4",children:[a($,{},"vendorInfo"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(z,{},"contact"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(B,{},"Terms"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(q,{},"Address"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(R,{},"Description"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(W,{},"Technical"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(G,{},"APi"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(U,{modelId:i,modelName:"vendor"})]})},te=()=>{const{hasPermission:r}=O(),i=m(c=>c.vendorForm),[n,l]=_.useState(!0),s=P().id,x=new f,g=u();_.useEffect(()=>{g(E("Vendor Edit"))}),_.useEffect(()=>{g(A())},[]);const b=async()=>{const c=await x.fetchSingleVendor(s);if(c.status!=200)return;const N=c.data.data.vendor;g(d(N))};return _.useEffect(()=>{b().then(()=>{l(!1)})},[s]),_.useEffect(()=>{g(d({api:"updateSingleVendor",redirectTo:"/vendor/edit/:id",action:"edit"}))},[]),n?a(I,{}):!r("update-vendor")||n?a(I,{}):y("div",{className:"px-4",children:[a(L,{formState:i,resetForm:A}),a("div",{className:"flex xl:flex-row flex-col gap-2.5",children:a("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:a(Z,{})})})]})};export{te as default};
