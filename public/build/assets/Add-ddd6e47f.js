import{u as f,c as M,a as v,b as e,F as k,ah as A,r as d,j as c,s as T,ai as F}from"./main-9b0342c2.js";import{A as g}from"./react-select-async.esm-2234b8d6.js";import{s as D,G as P,e as O,d as q,b as C,p as I,i as R,f as L,u as Y,n as V,m as j,r as Q,l as E,j as B,q as U,k as W,w as G,c as H}from"./CommonFunctions-abe86de7.js";import{S as b}from"./react-select.esm-1dd62acb.js";import{F as _}from"./index-8089a176.js";/* empty css                  */import"./Select-aecb2a80.esm-73074169.js";import"./sweetalert2.all-1b2d968f.js";const $=()=>{const i=f();new M;const o=v(a=>a.taskForm),s=(a,u)=>{i(A({[a]:u}))},h={"Task Information":{"Task Owner":e(g,{isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:D,onChange:({value:a})=>{s("owner_id",a)},className:"flex-1",required:!0}),Subject:e("input",{id:"subject",name:"subject",className:"form-input flex-1 ",onChange:a=>s(a.target.name,a.target.value),required:!0}),"Due Date":e(_,{name:"due_date",options:{dateFormat:"d-m-Y"},className:"form-input flex-1",placeholder:"MM DD YYYY",onChange:(a,u)=>s("due_date",u)}),Status:e(b,{options:[{value:"none",label:"-None-"},{value:"0_cold_task",label:"0.0 Cold task / unqualified (CLU)"},{value:"1_cold_task",label:"1.0 Cold task qualified (CLQ)"},{value:"2_first_contract",label:"2.0 First contact made (FCM)"},{value:"3_warm_task",label:"3.0 warm task qualified (WLQ)"},{value:"4_hot_task",label:"4.0 Hot task (HLQ)"},{value:"close_task",label:"Close Task / Lost Task"}],name:"status",id:"status",onChange:({value:a})=>{s("status",a)},className:"flex-1"}),Priority:e(b,{options:[{value:"none",label:"-None-"},{value:"account_contact",label:"Account or Contact exist already"},{value:"wrong_branch",label:"Wrong Branch"},{value:"wrong_department",label:"Wrong Department"},{value:"does_not_exist",label:"Does Not Exist Anymore"},{value:"bankruptcy",label:"Bankruptcy"},{value:"other",label:"Other"}],name:"priority",id:"priority",onChange:({value:a})=>{s("priority",a)},className:"flex-1"}),Repeat:e("input",{id:"repeat",type:"checkbox",name:"repeat",disabled:!0,className:"form-checkbox",onChange:a=>s(a.target.name,a.target.checked)})},"Description Information":{Description:e("textarea",{id:"description",rows:6,name:"description",className:"form-textarea flex-1",placeholder:"",defaultValue:o.description,onChange:a=>s(a.target.name,a.target.value)})}};return e(k,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(P,{fields:h})})})},z=()=>{const i=f();new M,v(t=>t.taskForm);const[o,s]=d.useState(!1),[m,x]=d.useState(new Date),[h,a]=d.useState(new Date),u=[{value:"email",label:"Email"},{value:"popup",label:"PopUp"},{value:"both",label:"Both"}],p=(t,r)=>{t==="reminder"&&s(r),i(A({[t]:r}))};return e(k,{children:c("div",{className:"p-6 border rounded-md",children:[c("div",{className:"flex items-center space-x-4",children:[e("label",{className:"text-lg font-semibold",children:"Reminder:"}),e("input",{id:"reminder",type:"checkbox",name:"reminder",className:"form-checkbox h-5 w-5 text-blue-600",onChange:t=>p(t.target.name,t.target.checked)})]}),o&&c("div",{className:"my-4 flex items-center space-x-4",children:[e("label",{children:"On:"}),e(_,{className:"p-2 border rounded-md form-input flex-1","data-enable-time":!1,placeholder:"MM DD YYYY",value:m,onChange:(t,r)=>p("reminder_on_date",r),options:{dateFormat:"d-m-Y"}}),e("label",{children:"At:"}),e(_,{className:"p-2 border rounded-md form-input flex-1","data-enable-time":!0,"data-no-calendar":!0,value:h,onChange:t=>{a(t[0]),p("reminder_on_time",t[0])}}),e("label",{children:"Notify Type:"}),e(b,{id:"reminder_type",name:"reminder_type",onChange:({value:t})=>{p("reminder_type",t)},className:"flex-1",options:u})]})]})})},J=()=>{const i=f();new M;const[o,s]=d.useState("App\\Models\\Contact"),[m,x]=d.useState("App\\Models\\Account"),[h,a]=d.useState(null),[u,p]=d.useState(null),t=v(l=>l.taskForm),r=(l,n)=>{i(A({[l]:n}))},N=[{value:"App\\Models\\Lead",label:"Lead"},{value:"App\\Models\\Contact",label:"Contact"}],y=[{value:"App\\Models\\Account",label:"Account",api:C},{value:"App\\Models\\Vendor",label:"Vendor",api:I},{value:"App\\Models\\Quote",label:"Quote",api:R},{value:"App\\Models\\Rfq",label:"Rfq",api:L},{value:"App\\Models\\Excess",label:"Excess",api:Y},{value:"App\\Models\\Availability",label:"Availability",api:V},{value:"App\\Models\\Product",label:"Product",api:j},{value:"App\\Models\\Manufacturer",label:"Manufacturer",api:Q},{value:"App\\Models\\Deal",label:"Deals",api:E},{value:"App\\Models\\SalesOrder",label:"Sales Order",api:B},{value:"App\\Models\\PurchaseOrder",label:"Purchase Order",api:U},{value:"App\\Models\\Invoice",label:"Invoice",api:W},{value:"App\\Models\\VendorRfq",label:"Vendor Rfq",api:G}],S=l=>{const n=y.find(w=>w.value===m)??{value:"App\\Models\\Account",label:"Account",api:C};return console.log("===================================="),console.log(n.api),console.log("===================================="),n.api.call(null,l)};return e(k,{children:c("div",{className:"p-6 border rounded-md",children:[c("div",{className:"flex items-center space-x-4 mb-5",children:[e("label",{className:"font-semibold",children:"Lead | Contact:"}),e(b,{id:"userable_type",name:"userable_type",defaultValue:N.find(l=>l.value==t.userable_type),onChange:({value:l})=>{s(l),r("userable_type",l),a(null)},className:"flex-1",options:N}),e(g,{isMulti:!1,id:"userable_id",placeholder:"Type at least 2 characters to search...",name:"userable_id",value:h,menuPortalTarget:document.body,menuPlacement:"top",loadOptions:o==="App\\Models\\Lead"?O:q,onChange:({value:l,label:n})=>{a({value:l,label:n}),r("userable_id",l)},className:"flex-1",required:!0},o)]}),c("div",{className:"flex items-center space-x-4",children:[e("label",{className:"font-semibold",children:"Select Module :"}),e(b,{id:"moduleable_type",name:"moduleable_type",menuPortalTarget:document.body,menuPlacement:"top",defaultValue:y.find(l=>l.value==t.moduleable_type),onChange:({value:l})=>{x(l),r("moduleable_type",l),p(null)},className:"flex-1",options:y}),e(g,{isMulti:!1,id:"moduleable_id",menuPortalTarget:document.body,menuPlacement:"top",placeholder:"Type at least 2 characters to search...",name:"moduleable_id",value:u,loadOptions:l=>S(l),onChange:({value:l,label:n})=>{p({value:l,label:n}),r("moduleable_id",l)},className:"flex-1",required:!0},m)]})]})})},K=()=>c("div",{className:"mt-8 px-4",children:[e($,{},"leadInfo"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(z,{},"Reminder"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(J,{},"type"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"})]}),oe=()=>{const i=v(s=>s.taskForm),o=f();return d.useEffect(()=>{o(T("Task Add"))}),c("div",{className:"px-4",children:[e(H,{formState:i,resetForm:F}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(K,{})})})]})};export{oe as default};
