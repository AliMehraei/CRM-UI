import{u as _,a as v,j as u,b as e,$ as f,F as w,e as b,c as y,r as h,h as F,s as S,d as N,a0 as I}from"./main-8c659d75.js";import{A as g}from"./react-select-async.esm-e686b623.js";import{G as C,A as M}from"./GenerateFields-e427e4d2.js";import{h as E,g as A,s as V}from"./CommonFunctions-a8ba45d1.js";import{C as j}from"./ClearButtonComponent-014a4d14.js";import"./Select-aecb2a80.esm-4b2d5e83.js";import"./sweetalert2.all-120fb9f5.js";const k=()=>{var m,c,o,l,r;const n=_(),t=v(a=>a.manufacturerForm),s=(a,i)=>{n(f({[a]:i}))},d={"Manufacturer Information":{"Manufacturer Image":u("div",{className:"",children:[u("div",{className:"flex",children:[e("input",{id:"manufacturer_image",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"image/*",onChange:a=>E(a,i=>{n(f({image:`${i==null?void 0:i.data.data.file_url}`}))}),name:"manufacturerImage"},"manufacturer_image"),e(j,{callBack:()=>{const a=document.getElementById("manufacturer_image");a&&(a.value="",a.dispatchEvent(new Event("change",{bubbles:!0}))),n(f({image:null}))}})]}),e("img",{id:"manufacturer_image_preview",src:A(t.image||t.oldImage),alt:"img",className:"mt-4 w-20 h-20 rounded"})]}),"Manufacturer Name":e("input",{id:"name",required:!0,name:"name",className:"form-input flex-1 ",onChange:a=>s(a.target.name,a.target.value),value:t.name}),"Octo Api Id":e("input",{id:"octo_api_id",name:"octo_api_id",className:"form-input flex-1 ",onChange:a=>s(a.target.name,a.target.value),value:t.octo_api_id}),"Alias Names":e("textarea",{id:"alias_names",name:"alias_names",rows:3,className:"form-textarea flex-1",onChange:a=>s(a.target.name,a.target.value),value:t.alias_names})},"":{Active:e("input",{id:"is_active",type:"checkbox",name:"is_active",className:"form-checkbox",onChange:a=>s(a.target.name,a.target.checked),checked:t.is_active}),"Manufacturer Owner":e(g,{isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:V,onChange:({value:a})=>{s("owner_id",a)},className:"flex-1",defaultValue:{value:(m=t.owner)==null?void 0:m.id,label:u("div",{className:"flex items-center",children:[t.owner?e("img",{src:t.owner.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,u("div",{children:[e("div",{className:"text-sm font-bold",children:((c=t.owner)==null?void 0:c.first_name)+" "+((o=t.owner)==null?void 0:o.last_name)}),e("div",{className:"text-xs text-gray-500",children:(l=t.owner)==null?void 0:l.email})]})]},(r=t.owner)==null?void 0:r.id)}})}};return e(w,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(C,{fields:d})})})},L=()=>{var o,l;const n=v(r=>r.manufacturerForm),t=_(),s=new b,d=(r,a)=>{t(f({[r]:a}))},m=async r=>{const a="id",i="vendor_name",x=await s.searchVendor({query:r});if(x.status)return x.data.data.map(p=>({value:p[a],label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:p[i]})})},p[a])}))},c={"Line Card":{"Vendor_Line Card":e(g,{isMulti:!1,id:"vendor_line_card_id",name:"vendor_line_card_id",placeholder:"Type at least 2 characters to search...",loadOptions:m,className:"flex-1",onChange:({value:r})=>{d("vendor_line_card_id",r)},defaultValue:{value:n.vendor_line_card_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(o=n.vendor_line_card)==null?void 0:o.vendor_name})})},n.vendor_line_card_id)}})},"":{"Vendor_Strong Lines":e(g,{isMulti:!1,id:"vendor_strong_lines_id",name:"vendor_strong_lines_id",placeholder:"Type at least 2 characters to search...",loadOptions:m,className:"flex-1",onChange:({value:r})=>{d("vendor_strong_lines_id",r)},defaultValue:{value:n.vendor_strong_lines_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(l=n.vendor_strong_lines)==null?void 0:l.vendor_name})})},n.vendor_strong_lines_id)}})}};return e(w,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(C,{fields:c})})})},O=()=>u("div",{className:"mt-8 px-4",children:[e(k,{},"manufacturerInfo"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(L,{},"lineCard")]}),q=()=>{const{hasPermission:n}=y(),t=v(a=>a.manufacturerForm),[s,d]=h.useState(!0),c=F().id,o=new b,l=_();h.useEffect(()=>{l(S("Manufacturer Edit"))});const r=async()=>{const a=await o.fetchSingleManufacturer(c);if(a.status!=200)return;const i=a.data.data.manufacturer;i.oldImage=i.image,l(f(i))};return h.useEffect(()=>{r().then(()=>{d(!1)})},[c]),h.useEffect(()=>{l(f({api:"updateSingleManufacturer",redirectTo:"/manufacturer/edit/:id",action:"edit"}))},[]),s?e(N,{}):!n("update-manufacturer")||s?e(N,{}):u("div",{className:"px-4",children:[e(M,{formState:t,resetForm:I}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(O,{})})})]})};export{q as default};
