import{c as _,u as y,r as i,h as L,d as j,s as E,j as a,e as v,b as r,f as N,p as $,a as P}from"./main-09c635dc.js";import{I as D}from"./InfoListComponent-53c026d7.js";import{A as M}from"./ActionButtonsPreview-e92736d6.js";import"./CommonIcons-a7d39a6f.js";const F=()=>{var m,c,d,u,p,f;const{hasPermission:n}=_(),o=y(),[t,g]=i.useState(!0),l=L().id,b=new P,e=j(s=>s.emailLogForm);i.useEffect(()=>{o(E("Email Log Preview"))});const h=()=>{window.print()},w=async()=>{const s=await b.fetchSingleEmailLog(l);if(s.status!=200)return;const S=s.data.data;o($(S))},x=[{label:"Subject",value:e.subject},{label:"Receiver Mail",value:e.receiver_mail},{label:"Sender Email",value:e.sender_email},{label:"Owner",value:`${((m=e.owner)==null?void 0:m.first_name)??""} ${((c=e.owner)==null?void 0:c.last_name)??""}`},{label:"Sender Name",value:e.sender_name},{label:"Sender Type",value:e.sender_type},{label:"Status",value:e.status},{label:"Mail Status",value:e.mail_status},{label:"Created By",value:`${((d=e.creator)==null?void 0:d.first_name)??""} ${((u=e.creator)==null?void 0:u.last_name)??""}`},{label:"Modified By",value:`${((p=e.modifier)==null?void 0:p.first_name)??""} ${((f=e.modifier)==null?void 0:f.last_name)??""}`}];return i.useEffect(()=>{w().then(()=>{g(!1)})},[l]),t?a(v,{}):!n("read-email-log")||t?a(v,{}):r("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(M,{loading:t,hasPermission:n,modelId:l,exportTable:h,routeModel:"account",permissionModel:"account"})}),r("div",{className:"panel",children:[r("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Email Log"}),a("div",{className:"shrink-0",children:a("img",{src:N(e.image_data),alt:"account image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a(D,{data:x})]})]})};export{F as default};
