import{u as v,d as _,j as e,aF as f,l as p,m as F,b as h,f as y,F as N,a as w,h as b,c as S,r as u,aG as g,s as M,e as x}from"./main-0b302a62.js";import{G as C,A as I}from"./GenerateFields-5ada396c.js";import{I as A}from"./ImageUploadComponent-5ea77a77.js";import{A as O}from"./AttachmentSection-354ba50f.js";import"./index-ad146f50.js";import"./ClearButtonComponent-a191a875.js";const E=()=>{var d,o,t,n,m;const i=v(),r=_(a=>a.manufacturerForm),s=(a,l)=>{i(f({[a]:l}))},c={"Manufacturer Information":{"Manufacturer Image":e(A,{formState:r,modelName:"manufacturer",id:"manufacturer_image",formAttribute:"image",updateFormData:f}),"Manufacturer Name":e("input",{id:"name",required:!0,name:"name",className:"form-input flex-1 ",onChange:a=>s(a.target.name,a.target.value),value:r.name}),"Octo Api Id":e("input",{id:"octo_api_id",name:"octo_api_id",className:"form-input flex-1 ",onChange:a=>s(a.target.name,a.target.value),value:r.octo_api_id}),"Alias Names":e("textarea",{id:"alias_names",name:"alias_names",rows:3,className:"form-textarea flex-1",onChange:a=>s(a.target.name,a.target.value),value:r.alias_names})},"":{Active:e("input",{id:"is_active",type:"checkbox",name:"is_active",className:"form-checkbox",onChange:a=>s(a.target.name,a.target.checked),checked:r.is_active}),"Manufacturer Owner":e(p,{defaultOptions:!0,isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:F,onChange:({value:a})=>{s("owner_id",a)},className:"flex-1",defaultValue:{value:(d=r.owner)==null?void 0:d.id,label:h("div",{className:"flex items-center",children:[r.owner?e("img",{src:y(r.owner.avatar_data),alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,h("div",{children:[e("div",{className:"text-sm font-bold",children:((o=r.owner)==null?void 0:o.first_name)+" "+((t=r.owner)==null?void 0:t.last_name)}),e("div",{className:"text-xs text-gray-500",children:(n=r.owner)==null?void 0:n.email})]})]},(m=r.owner)==null?void 0:m.id)}})}};return e(N,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(C,{fields:c})})})},V=()=>{const i=_(t=>t.manufacturerForm),r=v(),s=new w,c=(t,n)=>{r(f({[t]:n}))},d=async t=>{const n="id",m="vendor_name",a=await s.searchVendor({query:t});if(a.status)return a.data.data.map(l=>({value:l[n],label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:l[m]})})},l[n])}))},o={"Line Card":{"Vendor_Line Card":e(p,{defaultOptions:!0,isMulti:!0,id:"vendor_line_card_id",name:"vendor_line_card_id",placeholder:"Type at least 2 characters to search...",loadOptions:d,className:"flex-1",onChange:t=>{c("vendor_line_card_ids",t.map(n=>n.value))},defaultValue:i.vendor_line_cards?i.vendor_line_cards.map(t=>({value:t.id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:t.vendor_name})})},t.id)})):[]})},"":{"Vendor_Strong Lines":e(p,{defaultOptions:!0,isMulti:!0,id:"vendor_strong_lines_id",name:"vendor_strong_lines_id",placeholder:"Type at least 2 characters to search...",loadOptions:d,className:"flex-1",onChange:t=>{c("vendor_strong_lines_ids",t.map(n=>n.value))},defaultValue:i.vendor_strong_lines?i.vendor_strong_lines.map(t=>({value:t.id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:t.vendor_name})})},t.id)})):[]})}};return e(N,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(C,{fields:o})})})},k=()=>{const r=b().id;return h("div",{className:"mt-8 px-4",children:[e(E,{},"manufacturerInfo"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(V,{},"lineCard"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(O,{modelId:r,modelName:"manufacturer"})]})},P=()=>{const{hasPermission:i}=S(),r=_(a=>a.manufacturerForm),[s,c]=u.useState(!0),o=b().id,t=new w,n=v();u.useEffect(()=>{n(g())},[]),u.useEffect(()=>{n(M("Manufacturer Edit"))});const m=async()=>{const a=await t.fetchSingleManufacturer(o);if(a.status!=200)return;const l=a.data.data.manufacturer;l.oldImage=l.image,n(f(l))};return u.useEffect(()=>{m().then(()=>{c(!1)})},[o]),u.useEffect(()=>{n(f({api:"updateSingleManufacturer",redirectTo:"/manufacturer/edit/:id",action:"edit"}))},[]),s?e(x,{}):!i("update-manufacturer")||s?e(x,{}):h("div",{className:"px-4",children:[e(I,{formState:r,resetForm:g}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6",children:e(k,{})})})]})};export{P as default};
