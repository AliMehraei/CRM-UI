import{a as c,u as m,e as u,b as a,F as f,aO as i,C as M,m as k,j as C,f as E,l as A,aP as I,h as j,c as U,r as v,s as L,aQ as D,d as O}from"./main-14f615f5.js";import{G as p,A as z}from"./GenerateFields-622759ee.js";import{A as _}from"./react-select-async.esm-fa6aa9d3.js";import{S as x}from"./react-select.esm-f82d134e.js";import{I as B}from"./ImageUploadComponent-b994b13c.js";import{F as T}from"./FileUploadComponent-7e09e5eb.js";import{A as q}from"./AttachmentSection-b44113f0.js";import"./Select-aecb2a80.esm-a628f797.js";import"./ClearButtonComponent-f1847924.js";const R=()=>{const r=c(e=>e.vendorForm),l=m();new u;const t=(e,s)=>{l(i({[e]:s}))},o={"Contact Information":{"First Name":a("input",{id:"first_name",name:"first_name",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.first_name}),Phone:a("input",{id:"phone",required:!0,name:"phone",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.phone}),email:a("input",{id:"email",required:!0,name:"email",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.email}),linkedin:a("input",{id:"linkedin",name:"linkedin",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.linkedin})},"":{"Last Name":a("input",{id:"last_name",name:"last_name",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.last_name}),Mobile:a("input",{id:"mobile",name:"mobile",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.mobile}),Website:a("input",{id:"website",name:"website",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.website})}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(p,{fields:o})})})},W=()=>{var N,d,w,V,S;const r=m(),l=new u,t=c(n=>n.vendorForm),o=(n,g)=>{r(i({[n]:g}))},e=async n=>{const g="id",P="vendor_name",F=await l.searchVendor({query:n});if(F.status)return F.data.data.map(y=>({value:y[g],label:a("div",{className:"flex items-center",children:a("div",{children:a("div",{className:"text-sm font-bold",children:y[P]})})},y[g])}))},s=[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"waiting",label:"Waiting for approval"},{value:"approval",label:"Approval"},{value:"rejected",label:"Rejected"}],b=[{value:"none",label:"-None-"},{value:"web",label:"Web Download"},{value:"linkedin",label:"Linkedin"},{value:"chat",label:"Chat"},{value:"messe",label:"Messe"}],h={"Vendor Information":{"Vendor Image":a(B,{formState:t,modelName:"vendor",id:"vendor_image",formAttribute:"image",updateFormData:i}),"Vendor Name":a("input",{id:"vendor_name",required:!0,name:"vendor_name",className:"form-input flex-1 ",onChange:n=>o(n.target.name,n.target.value),defaultValue:t.vendor_name}),Contracts:a(x,{isMulti:!0,name:"contract",id:"contract",placeholder:"Select Contract Type...",options:M,onChange:n=>{o("contract",n.map(g=>g.value))},defaultValue:t.contract?t.contract.map(n=>({value:n,label:n})):[]}),"SL Contains all MFRs":a("input",{id:"is_active",type:"checkbox",name:"is_active",className:"form-checkbox",onChange:n=>o(n.target.name,n.target.checked),checked:t.is_active}),"Strong Lines":a(_,{defaultOptions:!0,isMulti:!1,id:"strong_lines",placeholder:"Type at least 2 characters to search...",name:"strong_lines",loadOptions:e,onChange:({value:n})=>{o("strong_lines",n)},className:"flex-1"}),"Line Card":a(_,{defaultOptions:!0,isMulti:!1,id:"line_card",placeholder:"Type at least 2 characters to search...",name:"line_card",loadOptions:e,onChange:({value:n})=>{o("line_card",n)},className:"flex-1"}),"Approve status":a(x,{options:s,name:"approved_status",id:"approved_status",onChange:({value:n})=>{o("approved_status",n)},className:"flex-1",defaultValue:s.find(n=>n.value==t.approved_status)}),"Business Vendor":a("input",{id:"business_vendor",type:"checkbox",name:"business_vendor",className:"form-checkbox",onChange:n=>o(n.target.name,n.target.checked),checked:t.business_vendor}),"Approved By":a(_,{defaultOptions:!0,isMulti:!1,id:"approved_by",placeholder:"Type at least 2 characters to search...",name:"approved_by_id",loadOptions:k,onChange:({value:n})=>{o("approved_by_id",n)},className:"flex-1"})},"":{"Vendor Owner":a(_,{defaultOptions:!0,isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:k,onChange:({value:n})=>{o("owner_id",n)},className:"flex-1",defaultValue:{value:(N=t.owner)==null?void 0:N.id,label:C("div",{className:"flex items-center",children:[t.owner?a("img",{src:E(t.owner.avatar),alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,C("div",{children:[a("div",{className:"text-sm font-bold",children:((d=t.owner)==null?void 0:d.first_name)+" "+((w=t.owner)==null?void 0:w.last_name)}),a("div",{className:"text-xs text-gray-500",children:(V=t.owner)==null?void 0:V.email})]})]},(S=t.owner)==null?void 0:S.id)}}),"Vendor Source":a(x,{options:b,name:"vendor_source",id:"vendor_source",onChange:({value:n})=>{o("vendor_source",n)},defaultValue:b.find(n=>n.value==t.vendor_source),className:"flex-1"}),Currency:a(x,{options:A,name:"currency",id:"currency",onChange:({value:n})=>{o("currency",n)},defaultValue:A.find(n=>n.value==t.currency),className:"flex-1"}),"ISO Upload":a(T,{id:"iso_upload",updateFormData:i,formState:t,modelName:"vendor",formAttribute:"iso_upload"}),"Doc Upload":a(T,{id:"doc_upload",updateFormData:i,formState:t,modelName:"vendor",formAttribute:"doc_upload"}),"Parent Vendor":a(_,{defaultOptions:!0,isMulti:!1,id:"parent_vendor_id",placeholder:"Type at least 2 characters to search...",name:"parent_vendor_id",loadOptions:e,onChange:({value:n})=>{o("parent_vendor_id",n)},className:"flex-1",defaultValue:{value:t.parent_vendor_id,label:a("div",{className:"flex items-center",children:a("div",{children:a("div",{className:"text-sm font-bold",children:t.parent_vendor_id})})},t.parent_vendor_id)}}),"Portal Access":a(x,{options:I,name:"portal_access",id:"portal_access",onChange:({value:n})=>{o("portal_access",n)},defaultValue:I.find(n=>n.value==t.portal_access),className:"flex-1"})}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(p,{fields:h})})})},$=()=>{const r=c(e=>e.vendorForm),l=m();new u;const t=(e,s)=>{l(i({[e]:s}))},o={"Terms and Shipping":{"Payment Terms":a("input",{id:"payment_terms",name:"payment_terms",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value)}),"Incoterms ":a("input",{id:"incoterms",name:"incoterms",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value)})},"":{"Vat No":a("input",{id:"vat_no",required:!0,name:"vat_no",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.vat_no}),Forwarder:a("input",{id:"forwarder",name:"forwarder",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value)}),"Forwarder Account no.":a("input",{id:"forwarder_account_no",name:"forwarder_account_no",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value)})}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(p,{fields:o})})})},G=()=>{const r=c(e=>e.vendorForm),l=m();new u;const t=(e,s)=>{l(i({[e]:s}))},o={"Address Information":{Street:a("input",{id:"street",name:"street",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.street}),City:a("input",{id:"city",name:"city",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.city}),"Zip Code":a("input",{id:"zip_code",name:"zip_code",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.zip_code}),State:a("input",{id:"state",name:"state",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.state}),Country:a("input",{id:"country",name:"country",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value),defaultValue:r.country})},"":{}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(p,{fields:o})})})},Z=()=>{const r=c(e=>e.vendorForm),l=m();new u;const t=(e,s)=>{l(i({[e]:s}))},o={"Description Information":{Description:a("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",defaultValue:r.description,onChange:e=>t(e.target.name,e.target.value),placeholder:""})},"":{}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(p,{fields:o})})})},Q=()=>{const r=c(e=>e.vendorForm),l=m();new u;const t=(e,s)=>{l(i({[e]:s}))},o={"Technical information":{"BOM/Excess Total Uploading Rows":a("input",{id:"bom_excess_total_rows",name:"bom_excess_total_rows",className:"form-input flex-1 ",defaultValue:r.bom_excess_total_rows,onChange:e=>t(e.target.name,e.target.value)})},"":{}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(p,{fields:o})})})},H=()=>{const r=c(e=>e.vendorForm),l=m();new u;const t=(e,s)=>{l(i({[e]:s}))},o={"API Data":{"Octopart ID":a("input",{id:"octopart_id",name:"octopart_id",className:"form-input flex-1 ",defaultValue:r.octopart_id,onChange:e=>t(e.target.name,e.target.value)})},"":{ZohoBooksID:a("input",{id:"zoho_book_id",name:"zoho_book_id",className:"form-input flex-1 ",defaultValue:r.zoho_book_id,onChange:e=>t(e.target.name,e.target.value)})}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(p,{fields:o})})})},J=()=>{const l=j().id;return C("div",{className:"mt-8 px-4",children:[a(W,{},"vendorInfo"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(R,{},"contact"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a($,{},"Terms"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(G,{},"Address"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Z,{},"Description"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Q,{},"Technical"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(H,{},"APi"),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(q,{modelId:l,modelName:"vendor"})]})},le=()=>{const{hasPermission:r}=U(),l=c(d=>d.vendorForm),[t,o]=v.useState(!0),s=j().id,b=new u,h=m();v.useEffect(()=>{h(L("Vendor Edit"))}),v.useEffect(()=>{h(D())},[]);const N=async()=>{const d=await b.fetchSingleVendor(s);if(d.status!=200)return;const w=d.data.data.vendor;h(i(w))};return v.useEffect(()=>{N().then(()=>{o(!1)})},[s]),v.useEffect(()=>{h(i({api:"updateSingleVendor",redirectTo:"/vendor/edit/:id",action:"edit"}))},[]),t?a(O,{}):!r("update-vendor")||t?a(O,{}):C("div",{className:"px-4",children:[a(z,{formState:l,resetForm:D}),a("div",{className:"flex xl:flex-row flex-col gap-2.5",children:a("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:a(J,{})})})]})};export{le as default};
