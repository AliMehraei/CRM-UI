import{u as I,c as T,r as a,s as b,h as C,ad as r,j as e,F as P,b as o,S as D,a as L}from"./main-2e04d675.js";const Y=()=>{const i=I();T();const[d,g]=a.useState(""),[l,f]=a.useState(""),[m,x]=a.useState(""),[j,w]=a.useState("");a.useState([]);const[H,y]=a.useState("");a.useEffect(()=>{i(b(d))},[i]);const[N,k]=a.useState(""),S=new L,p=C().id,u="contact";a.useEffect(()=>{const t=window.location.pathname.split("/");g(r(t[1])+" - Import"),f(t[1]),x(r(t[1])+" Import"),w("Your "+r(t[1])+" List"),y("You don't have any"+r(t[1])+" List"),i(b(r(t[1])+" - Import"))},[]);const[c,v]=a.useState(!0),[h,_]=a.useState(0),F=async()=>{const s="https://phpstack-1110393-3914892.cloudwaysapps.com/ALPYN%20electronics%20BOM-List%20Samplefile.xlsx";console.log(s);const t=document.createElement("a");t.href=s,t.target="_blank",t.click()},E=s=>{const t=s.target.files[0];k(t)};return e(P,{children:e("div",{className:"panel px-0 border-white-light dark:border-[#1b2e4b]",children:o("div",{className:"px-4 sm:px-6 lg:px-8",children:[e("section",{className:"border-b border-gray-200 pb-4",children:e("div",{className:"sm:flex sm:items-center sm:justify-between",children:e("h3",{className:"title-1",children:e("b",{children:d})})})}),o("div",{className:" p-6 bg-white shadow-md",children:[e("h1",{className:"text-2xl font-bold mb-5",children:m}),o("form",{onSubmit:async s=>{s.preventDefault();const t=D.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:5e3});try{const n=new FormData(s.target),B=u+"_"+l;n.append("has_header",c),n.append("ignored_top_rows",h),n.append("type",B),n.append("excess_bom_file",N),(await S.importBomExcess(p,u,n)).status===200?(t.fire({icon:"success",timer:2e3,title:"Form submitted successfully",padding:"10px 20px"}),window.location.href=`/${l}/confirmation/${p}`):t.fire({icon:"error",title:"Internal Server Error ,submitting form failed",padding:"10px 20px"})}catch{t.fire({icon:"error",title:"Internal Server Error ,submitting form failed",padding:"10px 20px"})}},children:[o("div",{className:"mb-4",children:[e("label",{htmlFor:"title",className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),e("input",{type:"text",id:"title",name:"title",placeholder:`Enter your new ${l} list name`,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),o("div",{className:"mb-4",children:[o("label",{htmlFor:"file",className:"block text-gray-700 text-sm font-bold mb-2",children:["Upload your ",l," list"]}),e("input",{className:"block w-full py-2 px-3 text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer  dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"excess-bom-file",type:"file",onChange:E}),e("p",{className:"text-gray-600 text-xs italic mt-2",children:"* Please kindly note that there is a maximum limit of 1000 rows allowed in a single sheet of an Excel file."}),e("button",{type:"button",onClick:F,className:"mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Download Sample Data"})]}),o("div",{className:"flex items-center justify-between mb-4",children:[e("label",{htmlFor:"has_header",className:"block text-gray-700 text-sm font-bold mb-2",children:"Files has a Header"}),o("div",{className:"relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in",children:[e("input",{type:"checkbox",name:"has_header",id:"has_header",checked:c,onChange:()=>v(!c),className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"}),e("label",{htmlFor:"has_header",className:"toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"})]})]}),o("div",{className:"mb-4",children:[e("label",{htmlFor:"ignored_top_rows",className:"block text-gray-700 text-sm font-bold mb-2",children:"Ignored rows from top"}),e("input",{type:"number",id:"ignored_top_rows",name:"ignored_top_rows",min:"0",value:h,onChange:s=>_(s.target.value),className:"shadow appearance-none border rounded w-20 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:m})]})]})]})})})};export{Y as default};
