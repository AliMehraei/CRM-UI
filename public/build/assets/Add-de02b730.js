import{u as m,a as N,r as c,j as d,b as a,w,v as T,F as h,b2 as f,m as x,Z as R,y as q,x as j,aI as k,V as I,U as D,aC as E,T as L,z as Q,_ as G,B as U,b0 as z,c as B,s as K,b3 as A,d as W}from"./main-50485d15.js";import{G as g,A as $}from"./GenerateFields-6139070c.js";import{S as p}from"./react-select.esm-57321b92.js";import{F as H}from"./index-f8187673.js";import{A as y}from"./react-select-async.esm-53710751.js";/* empty css                  */import"./Select-aecb2a80.esm-2b02e9fd.js";const Y=()=>{const r=m(),s=N(e=>e.callForm),[o,i]=c.useState("App\\Models\\Contact"),[l,u]=c.useState("App\\Models\\Account"),[M,v]=c.useState(null),[O,_]=c.useState(null),t=(e,n)=>{r(f({[e]:n}))},C=[{value:"App\\Models\\Lead",label:"Lead"},{value:"App\\Models\\Contact",label:"Contact"}],b=[{value:"App\\Models\\Account",label:"Account",api:x},{value:"App\\Models\\Vendor",label:"Vendor",api:R},{value:"App\\Models\\Quote",label:"Quote",api:q},{value:"App\\Models\\Rfq",label:"Rfq",api:j},{value:"App\\Models\\Excess",label:"Excess",api:k},{value:"App\\Models\\Availability",label:"Availability",api:I},{value:"App\\Models\\Product",label:"Product",api:D},{value:"App\\Models\\Manufacturer",label:"Manufacturer",api:E},{value:"App\\Models\\Deal",label:"Deals",api:L},{value:"App\\Models\\SalesOrder",label:"Sales Order",api:Q},{value:"App\\Models\\PurchaseOrder",label:"Purchase Order",api:G},{value:"App\\Models\\Invoice",label:"Invoice",api:U},{value:"App\\Models\\VendorRfq",label:"Vendor Rfq",api:z}],S=[{value:"ausgehend",label:"Ausgehend"},{value:"eingehend",label:"Eingehend"},{value:"verpasst",label:"Verpasst"}],V=e=>(b.find(F=>F.value===l)??{value:null,label:null,api:x}).api.call(null,e),P={"Call Information":{"Call To":d("div",{className:"flex",children:[a(p,{id:"callable_type",name:"callable_type",onChange:({value:e})=>{i(e),v(null),t("callable_type",e),t("callable_id",null)},defaultValue:C.find(e=>e.value==s.callable_type),className:"flex-none w-64 mr-2",options:C}),a(y,{isMulti:!1,id:"callable_id",placeholder:"Type at least 2 characters to search...",name:"callable_id",value:M,menuPortalTarget:document.body,loadOptions:o==="App\\Models\\Lead"?w:T,onChange:({value:e,label:n})=>{v({value:e,label:n}),t("callable_id",e)},className:"flex-1",required:!0})]}),"Related To":d("div",{className:"flex",children:[a(p,{id:"relatable_type",name:"relatable_type",onChange:({value:e})=>{u(e),_(null),t("relatable_type",e),t("relatable_id",null)},className:"flex-none w-64 mr-2",options:b,defaultValue:b.find(e=>e.value==s.relatable_type)}),a(y,{isMulti:!1,id:"relatable_id",menuPortalTarget:document.body,placeholder:"Type at least 2 characters to search...",name:"relatable_id",loadOptions:e=>V(e),onChange:({value:e,label:n})=>{_({value:e,label:n}),t("relatable_id",e)},value:O,className:"flex-1",required:!0})]}),"Call Type":a(p,{id:"type",name:"type",required:!0,options:S,defaultValue:{value:"ausgehend",label:"Ausgehend"},onChange:({value:e})=>{t("type",e)},className:"flex-1"}),"Outgoing Call Status":a("input",{id:"outgoing_call_status",name:"outgoing_call_status",type:"text",placeholder:"Readonly input here…",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",defaultValue:"Abgeschlossen",disabled:!0}),"Call Start Time":a(H,{required:!0,name:"call_start_time","data-enable-time":!0,options:{enableTime:!0,dateFormat:"Y-m-d H:i",position:"auto left"},onChange:(e,n)=>t("call_start_time",n),className:"form-input flex-1"}),"Call Duration":d("div",{className:"flex",children:[a("input",{id:"call_duration_minutes",required:!0,name:"call_duration_minutes",className:"form-input mr-2 flex-1 ",onChange:e=>t(e.target.name,e.target.value),placeholder:"Minutes"}),a("input",{id:"call_duration_seconds",required:!0,name:"call_duration_seconds",className:"form-input ml-2 flex-1 ",onChange:e=>t(e.target.name,e.target.value),placeholder:"Seconds"})]}),Subject:a("input",{required:!0,id:"subject",name:"subject",className:"form-input flex-1 ",defaultValue:"Outgoing call to Unknown",onChange:e=>t(e.target.name,e.target.value)}),"Voice Recording":a("input",{id:"voice_recording",name:"voice_recording",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value)})}};return a(h,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(g,{fields:P})})})},Z=()=>{const r=m(),s=(l,u)=>{r(f({[l]:u}))},i={"Purpose Of Outgoing Call":{"Call Purpose":a(p,{id:"call_purpose",name:"call_purpose",options:[{value:"none",label:"None"},{value:"möglicher_kunde",label:"Möglicher Kunde"},{value:"administrative",label:"Administrativ"},{value:"negotiation",label:"Verhandlung"},{value:"demo",label:"Demo"},{value:"project",label:"Projekt"}],menuPortalTarget:document.body,defaultValue:{value:"none",label:"None"},onChange:({value:l})=>{s("call_purpose",l)},className:"flex-1"}),"Call Agenda":a("input",{id:"call_agenda",name:"call_agenda",className:"form-input flex-1 ",onChange:l=>s(l.target.name,l.target.value)})}};return a(h,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(g,{fields:i})})})},J=()=>{const r=m(),s=(l,u)=>{r(f({[l]:u}))};return a(h,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(g,{fields:{"Purpose Of Outgoing Call":{"Call Result":a(p,{id:"call_result",name:"call_result",options:[{value:"none",label:"None - Interessiert"},{value:"interessiert",label:"Interessiert"},{value:"not_interested",label:"Nicht interessiert"},{value:"no_response_busy",label:"Keine Antwort/besetzt"},{value:"more_information",label:"Wünscht mehr Information"},{value:"callback_requested",label:"Wünscht Rückruf"}],defaultValue:{value:"none",label:"None"},onChange:({value:l})=>{s("call_result",l)},className:"flex-1"}),Description:a("input",{id:"description",name:"description",className:"form-input flex-1 ",onChange:l=>s(l.target.name,l.target.value)})}}})})})},X=()=>d("div",{className:"mt-8 px-4",children:[a(Y,{}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Z,{}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(J,{})]}),oe=()=>{const{hasPermission:r}=B(),s=N(i=>i.callForm),o=m();return c.useEffect(()=>{o(K("Call Add"))}),c.useEffect(()=>{o(A())},[]),r("create-call")?d("div",{className:"px-4",children:[a($,{formState:s,resetForm:A}),a("div",{className:"flex xl:flex-row flex-col gap-2.5",children:a("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:a(X,{})})})]}):a(W,{})};export{oe as default};
