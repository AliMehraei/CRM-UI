import{c as ee,u as ae,r as i,h as te,d as le,s as re,Y as o,j as a,e as H,b as n,f as se,i as U,aC as ie,_ as V,a as oe}from"./main-d43b918e.js";import{A as ne}from"./ActionButtonsPreview-ba9703c7.js";import{I as t}from"./InformationSectionPreview-2b5daa63.js";import{M as z}from"./MultipleLineSectionPreview-d29f72b3.js";import{T as de}from"./TableSectionPreview-49d99044.js";import{A as ce}from"./AttachmentDownloadButton-b9487ee0.js";import{A as be}from"./AttachmentSection-46c244f1.js";import"./CommonIcons-e725f090.js";const ye=()=>{var p,_,f,O,g,y,$,S,j,w,P,D,N,C,k,A,x,B,I,q,L,T,M,R,Q,E,F;const{hasPermission:d}=ee(),c=ae(),[s,W]=i.useState(!0),l=te().id,Y=new oe,e=le(r=>r.purchaseOrderForm);i.useEffect(()=>{c(re("Purchase Order Preview"))});const Z=()=>{window.print()},G=async()=>{const r=await Y.fetchSinglePurchaseOrder(l);if(r.status!=200)return;const X=r.data.data.purchaseOrder;c(ie(X))};i.useEffect(()=>{G().then(()=>{W(!1)})},[l]);const b={leftObjects:[{label:"Vendor Name",value:`${(p=e.vendor)==null?void 0:p.vendor_name}`},{label:"Contact Name",value:`${e.contact?((_=e.contact)==null?void 0:_.first_name)+" "+((f=e.contact)==null?void 0:f.last_name):""}`},{label:"Availability No",value:(O=e.availability)==null?void 0:O.availability_name},{label:"Currency",value:`${e.currency}`},{label:"Exchange Rate ",value:`${e.exchange_rate}`}],rightObjects:[{label:"PO Number",value:`${e.po_number}`},{label:"PO Date",value:`${e.so_date}`},{label:"Purchase Order Owner",value:`${((g=e.owner)==null?void 0:g.first_name)??""} ${((y=e.owner)==null?void 0:y.last_name)??""}`},{label:"Approved By",value:`${(($=e.approved_by)==null?void 0:$.first_name)??""} ${((S=e.approved_by)==null?void 0:S.last_name)??""}`},{label:"Created By",value:`${((j=e.creator)==null?void 0:j.first_name)??""} ${((w=e.creator)==null?void 0:w.last_name)??""}`},{label:"Modified By",value:`${((P=e.modifier)==null?void 0:P.first_name)??""} ${((D=e.modifier)==null?void 0:D.last_name)??""}`}]},J=[{value:"vendor_forwarder",label:"Vendor Forwarder"},{value:"ups",label:"UPS"},{value:"usps",label:"USPS"},{value:"dhl",label:"DHL"},{value:"blue_dart",label:"BlueDart"}],u={leftObjects:[{label:"PO Type",value:`${e.purchase_order}`},{label:"Parent PO NO.",value:`${e.customer_po_date}`},{label:"Parent SO Nr",value:e.parent_so_nr},{label:"ZohoBooksId",value:`${e.zoho_books_id}`}],rightObjects:[{label:"Subject",value:`${e.subject}`},{label:"Status",value:`${o(e.status,V)}`},{label:"Requested DD",value:e.requested_delivery_date},{label:"Confirmed DD",value:e.confirmed_delivery_date},{label:"Confirmed DD",value:e.confirmed_delivery_date},{label:"Carrier",value:`${o(e.carrier,J)}`},{label:"AWB",value:e.awb},{label:"Confirmation Vendor",value:a(ce,{formAttribute:"confirmation_vendor",modelName:"purchaseOrder",formState:e})}]},m={leftObjects:[{label:"Requested Delivery Date",value:e.requested_delivery_date},{label:"Product Name",value:(N=e.product)==null?void 0:N.product_name},{label:"Quantity",value:e.quantity},{label:"Cost",value:e.cost}],rightObjects:[{label:"Confirmed Delivery Date",value:e.confirmed_delivery_date},{label:"Date Code",value:e.date_code},{label:"SPQ",value:e.spq},{label:"Comment",value:e.comment}]},h={leftObjects:[{label:"Account",value:`${(k=(C=e.sales_order)==null?void 0:C.account)==null?void 0:k.account_name}`},{label:"SO No",value:`${(A=e.sales_order)==null?void 0:A.so_number}`},{label:"Quantity",value:`${(x=e.sales_order)==null?void 0:x.quantity}`},{label:"Resale",value:`${(B=e.sales_order)==null?void 0:B.resale}`},{label:"SO Status",value:`${o((I=e.sales_order)==null?void 0:I.status,V)}`}],rightObjects:[{label:"Requested D.D.",value:`${(q=e.sales_order)==null?void 0:q.requested_delivery_date}`},{label:"Confirmed D.D.",value:`${(L=e.sales_order)==null?void 0:L.confirmed_delivery_date}`},{label:"D/C",value:`${(T=e.sales_order)==null?void 0:T.date_code}`},{label:"SPQ SO",value:`${(M=e.sales_order)==null?void 0:M.spq}`}]},v={leftObjects:[{label:"Billing Street",value:`${e.billing_street}`},{label:"Billing City",value:`${e.billing_city}`},{label:"Billing State",value:`${e.billing_state}`},{label:"Billing Code",value:`${e.billing_code}`},{label:"Billing Country",value:`${e.billing_country}`}],rightObjects:[{label:"Shipping Street",value:`${e.shipping_street}`},{label:"Shipping City",value:`${e.shipping_city}`},{label:"Shipping State",value:`${e.shipping_state}`},{label:"Shipping Code",value:`${e.shipping_code}`},{label:"Shipping Country",value:`${e.shipping_country}`}]},K=[{key:"product_name",label:"Product Name",model:"product"},{key:"quantity",label:"Quantity"},{key:"list_price",label:"List Price"},{key:"amount",label:"Amount"}];return`${((R=e.owner)==null?void 0:R.first_name)??""}${((Q=e.owner)==null?void 0:Q.last_name)??""}`,`${((E=e.sales_person)==null?void 0:E.first_name)??""}${((F=e.sales_person)==null?void 0:F.last_name)??""}`,s?a(H,{}):!d("read-purchase-order")||s?a(H,{}):n("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(ne,{loading:s,hasPermission:d,modelId:l,exportTable:Z,routeModel:"purchase",permissionModel:"purchase-order"})}),n("div",{className:"panel",children:[n("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Purchase Order"}),a("div",{className:"shrink-0",children:a("img",{src:se(e.image_data),alt:"Purchase Order image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Header",leftObjects:b.leftObjects,rightObjects:b.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Purchase Order Information",leftObjects:u.leftObjects,rightObjects:u.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(de,{title:"Purchase Items",items:e.items,columns:K,total:e.sales_total}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"PO Line",leftObjects:m.leftObjects,rightObjects:m.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Linked SO",leftObjects:h.leftObjects,rightObjects:h.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Address Information",leftObjects:v.leftObjects,rightObjects:v.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(z,{sectionTitle:"Terms And Conditions",data:[{label:"Terms and Conditions",value:e.terms_and_conditions}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(z,{sectionTitle:"Description ",data:[{label:"Description",value:e.description}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Date information",leftObjects:[{label:"Created Date",value:U(e.created_at)}],rightObjects:[{label:"Modified Date",value:U(e.updated_at)}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(be,{modelId:l,modelName:"purchaseOrder"})]})]})};export{ye as default};
