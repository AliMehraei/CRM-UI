import{c as E,u as M,r as i,h as q,d as Q,s as F,aw as R,a_ as I,j as a,e as D,b as r,f as H,i as k,a as z}from"./main-763a01a7.js";import{I as U}from"./InfoListComponent-4af22fb1.js";import{A as V,I as n}from"./InformationSectionPreview-139737e5.js";import{M as x}from"./MultipleLineSectionPreview-1d7090f6.js";import{T as Z}from"./TableSectionPreview-fd48086e.js";import{A as G}from"./AttachmentSection-7a4759e3.js";import"./CommonIcons-0598faa2.js";const le=()=>{var u,m,v,p,h,f,_,g,y,$,j,S,w,O;const{hasPermission:c}=E(),s=M(),[o,N]=i.useState(!0),l=q().id,C=new z,e=Q(t=>t.invoiceForm);i.useEffect(()=>{s(F("Invoice Preview"))});const P=()=>{window.print()},T=async()=>{const t=await C.fetchSingleInvoice(l);if(t.status!=200)return;const L=t.data.data.invoice;s(I(L))};i.useEffect(()=>{T().then(()=>{N(!1)})},[l]),i.useEffect(()=>{e.invoice_file&&R("invoice","invoice_file",e.invoice_file).then(t=>{s(I({invoice_file_preview:t}))})},[]);const b={leftObjects:[{label:"Due Date",value:`${e.due_date??""}`},{label:"Sales Commission",value:e.sales_commission},{label:"Exchange Rate",value:`${e.exchange_rate}`},{label:"ZohoBooksID",value:`${e.zoho_books_id}`}],rightObjects:[{label:"Deal Stage",value:`${e.deal_stage??""} `},{label:"Excise Duty",value:`${e.excise_duty}`},{label:"Invoice Stage",value:`${e.invoice_stage}`},{label:"Status",value:`${e.status}`},{label:"Currency",value:`${e.currency}`}]};`${e.invoice_valid}`,`${e.proactive_offer}`,`${e.rating}`,`${(u=e.product)==null?void 0:u.product_name}`,`${e.customer_part_id}`,`${e.quantity}`,`${e.list_price}`,`${e.lead_time}`,`${(m=e.vendor)==null?void 0:m.vendor_name}`,`${e.availability_no}`,`${e.availability_date}`,`${(v=e.availability)==null?void 0:v.availability_name}`,`${e.cost}`,`${e.lt_vendor}`,`${e.spq}`,`${e.quantity_in_stock}`;const d={leftObjects:[{label:"Billing Street",value:`${e.billing_street}`},{label:"Billing City",value:`${e.billing_city}`},{label:"Billing State",value:`${e.billing_state}`},{label:"Billing Code",value:`${e.billing_code}`},{label:"Billing Country",value:`${e.billing_country}`}],rightObjects:[{label:"Shipping Street",value:`${e.shipping_street}`},{label:"Shipping City",value:`${e.shipping_city}`},{label:"Shipping State",value:`${e.shipping_state}`},{label:"Shipping Code",value:`${e.shipping_code}`},{label:"Shipping Country",value:`${e.shipping_country}`}]},A=[{key:"id",label:"S.NO"},{key:"product_name",label:"Product Name",model:"product"},{key:"quantity",label:"Quantity"},{key:"list_price",label:"List Price"},{key:"amount",label:"Amount"},{key:"discount",label:"Discount"},{key:"tax",label:"Tax"},{key:"total",label:"Total"}],B=[{label:"Account Name",value:`${((p=e.account)==null?void 0:p.account_name)??""} `},{label:"Contact Name",value:`${((h=e.owner)==null?void 0:h.first_name)??""} ${((f=e.owner)==null?void 0:f.last_name)??""}`},{label:"Sales Order",value:`${((_=e.sales_order)==null?void 0:_.subject)??""} ${((g=e.contact)==null?void 0:g.last_name)??""} `},{label:"Purchase Order",value:`${e.purchase_order??""} `},{label:"Subject",value:`${e.subject??""} `},{label:"Invoice Date",value:`${e.invoice_date??""} `},{label:"Invoice Owner",value:`${((y=e.owner)==null?void 0:y.first_name)??""} ${(($=e.owner)==null?void 0:$.last_name)??""}`},{label:"Created By",value:`${((j=e.creator)==null?void 0:j.first_name)??""} ${((S=e.creator)==null?void 0:S.last_name)??""}`},{label:"Modified By",value:`${((w=e.modifier)==null?void 0:w.first_name)??""} ${((O=e.modifier)==null?void 0:O.last_name)??""}`}];return o?a(D,{}):!c("read-invoice")||o?a(D,{}):r("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(V,{loading:o,hasPermission:c,modelId:l,exportTable:P,routeModel:"invoice",permissionModel:"invoice"})}),r("div",{className:"panel",children:[r("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Invoice"}),a("div",{className:"shrink-0",children:a("img",{src:H(e.image_data),alt:"Invoice image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a(U,{data:B}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(n,{title:"Header",leftObjects:b.leftObjects,rightObjects:b.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(n,{title:"Address Information",leftObjects:d.leftObjects,rightObjects:d.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Z,{title:"Invoice Items",items:e.items,columns:A,total:e.total,subtotal:e.subtotal,discount:e.discount,tax:e.tax,adjustment:e.adjustment}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(x,{sectionTitle:"Terms And Conditions",data:[{label:"Terms and Conditions",value:e.terms_and_conditions}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(x,{sectionTitle:"Description ",data:[{label:"Description",value:e.description}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(n,{title:"Date information",leftObjects:[{label:"Created Date",value:k(e.created_at)}],rightObjects:[{label:"Modified Date",value:k(e.updated_at)}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(G,{modelId:l,modelName:"contact"})]})]})};export{le as default};
