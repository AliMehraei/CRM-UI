import{u as w,a as f,T as F,b as s,F as b,j as c,c as p,U as _,V as j}from"./main-2481ab9f.js";import{S as O}from"./sweetalert2.all-d12b6692.js";const k=({formState:l,resetForm:a})=>{const e=w(),t=f(d=>d.themeConfig),r=F(),o=new p,n=async(d="save")=>{e(_());const v=O.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:5e3}),h=o[l.api];if(typeof h!="function"){console.log("fds","error api");return}const u=await h.call(o,l);if(u.isOk)l.action==="create"&&e(a()),v.fire({icon:"success",timer:2e3,title:"Form submitted successfully",padding:"10px 20px"}).then(()=>{if(d==="save"){const m=l.redirectTo.replace(":id",`${u.data.data.id}`);r(m,{replace:!0})}else if(l.action!=="create"){const m=l.createRoute;r(m,{replace:!0})}});else if(u.status===422){const m=u.data.data,x={hasError:!0,...Object.fromEntries(Object.entries(m).map(([g,y])=>[g,y[0]]))};e(j(x)),v.fire({icon:"error",html:`<h5>Form Validation Error</h5>
                        <span style="font-size: 12px">Please Check fields</span>
                        `,padding:"10px 20px"})}else v.fire({icon:"error",title:"Internal Server Error ,submitting form failed",padding:"10px 20px"})},N=()=>{const d=location.pathname.replace("/add","/list");l.action=="edit"?r(-1):r(d,{replace:!0})};return s(b,{children:s("div",{className:" sticky top-0 z-10 px-0 flex-1 py-2 ltr:xl:mr-6 rtl:xl:ml-6 px-10",children:s("div",{className:" ",children:c("div",{className:"flex justify-between items-center mb-6",children:[s("div",{className:"flex items-center",children:c("span",{className:"text-xl font-bold",children:[t.pageTitle," : "]})}),c("div",{className:"flex items-center gap-2",children:[s("button",{onClick:N,className:"btn btn-danger gap-2",children:"Back"}),s("button",{onClick:()=>n("new"),className:"btn btn-primary gap-2",children:"Save and new"}),s("button",{onClick:()=>n("save"),className:"btn btn-success gap-2",children:"Save"})]})]})})})})},A=()=>s("span",{className:"text-red-500",children:" *"}),D=({fields:l})=>{const a=f(e=>e.formErrors);return s(b,{children:Object.entries(l).map(([e,t],r)=>s("div",{className:"lg:w-1/2 w-full ltr:lg:mr-6 rtl:lg:ml-6 mb-6",children:c("div",{className:"",children:[s("div",{className:"text-lg",children:e?`${e}:`:s("div",{className:"mt-10"})}),Object.entries(t).map(([o,n])=>s("div",{className:Object.keys(a).length>1&&a[n.props.name]?"mt-4 items-center has-error":"mt-4 items-center",children:c("div",{className:"flex",children:[c("label",{className:"ltr:mr-2 rtl:ml-2 w-1/3 mb-0 mt-2",children:[o,n.props.required&&s(A,{})]},o),c("div",{className:"w-full",children:[n,Object.keys(a).length>1&&a[n.props.name]&&c("div",{className:"text-danger mt-1",children:[" ",a[n.props.name]]})]})]})},o))]},e)},`${e}_${r}`))})},i=new p,S=[{value:"none",label:"-None-"},{value:"waiting",label:"Waiting"},{value:"confirmed",label:"Confirmed"},{value:"rejected",label:"Rejected"}],q=[{value:"EUR",label:"EUR"},{value:"USD",label:"USD"}],P=[{value:"none",label:"-None-"},{value:"yes",label:"Yes"},{value:"no",label:"No"}],R=[{value:"draft",label:"Draft"},{value:"approved",label:"Approved"},{value:"confirmed",label:"Confirmed"},{value:"closed",label:"Closed"}],U=[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"no_feedback",label:"No Feedback"},{value:"negotiation_price",label:"Negotiation Price"},{value:"negotiation_conditions",label:"Negotiation Conditions"},{value:"open",label:"Open"},{value:"lost",label:"Lost"},{value:"won",label:"Won"}],I=(l,a)=>{l.target.files&&l.target.files.length>0&&i.uploadFile(l.target.files[0]).then(e=>{a(e)}).catch()},T=[{value:"none",label:"-None-"},{value:"ems",label:"EMS"},{value:"odm",label:"ODM(EMS + Development)"},{value:"oem",label:"OEM"},{value:"reseller",label:"Reseller"},{value:"systemintegrator_it",label:"System-Integrator It"},{value:"other",label:"Other"}],M=[{value:"none",label:"-None-"},{value:"herr",label:"Herr"},{value:"frau",label:"Frau"},{value:"fr.",label:"Fr."},{value:"dr.",label:"Dr."},{value:"prof.",label:"Prof."}],V=[{value:"nda",label:"NDA"},{value:"quality_agreement",label:"Quality Agreement"},{value:"logistic_agreement",label:"Logistic Agreement"},{value:"other_agreement",label:"Other Agreement"}],Q=async l=>{const a=await i.searchProduct({query:l});if(a.status){const e="id",t="product_name";return a.data.data.map(r=>({value:r[e],label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:r[t]})},r[e])}))}},L=async l=>{const a=await i.searchRfq({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.rfq_name})},e.id)}))},$=async l=>{const a=await i.searchVendorRfq({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.vendor_rfq_name})},e.id)}))},B=async l=>{const a=await i.searchDeal({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.deal_name})},e.id)}))},z=async l=>{const a=await i.searchVendor({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.vendor_name})},e.id)}))},G=async l=>{const a=await i.searchAvailability({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.availability_name})},e.id)}))},W=async l=>{const a=await i.searchQuote({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.subject})},e.id)}))},H=async l=>{const a=await i.searchInvoice({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.subject})},e.id)}))},Y=async l=>{const a=await i.searchPurchaseOrder({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.subject})},e.id)}))},J=async l=>{const a=await i.searchAvailability({query:l});if(a.status)return a.data.data.map(e=>({value:e.id,label:s("div",{className:"flex items-center",children:s("div",{className:"text-sm font-bold",children:e.availability_name})},e.id)}))},K=async l=>{const a=await i.loadAdminUsers(l),e="userId",t="first_name",r="avatar",o="email";if(a.status)return a.data.map(n=>({value:n[e],label:c("div",{className:"flex items-center",children:[s("img",{src:n[r]??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),c("div",{children:[s("div",{className:"text-sm font-bold",children:n[t]+" "+n.last_name}),s("div",{className:"text-xs text-gray-500",children:n[o]})]})]},n[e])}))},X=async l=>{const a=await i.searchAccount({query:l}),e="id",t="account_name",r="image",o="email";if(a.status===200)return a.data.data.map(n=>({value:n[e],label:c("div",{className:"flex items-center",children:[s("img",{src:n[r]??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),c("div",{children:[s("div",{className:"text-sm font-bold",children:n[t]}),s("div",{className:"text-xs text-gray-500",children:n[o]})]})]},n[e])}))},Z=async l=>{const a=await i.searchLead({query:l}),e="id";if(a.status===200)return a.data.data.map(t=>({value:t[e],label:c("div",{className:"flex items-center",children:[s("img",{src:t.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),c("div",{children:[s("div",{className:"text-sm font-bold",children:t.company}),s("div",{className:"text-xs text-gray-500",children:t.email})]})]},t[e])}))},ee=async l=>{const a=await i.searchContact({query:l}),e="id";if(a.status===200)return a.data.data.map(t=>({value:t[e],label:c("div",{className:"flex items-center",children:[s("img",{src:t.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),c("div",{children:[c("div",{className:"text-sm font-bold",children:[t.first_name," ",t.last_name]}),s("div",{className:"text-xs text-gray-500",children:t.email})]})]},t[e])}))},ae=async l=>{const a="id",e="name",t=await i.searchManufacturer({query:l});if(t.status)return t.data.data.map(r=>({value:r[a],label:s("div",{className:"flex items-center",children:s("div",{children:s("div",{className:"text-sm font-bold",children:r[e]})})},r[a])}))},se=async l=>{const a="id",e="subject",t=await i.searchSalesOrder({query:l});if(t.status)return t.data.data.map(r=>({value:r[a],label:s("div",{className:"flex items-center",children:s("div",{children:s("div",{className:"text-sm font-bold",children:r[e]})})},r[a])}))},le=l=>l&&l!==""?l:"https://www.nbmchealth.com/wp-content/uploads/2018/04/default-placeholder.png",te=async l=>{const a="id",e="excess_name",t=await i.searchExcess({query:l});if(t.status)return t.data.data.map(r=>({value:r[a],label:s("div",{className:"flex items-center",children:s("div",{children:s("div",{className:"text-sm font-bold",children:r[e]})})},r[a])}))};export{T as A,V as C,M as F,D as G,S as P,A as R,R as S,q as a,X as b,k as c,ee as d,Z as e,L as f,le as g,I as h,W as i,se as j,H as k,B as l,Q as m,G as n,P as o,z as p,Y as q,ae as r,K as s,J as t,te as u,U as v,$ as w};
