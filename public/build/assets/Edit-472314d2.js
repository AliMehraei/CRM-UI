import{a as m,u,d as f,b as e,F as p,ad as d,j as y,c as O,r as N,h as P,s as M,f as I,ae as E}from"./main-92330c11.js";import{G as h,A as L}from"./GenerateFields-3fef8767.js";import{A as g}from"./react-select-async.esm-f5f8b1bf.js";import{S as w}from"./react-select.esm-f6b8d468.js";import{h as V,s as A,a as D,P as T}from"./CommonFunctions-3c05aff6.js";import"./sweetalert2.all-c264d52e.js";import"./Select-aecb2a80.esm-f76f34d7.js";const U=()=>{const l=m(a=>a.vendorForm),o=u();new f;const r=(a,s)=>{o(d({[a]:s}))},n={"Contact Information":{"First Name":e("input",{id:"first_name",name:"first_name",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.first_name}),Phone:e("input",{id:"phone",required:!0,name:"phone",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.phone}),email:e("input",{id:"email",required:!0,name:"email",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.email}),linkedin:e("input",{id:"linkedin",name:"linkedin",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.linkedin})},"":{"Last Name":e("input",{id:"last_name",name:"last_name",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.last_name}),Mobile:e("input",{id:"mobile",name:"mobile",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.mobile}),Website:e("input",{id:"website",name:"website",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.website})}};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(h,{fields:n})})})},z=()=>{var x,c,b,S,F;const l=u(),o=new f,r=m(t=>t.vendorForm),n=(t,i)=>{l(d({[t]:i}))},a=async t=>{const i="id",j="vendor_name",k=await o.searchVendor({query:t});if(k.status)return k.data.data.map(C=>({value:C[i],label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:C[j]})})},C[i])}))},s=[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"waiting",label:"Waiting for approval"},{value:"approval",label:"Approval"},{value:"rejected",label:"Rejected"}],_=[{value:"none",label:"-None-"},{value:"web",label:"Web Download"},{value:"linkedin",label:"Linkedin"},{value:"chat",label:"Chat"},{value:"messe",label:"Messe"}],v={"Vendor Information":{"Vendor Image":e("input",{id:"vendor_image",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"image/*",onChange:t=>V(t,i=>{l(d({image:`${i==null?void 0:i.data.data.file_url}`}))}),name:"vendorImage"},"vendor_image"),"Vendor Name":e("input",{id:"vendor_name",required:!0,name:"vendor_name",className:"form-input flex-1 ",onChange:t=>n(t.target.name,t.target.value),defaultValue:r.vendor_name}),Contracts:e(g,{isMulti:!0,id:"contracts_id",placeholder:"Type at least 2 characters to search...",name:"contracts_id",loadOptions:a,onChange:t=>{n("contracts_id",t.map(i=>i.value))},className:"flex-1"}),"SL Contains all MFRs":e("input",{id:"is_active",type:"checkbox",name:"is_active",className:"form-checkbox",onChange:t=>n(t.target.name,t.target.checked),checked:r.is_active}),"Strong Lines":e(g,{isMulti:!1,id:"strong_lines",placeholder:"Type at least 2 characters to search...",name:"strong_lines",loadOptions:a,onChange:({value:t})=>{n("strong_lines",t)},className:"flex-1"}),"Line Card":e(g,{isMulti:!1,id:"line_card",placeholder:"Type at least 2 characters to search...",name:"line_card",loadOptions:a,onChange:({value:t})=>{n("line_card",t)},className:"flex-1"}),"Approve status":e(w,{options:s,name:"approved_status",id:"approved_status",onChange:({value:t})=>{n("approved_status",t)},className:"flex-1",defaultValue:s.find(t=>t.value==r.approved_status)}),"Business Vendor":e("input",{id:"business_vendor",type:"checkbox",name:"business_vendor",className:"form-checkbox",onChange:t=>n(t.target.name,t.target.checked),checked:r.business_vendor}),"Approved By":e(g,{isMulti:!1,id:"approved_by",placeholder:"Type at least 2 characters to search...",name:"approved_by_id",loadOptions:A,onChange:({value:t})=>{n("approved_by_id",t)},className:"flex-1"})},"":{"Vendor Owner":e(g,{isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:A,onChange:({value:t})=>{n("owner_id",t)},className:"flex-1",defaultValue:{value:(x=r.owner)==null?void 0:x.id,label:y("div",{className:"flex items-center",children:[r.owner?e("img",{src:r.owner.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,y("div",{children:[e("div",{className:"text-sm font-bold",children:((c=r.owner)==null?void 0:c.first_name)+" "+((b=r.owner)==null?void 0:b.last_name)}),e("div",{className:"text-xs text-gray-500",children:(S=r.owner)==null?void 0:S.email})]})]},(F=r.owner)==null?void 0:F.id)}}),"Vendor Source":e(w,{options:_,name:"vendor_source",id:"vendor_source",onChange:({value:t})=>{n("vendor_source",t)},defaultValue:_.find(t=>t.value==r.vendor_source),className:"flex-1"}),Currency:e(w,{options:D,name:"currency",id:"currency",onChange:({value:t})=>{n("currency",t)},defaultValue:D.find(t=>t.value==r.currency),className:"flex-1"}),"ISO Upload":e("input",{id:"iso_upload",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"*",onChange:t=>V(t,i=>{l(d({field:"iso_upload",value:`${i==null?void 0:i.data.data.file_url}`}))}),name:"iso_upload"},"iso_upload"),"Doc Upload":e("input",{id:"doc_upload",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"*",onChange:t=>V(t,i=>{l(d({field:"doc_upload",value:`${i==null?void 0:i.data.data.file_url}`}))}),name:"doc_upload"},"doc_upload"),"Parent Vendor":e(g,{isMulti:!1,id:"parent_vendor_id",placeholder:"Type at least 2 characters to search...",name:"parent_vendor_id",loadOptions:a,onChange:({value:t})=>{n("parent_vendor_id",t)},className:"flex-1",defaultValue:{value:r.parent_vendor_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:r.parent_vendor_id})})},r.parent_vendor_id)}}),"Vendor Number":e("input",{id:"vendor_number",name:"vendor_number",className:"form-input flex-1 ",onChange:t=>n(t.target.name,t.target.value),defaultValue:r.vendor_number}),"Portal Access":e(w,{options:T,name:"portal_access",id:"portal_access",onChange:({value:t})=>{n("portal_access",t)},defaultValue:T.find(t=>t.value==r.portal_access),className:"flex-1"})}};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(h,{fields:v})})})},$=()=>{m(n=>n.vendorForm);const l=u();new f;const o=(n,a)=>{l(d({[n]:a}))};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(h,{fields:{"Terms and Shipping":{"Payment Terms":e("input",{id:"payment_terms",name:"payment_terms",className:"form-input flex-1 ",onChange:n=>o(n.target.name,n.target.value)}),"Incoterms ":e("input",{id:"incoterms",name:"incoterms",className:"form-input flex-1 ",onChange:n=>o(n.target.name,n.target.value)})},"":{"Vat NO":e("input",{id:"vat_no",required:!0,name:"vat_no",className:"form-input flex-1 ",onChange:n=>o(n.target.name,n.target.value)}),Forwarder:e("input",{id:"forwarder",name:"forwarder",className:"form-input flex-1 ",onChange:n=>o(n.target.name,n.target.value)}),"Forwarder Account no.":e("input",{id:"forwarder_account_no",name:"forwarder_account_no",className:"form-input flex-1 ",onChange:n=>o(n.target.name,n.target.value)})}}})})})},B=()=>{const l=m(a=>a.vendorForm),o=u();new f;const r=(a,s)=>{o(d({[a]:s}))},n={"Address Information":{Street:e("input",{id:"street",name:"street",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.street}),City:e("input",{id:"city",name:"city",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.city}),"Zip Code":e("input",{id:"zip_code",name:"zip_code",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.zip_code}),State:e("input",{id:"state",name:"state",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.state}),Country:e("input",{id:"country",name:"country",className:"form-input flex-1 ",onChange:a=>r(a.target.name,a.target.value),defaultValue:l.country})},"":{}};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(h,{fields:n})})})},q=()=>{const l=m(a=>a.vendorForm),o=u();new f;const r=(a,s)=>{o(d({[a]:s}))},n={"Description Information":{Description:e("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",defaultValue:l.description,onChange:a=>r(a.target.name,a.target.value),placeholder:""})},"":{}};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(h,{fields:n})})})},R=()=>{const l=m(a=>a.vendorForm),o=u();new f;const r=(a,s)=>{o(d({[a]:s}))},n={"Technical information":{"BOM/Excess Total Uploading Rows":e("input",{id:"bom_excess_total_rows",name:"bom_excess_total_rows",className:"form-input flex-1 ",defaultValue:l.bom_excess_total_rows,onChange:a=>r(a.target.name,a.target.value)})},"":{}};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(h,{fields:n})})})},W=()=>{const l=m(a=>a.vendorForm),o=u();new f;const r=(a,s)=>{o(d({[a]:s}))},n={"API Data":{"Octopart ID":e("input",{id:"octopart_id",name:"octopart_id",className:"form-input flex-1 ",defaultValue:l.octopart_id,onChange:a=>r(a.target.name,a.target.value)})},"":{ZohoBooksID:e("input",{id:"zoho_book_id",name:"zoho_book_id",className:"form-input flex-1 ",defaultValue:l.zoho_book_id,onChange:a=>r(a.target.name,a.target.value)})}};return e(p,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(h,{fields:n})})})},G=()=>y("div",{className:"mt-8 px-4",children:[e(z,{},"vendorInfo"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(U,{},"contact"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e($,{},"Terms"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(B,{},"Address"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(q,{},"Description"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(R,{},"Technical"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(W,{},"APi")]}),ee=()=>{const{hasPermission:l}=O(),o=m(c=>c.vendorForm),[r,n]=N.useState(!0),s=P().id,_=new f,v=u();N.useEffect(()=>{v(M("Vendor Edit"))});const x=async()=>{const c=await _.fetchSingleVendor(s);if(c.status!=200)return;const b=c.data.data.vendor;v(d(b))};return N.useEffect(()=>{x().then(()=>{n(!1)})},[s]),N.useEffect(()=>{v(d({api:"updateSingleVendor",redirectTo:"/vendor/edit/:id",action:"edit"}))},[]),r?e(I,{}):!l("update-vendor")||r?e(I,{}):y("div",{className:"px-4",children:[e(L,{formState:o,resetForm:E}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(G,{})})})]})};export{ee as default};
