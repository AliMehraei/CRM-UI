import{c as x,u as S,r as o,h as D,d as I,s as O,j as a,e as p,b as s,f as P,i as _,aG as L,a as E}from"./main-df5dc7ed.js";import{I as T}from"./InfoListComponent-0cf3cf84.js";import{A as $}from"./ActionButtonsPreview-b8a965fd.js";import{I as l}from"./InformationSectionPreview-f66ace2c.js";import{T as B}from"./TableSectionPreview-195cdfc1.js";import{A as G}from"./AttachmentSection-2b18bb8f.js";import{A as M}from"./AttachmentDownloadButton-8bdc460b.js";import{G as Q}from"./GenerateEmailLogList-056f10ce.js";import{G as F}from"./GenerateCallList-8e7ca3b6.js";import"./CommonIcons-4af903f4.js";import"./sortBy-4d9efad5.js";import"./_baseIsEqual-9290e441.js";const ae=()=>{var n,c,d,u,v,y,f,h;const{hasPermission:b}=x(),m=S(),[r,g]=o.useState(!0),t=D().id,w=new E,e=I(i=>i.availabilityForm);o.useEffect(()=>{m(O("Availability Preview"))});const N=()=>{window.print()},k=async()=>{const i=await w.fetchSingleAvailability(t);if(i.status!=200)return;const j=i.data.data.availability;m(L(j))},A=[{label:"Vendor Name",value:((n=e.vendor)==null?void 0:n.vendor_name)??""},{label:"Vendor Quote No",value:e.vendor_quote_no},{label:"Vendor Source",value:e.availability_source},{label:"Availability Owner",value:`${((c=e.owner)==null?void 0:c.first_name)??""} ${((d=e.owner)==null?void 0:d.last_name)??""}`},{label:"Created By",value:`${((u=e.creator)==null?void 0:u.first_name)??""} ${((v=e.creator)==null?void 0:v.last_name)??""}`},{label:"Modified By",value:`${((y=e.modifier)==null?void 0:y.first_name)??""} ${((f=e.modifier)==null?void 0:f.last_name)??""}`}],C=[{key:"cost_3000",label:"Cost_3000"},{key:"cost_1000",label:"Cost_1000"},{key:"cost_500",label:"cost_500"},{key:"cost_250",label:"Cost_250"},{key:"cost_25",label:"Cost_25"},{key:"cost_10",label:"Cost_10"},{key:"cost_1",label:"Cost_1"}];return o.useEffect(()=>{k().then(()=>{g(!1)})},[t]),r?a(p,{}):!b("read-availability")||r?a(p,{}):s("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a($,{loading:r,hasPermission:b,modelId:t,exportTable:N,routeModel:"availability",permissionModel:"availability"})}),s("div",{className:"panel",children:[s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Availability"}),a("div",{className:"shrink-0",children:a("img",{src:P(e.image_data),alt:"vendor image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a(T,{data:A}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Availability Information",leftObjects:[{label:"Availability Name",value:e.availability_name}],rightObjects:[{label:"Availability File",value:a(M,{formAttribute:"availability_file",modelName:"availability",formState:e})}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Status Information",leftObjects:[{label:"Availability Type",value:e.availability_type},{label:"Valid",value:e.valid}],rightObjects:[{label:"Availability Date",value:e.created_at},{label:"Availability No",value:e.availability_no},{label:"Rating",value:e.rating}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Quote Line",leftObjects:[{label:"Product name",value:((h=e.product)==null?void 0:h.product_name)??""},{label:"SKU name",value:e.quantity},{label:"In Stock Quantity",value:e.in_stock_quantity},{label:"Currency",value:e.currency},{label:"Cost",value:e.cost},{label:"Exchange Rate",value:e.exchange_rate}],rightObjects:[{label:"Lead Time",value:e.vat_no},{label:"Date Code",value:e.forwarder},{label:"SPQ",value:e.forwarder_account_no},{label:"MOQ",value:e.forwarder_account_no},{label:"Comment",value:e.comment}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Development Information",leftObjects:[{label:"From Our Inventory",value:e.from_our_inventory?"Yes":"No"}],rightObjects:[{label:"Portal Availability Id",value:e.portal_availability_id}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(B,{title:"Price-Breaks Items",items:e.price_breaks,columns:C}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Date information",leftObjects:[{label:"Created Date",value:_(e.created_at)}],rightObjects:[{label:"Modified Date",value:_(e.updated_at)}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(G,{modelId:t,modelName:"availability"}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(F,{permissionName:"read-availability",type:"call",routeName:"fetchAvailabilityCall",modelId:t,title:"Call Logs"}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Q,{permissionName:"read-availability",type:"email-log",routeName:"fetchAvailabilityEmailLogs",modelId:t,title:"Email Logs"})]})]})};export{ae as default};
