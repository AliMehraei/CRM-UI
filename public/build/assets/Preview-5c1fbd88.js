import{c as O,u as C,r as s,h as D,a as I,s as B,i as P,ax as x,b as a,d as y,j as n,f as $,e as M}from"./main-14f615f5.js";import{I as A}from"./InfoListComponent-87aca96b.js";import{A as T,I as t}from"./InformationSectionPreview-130d8c00.js";import{M as L}from"./MultipleLineSectionPreview-708fbff5.js";import"./CommonIcons-8e83bba2.js";const G=()=>{var u,b,m,d,p,h,_,v,f,g;const{hasPermission:c}=O(),i=C(),[r,w]=s.useState(!0),o=D().id,S=new M,e=I(l=>l.excessForm);s.useEffect(()=>{i(B("Excess Preview"))});const E=()=>{window.print()},N=async()=>{const l=await S.fetchSingleExcess(o);if(l.status!=200)return;const k=l.data.data.excess;i(x(k))};s.useEffect(()=>{e.excess_file&&P("excess","excess_file",e.excess_file).then(l=>{i(x({excess_file_preview:l}))})},[]);const j=[{label:"Account Name",value:`${((u=e.account)==null?void 0:u.account_name)??""}}`},{label:"Excess Name",value:e.excess_name},{label:"Contact",value:`${((b=e.contact)==null?void 0:b.first_name)??""} ${((m=e.contact)==null?void 0:m.last_name)??""}`},{label:"Email",value:a("a",{className:"text-primary",target:"_blank",rel:"noopener noreferrer",href:"mailto:"+e.email,children:e.email})},{label:"Excess Owner",value:`${((d=e.owner)==null?void 0:d.first_name)??""} ${((p=e.owner)==null?void 0:p.last_name)??""}`},{label:"Created By",value:`${((h=e.creator)==null?void 0:h.first_name)??""} ${((_=e.creator)==null?void 0:_.last_name)??""}`},{label:"Modified By",value:`${((v=e.modifier)==null?void 0:v.first_name)??""} ${((f=e.modifier)==null?void 0:f.last_name)??""}`}];return s.useEffect(()=>{N().then(()=>{w(!1)})},[o]),r?a(y,{}):!c("read-account")||r?a(y,{}):n("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(T,{loading:r,hasPermission:c,modelId:o,exportTable:E,routeModel:"excess",permissionModel:"excess"})}),n("div",{className:"panel",children:[n("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Excess"}),a("div",{className:"shrink-0",children:a("img",{src:$(e.image_data),alt:"account image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a(A,{data:j}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"General Information",leftObjects:[{label:"Portal Excess Id",value:e.portal_excess_id},{label:"Excess Source",value:e.excess_source},{label:"Secondary Email",value:a("a",{className:"text-primary",target:"_blank",rel:"noopener noreferrer",href:"mailto:"+e.secondary_email,children:e.secondary_email})},{label:"Currency",value:e.currency}],rightObjects:[{label:"Excess File",value:a("a",{disabled:!e.excess_file,className:"btn btn-sm btn-outline-primary cursor-pointer",href:e.excess_file_preview??e.excess_file,target:"__blank",children:"Download"})},{label:"Exchange Rate",value:e.exchange_rate},{label:"Email Opt Out",value:e.email_opt_out?"Yes":"No"}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Status",leftObjects:[{label:"Excess Type",value:e.excess_type}],rightObjects:[{label:"Excess No",value:e.excess_no}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Excess Line",leftObjects:[{label:"Product name",value:((g=e.product)==null?void 0:g.product_name)??""},{label:"Customer Internal No.",value:e.customer_internal_no??""},{label:"Quantity",value:e.quantity}],rightObjects:[{label:"Cost",value:e.cost},{label:"Date Code",value:e.date_code},{label:"SPQ",value:e.spq},{label:"MOQ",value:e.moq},{label:"Comment",value:e.comment}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Address Information",leftObjects:[{label:"Billing Street",value:e.billing_street},{label:"Billing City",value:e.billing_city},{label:"Billing Code",value:e.billing_code},{label:"Billing State",value:e.billing_state},{label:"Billing Country",value:e.billing_country}],rightObjects:[{label:"Shipping Street",value:e.shipping_street},{label:"Shipping City",value:e.shipping_city},{label:"Shipping Code",value:e.shipping_code},{label:"Shipping State",value:e.shipping_state},{label:"Shipping Country",value:e.shipping_country}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(L,{sectionTitle:"Description Information",data:[{label:"Description",value:e.description},{label:"Last Activity Date",value:e.last_activity_date}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Technical information",leftObjects:[{label:"ZohoBooksID",value:e.zoho_books_id},{label:"BooksID EUR",value:e.books_id_eur},{label:"BooksID USD",value:e.books_id_usd}],rightObjects:[{label:"BOM/Excess Total Uploading Rows",value:e.bom_total_row},{label:"Account Margin",value:e.account_margin}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Unused information",leftObjects:[{label:"Purchasing Volume Current",value:e.purchasing_volume_current}],rightObjects:[{label:"Annual Revenue",value:e.annual_revenue}]})]})]})};export{G as default};
