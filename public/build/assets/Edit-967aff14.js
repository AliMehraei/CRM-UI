import{u as g,a as x,j as u,b as e,Z as f,F as N,c as w,r as _,f as C,s as y,g as F,$ as S}from"./main-23791f1d.js";import{A as v}from"./react-select-async.esm-ffb837fe.js";import{h as I,g as M,s as E,G as b,c as V}from"./CommonFunctions-41741e79.js";import{C as k}from"./ClearButtonComponent-41fd9640.js";import"./Select-aecb2a80.esm-73517497.js";import"./sweetalert2.all-685335b3.js";const A=()=>{var c,m,s,o,t,i;const n=g(),r=x(a=>a.manufacturerForm),l=(a,d)=>{n(f({[a]:d}))},h={"Manufacturer Information":{"Manufacturer Image":u("div",{className:"",children:[u("div",{className:"flex",children:[e("input",{id:"manufacturer_image",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"image/*",onChange:a=>I(a,d=>{n(f({image:`${d==null?void 0:d.data.data.file_url}`}))}),name:"manufacturerImage"},"manufacturer_image"),e(k,{callBack:()=>{const a=document.getElementById("manufacturer_image");a&&(a.value="",a.dispatchEvent(new Event("change",{bubbles:!0}))),n(f({image:null}))}})]}),e("img",{id:"manufacturer_image_preview",src:M(r.image||r.oldImage),alt:"img",className:"mt-4 w-20 h-20 rounded"})]}),"Manufacturer Name":e("input",{id:"name",required:!0,name:"name",className:"form-input flex-1 ",onChange:a=>l(a.target.name,a.target.value),value:r.name}),"Octo Api Id":e("input",{id:"octo_api_id",name:"octo_api_id",className:"form-input flex-1 ",onChange:a=>l(a.target.name,a.target.value),value:r.octo_api_id}),"Alias Names":e("textarea",{id:"alias_names",name:"alias_names",rows:3,className:"form-textarea flex-1",onChange:a=>l(a.target.name,a.target.value),value:r.alias_names})},"":{Active:e("input",{id:"is_active",type:"checkbox",name:"is_active",className:"form-checkbox",onChange:a=>l(a.target.name,a.target.checked),checked:r.is_active}),"Manufacturer Owner":e(v,{isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:E,onChange:({value:a})=>{l("owner_id",a)},className:"flex-1",defaultValue:{value:(c=r.owner)==null?void 0:c.id,label:u("div",{className:"flex items-center",children:[e("img",{src:(m=r.owner)==null?void 0:m.avatar,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),u("div",{children:[e("div",{className:"text-sm font-bold",children:((s=r.owner)==null?void 0:s.first_name)+" "+((o=r.owner)==null?void 0:o.last_name)}),e("div",{className:"text-xs text-gray-500",children:(t=r.owner)==null?void 0:t.email})]})]},(i=r.owner)==null?void 0:i.id)}})}};return e(N,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(b,{fields:h})})})},L=()=>{var s,o;const n=x(t=>t.manufacturerForm),r=g(),l=new w,h=(t,i)=>{r(f({[t]:i}))},c=async t=>{const i="id",a="vendor_name",d=await l.searchVendor({query:t});if(d.status)return d.data.data.map(p=>({value:p[i],label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:p[a]})})},p[i])}))},m={"Line Card":{"Vendor_Line Card":e(v,{isMulti:!1,id:"vendor_line_card_id",name:"vendor_line_card_id",placeholder:"Type at least 2 characters to search...",loadOptions:c,className:"flex-1",onChange:({value:t})=>{h("vendor_line_card_id",t)},defaultValue:{value:n.vendor_line_card_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(s=n.vendor_line_card)==null?void 0:s.vendor_name})})},n.vendor_line_card_id)}})},"":{"Vendor_Strong Lines":e(v,{isMulti:!1,id:"vendor_strong_lines_id",name:"vendor_strong_lines_id",placeholder:"Type at least 2 characters to search...",loadOptions:c,className:"flex-1",onChange:({value:t})=>{h("vendor_strong_lines_id",t)},defaultValue:{value:n.vendor_line_card_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(o=n.vendor_line_card)==null?void 0:o.vendor_name})})},n.vendor_line_card_id)}})}};return e(N,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(b,{fields:m})})})},O=()=>u("div",{className:"mt-8 px-4",children:[e(A,{},"manufacturerInfo"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(L,{},"lineCard")]}),G=()=>{const n=x(t=>t.manufacturerForm),[r,l]=_.useState(!0),c=C().id,m=new w,s=g();_.useEffect(()=>{s(y("Manufacturer Edit"))});const o=async()=>{const t=await m.fetchSingleManufacturer(c);if(t.status!=200)return;const i=t.data.data.manufacturer;i.oldImage=i.image,s(f(i))};return _.useEffect(()=>{o().then(()=>{l(!1)})},[c]),_.useEffect(()=>{s(f({api:"updateSingleManufacturer",redirectTo:"/manufacturer/edit/:id",action:"edit"}))},[]),r?e(F,{}):u("div",{className:"px-4",children:[e(V,{formState:n,resetForm:S}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(O,{})})})]})};export{G as default};
