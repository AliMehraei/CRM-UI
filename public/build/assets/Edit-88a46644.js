import{u as g,c as v,a as b,b as e,j as p,F as y,t as h,r as S,f as Q,s as z,g as G,v as W}from"./main-9b0342c2.js";import{A as _}from"./react-select-async.esm-2234b8d6.js";import{p as Z,d as J,n as K,a as U,s as Y,G as N,q as X,S as H,h as ee,m as ae,b as te,j as le,c as ne}from"./CommonFunctions-abe86de7.js";import{S as C}from"./react-select.esm-1dd62acb.js";import{F as w}from"./index-8089a176.js";/* empty css                  */import"./Select-aecb2a80.esm-73074169.js";import"./sweetalert2.all-1b2d968f.js";const re=()=>{var t,d,m,r,s,n,f,i,x,V,D,F,q,P,j,k,T,A,I,B,M,$,L,E,R;const c=g();new v;const a=b(o=>o.purchaseOrderForm),l=(o,O)=>{c(h({[o]:O}))},u={Header:{"Vendor Name":e(_,{isMulti:!1,required:!0,id:"vendor_id",placeholder:"Type at least 2 characters to search...",name:"vendor_id",loadOptions:Z,onChange:({value:o})=>{l("vendor_id",o)},className:"flex-1",defaultValue:{value:(t=a.vendor)==null?void 0:t.id,label:e("div",{className:"flex items-center",children:p("div",{children:[e("div",{className:"text-sm font-bold",children:(d=a.vendor)==null?void 0:d.vendor_name}),e("div",{className:"text-xs text-gray-500",children:(m=a.vendor)==null?void 0:m.email})]})},(r=a.vendor)==null?void 0:r.id)}}),"Contact Name":e(_,{isMulti:!1,id:"contact_id",placeholder:"Type at least 2 characters to search...",name:"contact_id",loadOptions:J,onChange:({value:o})=>{l("contact_id",o)},className:"flex-1",defaultValue:{value:(s=a.contact)==null?void 0:s.id,label:p("div",{className:"flex items-center",children:[e("img",{src:(n=a.contact)==null?void 0:n.image,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),p("div",{children:[e("div",{className:"text-sm font-bold",children:((f=a.contact)==null?void 0:f.first_name)+" "+((i=a.account)==null?void 0:i.last_name)}),e("div",{className:"text-xs text-gray-500",children:(x=a.contact)==null?void 0:x.email})]})]},(V=a.contact)==null?void 0:V.id)}}),"Availability No":e(_,{isMulti:!1,id:"availability_id",placeholder:"Type at least 2 characters to search...",name:"availability_id",loadOptions:K,onChange:({value:o})=>{l("availability_id",o)},className:"flex-1",defaultValue:{value:(D=a.availability)==null?void 0:D.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(F=a.availability)==null?void 0:F.availability_name})},(q=a.availability)==null?void 0:q.id)}}),Currency:e(C,{options:U,name:"currency",id:"currency",onChange:({value:o})=>{l("currency",o)},className:"flex-1",defaultValue:U.find(o=>o.value==a.currency)}),"Exchange Rate":e("input",{id:"exchange_rate",name:"exchange_rate",type:"text",value:"1",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0,defaultValue:a.exchange_rate})},"":{"PO Date":e(w,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.po_date?new Date(a.po_date):""}`},name:"po_date",value:a.po_date?new Date(a.po_date):"",className:"form-input flex-1",onChange:(o,O)=>l("po_date",O)}),"PurchaseOrders Owner":e(_,{isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:Y,onChange:({value:o})=>{l("owner_id",o)},className:"flex-1",defaultValue:{value:(P=a.owner)==null?void 0:P.id,label:p("div",{className:"flex items-center",children:[e("img",{src:(j=a.owner)==null?void 0:j.avatar,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),p("div",{children:[e("div",{className:"text-sm font-bold",children:((k=a.owner)==null?void 0:k.first_name)+" "+((T=a.owner)==null?void 0:T.last_name)}),e("div",{className:"text-xs text-gray-500",children:(A=a.owner)==null?void 0:A.email})]})]},(I=a.owner)==null?void 0:I.id)}}),"Approved By":e(_,{isMulti:!1,id:"approved_by_id",placeholder:"Type at least 2 characters to search...",name:"approved_by_id",loadOptions:Y,onChange:({value:o})=>{l("approved_by_id",o)},className:"flex-1",defaultValue:{value:(B=a.approved_by)==null?void 0:B.id,label:p("div",{className:"flex items-center",children:[e("img",{src:(M=a.approved_by)==null?void 0:M.avatar,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),p("div",{children:[e("div",{className:"text-sm font-bold",children:(($=a.approved_by)==null?void 0:$.first_name)+" "+((L=a.approved_by)==null?void 0:L.last_name)}),e("div",{className:"text-xs text-gray-500",children:(E=a.approved_by)==null?void 0:E.email})]})]},(R=a.approved_by)==null?void 0:R.id)}})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(N,{fields:u})})})},ie=()=>{var m,r,s;const c=g();new v;const a=b(n=>n.purchaseOrderForm),l=(n,f)=>{c(h({[n]:f}))},u=[{value:"none",label:"-None-"},{value:"single",label:"Single PO"},{value:"frame",label:"Frame PO"},{value:"call_off",label:"Call Off"},{value:"forecast",label:"Forecast PO"}],t=[{value:"vendor_forwarder",label:"Vendor Forwarder"},{value:"ups",label:"UPS"},{value:"usps",label:"USPS"},{value:"dhl",label:"DHL"},{value:"blue_dart",label:"BlueDart"}],d={"PurchaseOrders Information":{"PO Type":e(C,{options:u,name:"po_type",id:"po_type",onChange:({value:n})=>{l("purchapo_typeseOrder_type",n)},className:"flex-1",defaultValue:u.find(n=>n.value==a.po_type)}),"Parent PO No.":e(_,{isMulti:!1,id:"parent_po_id",placeholder:"Type at least 2 characters to search...",name:"parent_po_id",loadOptions:X,onChange:({value:n})=>{l("parent_po_id",n)},className:"flex-1",defaultValue:{value:(m=a.parent_po)==null?void 0:m.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(r=a.parent_po)==null?void 0:r.subject})},(s=a.parent_po)==null?void 0:s.id)}}),ZohoBooksID:e("input",{id:"zoho_books_id",name:"zoho_books_id",className:"form-input flex-1 ",onChange:n=>l(n.target.name,n.target.value),defaultValue:a.zoho_books_id})},"":{Subject:e("input",{id:"subject",required:!0,name:"subject",className:"form-input flex-1 ",onChange:n=>l(n.target.name,n.target.value),defaultValue:a.subject}),Status:e(C,{options:H,name:"status",id:"status",onChange:({value:n})=>{l("status",n)},className:"flex-1",defaultValue:H.find(n=>n.value==a.status)}),Carrier:e(C,{options:t,name:"carrier",id:"carrier",onChange:({value:n})=>{l("carrier",n)},className:"flex-1",defaultValue:t.find(n=>n.value==a.carrier)}),AWB:e("input",{id:"awb",name:"awb",className:"form-input flex-1 ",onChange:n=>l(n.target.name,n.target.value),defaultValue:a.awb}),"Confirmation Vendor":e("input",{id:"confirmation_vendor",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"*",onChange:n=>ee(n,f=>{c(h({field:"confirmation_vendor",value:`${f==null?void 0:f.data.data.file_url}`}))}),name:"confirmation_vendorFile"},"confirmation_vendor")}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(N,{fields:d})})})},se=()=>(g(),new v,b(a=>a.purchaseOrderForm),e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(N,{fields:{"Purchase Items":{},"":{}}})})})),de=()=>{var t,d,m;const c=g();new v;const a=b(r=>r.purchaseOrderForm),l=(r,s)=>{c(h({[r]:s}))},u={"PO line":{"Requested Delivery Date":e(w,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.requested_delivery_date?new Date(a.requested_delivery_date):""}`},name:"requested_delivery_date",value:a.requested_delivery_date?new Date(a.requested_delivery_date):"",className:"form-input flex-1",onChange:(r,s)=>l("requested_delivery_date",s)}),"Product Name":e(_,{isMulti:!1,id:"product_id",placeholder:"Type at least 2 characters to search...",name:"product_id",loadOptions:ae,onChange:({value:r})=>{l("product_id",r)},className:"flex-1",defaultValue:{value:(t=a.product)==null?void 0:t.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(d=a.product)==null?void 0:d.product_name})},(m=a.product)==null?void 0:m.id)}}),Quantity:e("input",{id:"quantity",name:"quantity",className:"form-input flex-1 ",type:"number",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.quantity}),Cost:e("input",{type:"number",id:"cost",name:"cost",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.cost})},"":{"Confirmed Delivery Date":e(w,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.confirmed_delivery_date?new Date(a.confirmed_delivery_date):""}`},name:"confirmed_delivery_date",value:a.confirmed_delivery_date?new Date(a.confirmed_delivery_date):"",className:"form-input flex-1",onChange:(r,s)=>l("confirmed_delivery_date",s)}),"Date Code":e("input",{id:"date_code",name:"date_code",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.date_code}),SPQ:e("input",{id:"spq",name:"spq",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.spq}),comment:e("input",{id:"comment",name:"comment",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.comment})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(N,{fields:u})})})},oe=()=>{var d,m,r,s,n,f;const c=g();new v;const a=b(i=>i.purchaseOrderForm),l=(i,x)=>{c(h({[i]:x}))},u=[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"request_for_approval",label:"Request For Approval"},{value:"approved",label:"Approved"},{value:"confirmed",label:"Confirmed"},{value:"packed",label:"Packed"},{value:"shipped",label:"Shipped"}],t={"Linked SO":{"Account Name":e(_,{isMulti:!1,id:"account_id",placeholder:"Type at least 2 characters to search...",name:"account_id",loadOptions:te,onChange:({value:i})=>{l("account_id",i)},className:"flex-1",defaultValue:{value:(d=a.account)==null?void 0:d.id,label:p("div",{className:"flex items-center",children:[e("img",{src:(m=a.account)==null?void 0:m.image,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),p("div",{children:[e("div",{className:"text-sm font-bold",children:(r=a.account)==null?void 0:r.account_name}),e("div",{className:"text-xs text-gray-500",children:(s=a.account)==null?void 0:s.email})]})]},(n=a.account)==null?void 0:n.id)}}),"SO Number":e(_,{isMulti:!1,id:"sales_order_id",placeholder:"Type at least 2 characters to search...",name:"sales_order_id",loadOptions:le,onChange:({value:i})=>{l("sales_order_id",i)},className:"flex-1",defaultValue:{value:a.sales_order_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(f=a.sales_order)==null?void 0:f.subject})})},a.sales_order_id)}}),"Quantity SO":e("input",{id:"quantity_so",type:"number",name:"quantity_so",className:"form-input flex-1 ",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.quantity_so}),Resale:e("input",{id:"resale",type:"number",name:"resale",className:"form-input flex-1 ",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.resale}),"SO Status":e(C,{options:u,name:"so_status",id:"so_status",onChange:({value:i})=>{l("so_status",i)},className:"flex-1",defaultValue:u.find(i=>i.value==a.so_status)})},"":{"Requested D.D.":e(w,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.so_requested_d_d?new Date(a.so_requested_d_d):""}`},name:"so_requested_d_d",value:a.so_requested_d_d?new Date(a.so_requested_d_d):"",className:"form-input flex-1",onChange:(i,x)=>l("so_requested_d_d",x)}),"Confirmed D.D.":e(w,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.so_confirmed_d_d?new Date(a.so_confirmed_d_d):""}`},name:"so_confirmed_d_d",value:a.so_confirmed_d_d?new Date(a.so_confirmed_d_d):"",className:"form-input flex-1",onChange:(i,x)=>l("so_confirmed_d_d",x)}),"D/C":e("input",{id:"dc",name:"dc",className:"form-input flex-1 ",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.dc}),"SPQ SO":e("input",{id:"spq_so",name:"spq_so",className:"form-input flex-1 ",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.spq_so})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(N,{fields:t})})})},ce=()=>{const c=g();new v;const a=b(t=>t.purchaseOrderForm),l=(t,d)=>{c(h({[t]:d}))},u={"Address Information":{"Billing Street":e("input",{required:!0,id:"billing_street",name:"billing_street",className:"form-input flex-1",defaultValue:a.billing_street,onChange:t=>l(t.target.name,t.target.value)}),"Billing City":e("input",{required:!0,id:"billing_city",name:"billing_city",className:"form-input flex-1",defaultValue:a.billing_city,onChange:t=>l(t.target.name,t.target.value)}),"Billing State":e("input",{id:"billing_state",name:"billing_state",className:"form-input flex-1",defaultValue:a.billing_state,onChange:t=>l(t.target.name,t.target.value)}),"Billing Code":e("input",{required:!0,id:"billing_code",name:"billing_code",className:"form-input flex-1",defaultValue:a.billing_code,onChange:t=>l(t.target.name,t.target.value)}),"Billing Country":e("input",{required:!0,id:"billing_country",name:"billing_country",defaultValue:a.billing_country,className:"form-input flex-1",onChange:t=>l(t.target.name,t.target.value)})},"":{"Shipping Street":e("input",{id:"shipping_street",name:"shipping_street",className:"form-input flex-1",defaultValue:a.shipping_street,onChange:t=>l(t.target.name,t.target.value)}),"Shipping City":e("input",{id:"shipping_city",name:"shipping_city",className:"form-input flex-1",defaultValue:a.shipping_city,onChange:t=>l(t.target.name,t.target.value)}),"Shipping State":e("input",{id:"shipping_state",name:"shipping_state",className:"form-input flex-1",defaultValue:a.shipping_state,onChange:t=>l(t.target.name,t.target.value)}),"Shipping Code":e("input",{id:"shipping_code",name:"shipping_code",className:"form-input flex-1",defaultValue:a.shipping_code,onChange:t=>l(t.target.name,t.target.value)}),"Shipping Country":e("input",{id:"shipping_country",name:"shipping_country",className:"form-input flex-1",defaultValue:a.shipping_country,onChange:t=>l(t.target.name,t.target.value)})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(N,{fields:u})})})},ue=()=>{const c=b(t=>t.purchaseOrderForm),a=g();new v;const l=(t,d)=>{a(h({[t]:d}))},u={"Terms and Conditions":{"Terms and Conditions":e("textarea",{id:"terms_conditions",rows:3,name:"terms_conditions",className:"form-textarea flex-1",placeholder:"",onChange:t=>l(t.target.name,t.target.value),defaultValue:c.terms_conditions})},"":{}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(N,{fields:u})})})},me=()=>{const c=b(t=>t.purchaseOrderForm),a=g();new v;const l=(t,d)=>{a(h({[t]:d}))},u={"Description Information":{Description:e("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",placeholder:"",onChange:t=>l(t.target.name,t.target.value),defaultValue:c.description})},"":{}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(N,{fields:u})})})},fe=()=>p("div",{className:"mt-8 px-4",children:[e(re,{},"HeaderSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(ie,{},"PurchaseOrderInformationSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(se,{},"PurchaseItemsSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(de,{},"POLineSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(oe,{},"LinkedSOSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(ce,{},"AddressInformationSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(ue,{},"TermsConditionsSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(me,{},"DescriptionInformationSection")]}),Ne=()=>{const c=b(s=>s.purchaseOrderForm),[a,l]=S.useState(!0),t=Q().id,d=new v,m=g();S.useEffect(()=>{m(z("PurchaseOrder Edit"))});const r=async()=>{const s=await d.fetchSinglePurchaseOrder(t);if(s.status!=200)return;const n=s.data.data.purchaseOrder;m(h(n))};return S.useEffect(()=>{r().then(()=>{l(!1)})},[t]),S.useEffect(()=>{m(h({api:"updateSinglePurchaseOrder",redirectTo:"/purchase/edit/:id",action:"edit"}))},[]),a?e(G,{}):p("div",{className:"px-4",children:[e(ne,{formState:c,resetForm:W}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(fe,{})})})]})};export{Ne as default};
