import{c as M,u as O,r,h as T,a as k,s as A,b as a,d as N,j as n,f as E,k as R,e as B}from"./main-14f615f5.js";import{I as F}from"./InfoListComponent-87aca96b.js";import{A as q,I as Q}from"./InformationSectionPreview-130d8c00.js";import{M as U}from"./MultipleLineSectionPreview-708fbff5.js";import"./CommonIcons-8e83bba2.js";const W=()=>{var c,m,d,u,b,f,p,v,_,h,g,w,$,x,D,y;const{hasPermission:i}=M(),o=O(),[t,S]=r.useState(!0),s=T().id,j=new B,e=k(l=>l.accountForm);r.useEffect(()=>{o(A("Deal Preview"))});const P=()=>{window.print()},I=async()=>{const l=await j.fetchSingleDeal(s);if(l.status!=200)return;const C=l.data.data.deal;o(R(C))},L=[{label:"Deal Number",value:e.deal_number},{label:"Deal Name",value:e.deal_name},{label:"Account Owner",value:`${((c=e.account)==null?void 0:c.first_name)??""} ${((m=e.account)==null?void 0:m.last_name)??""}`},{label:"Deal Owner",value:`${((d=e.owner)==null?void 0:d.first_name)??""} ${((u=e.owner)==null?void 0:u.last_name)??""}`},{label:"Created By",value:`${((b=e.creator)==null?void 0:b.first_name)??""} ${((f=e.creator)==null?void 0:f.last_name)??""}`},{label:"Modified By",value:`${((p=e.modifier)==null?void 0:p.first_name)??""} ${((v=e.modifier)==null?void 0:v.last_name)??""}`}];return r.useEffect(()=>{I().then(()=>{S(!1)})},[s]),t?a(N,{}):!i("read-account")||t?a(N,{}):n("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(q,{loading:t,hasPermission:i,modelId:s,exportTable:P,routeModel:"account",permissionModel:"account"})}),n("div",{className:"panel",children:[n("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Deal"}),a("div",{className:"shrink-0",children:a("img",{src:E(e.image_data),alt:"Deal image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a(F,{data:L}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Q,{title:"Deals Information",leftObjects:[{label:"Type",value:e.deal_type},{label:"Currency",value:e.lead_reference},{label:"Contact Name",value:`${((_=e.contact)==null?void 0:_.first_name)??""} ${((h=e.contact)==null?void 0:h.last_name)??""}`},{label:"Lead",value:`${((g=e.lead)==null?void 0:g.first_name)??""} ${((w=e.lead)==null?void 0:w.last_name)??""}`},{label:"Invoice",value:`${(($=e.invoice)==null?void 0:$.subject)??""}`},{label:"RFQ",value:`${((x=e.invoice)==null?void 0:x.rfq_name)??""}`},{label:"Quote",value:`${((D=e.quote)==null?void 0:D.subject)??""}`},{label:"Sales Order",value:`${((y=e.invoice)==null?void 0:y.sales_order)??""}`}],rightObjects:[{label:"Amount",value:e.amount},{label:"Closing Date",value:e.closing_date},{label:"PipLine",value:e.deal_pipeline},{label:"Stage",value:e.deal_stage},{label:"Probability",value:e.probability},{label:"Next Step",value:e.next_step},{label:"Lead Reference ",value:e.lead_reference},{label:"Exchange Rate",value:e.exchange_rate}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(U,{sectionTitle:"Description Information",data:[{label:"Description",value:e.description}]})]})]})};export{W as default};
