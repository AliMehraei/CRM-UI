import{c as A,u as I,r as t,h as S,a as P,s as O,i as D,av as p,b as e,d as h,j as n,f as T,e as $}from"./main-14f615f5.js";import{I as B}from"./InfoListComponent-87aca96b.js";import{A as E,I as i}from"./InformationSectionPreview-130d8c00.js";import{T as F}from"./TableSectionPreview-8f14580e.js";import"./CommonIcons-8e83bba2.js";const U=()=>{var c,m,d,v,u,y,_,f;const{hasPermission:b}=A(),r=I(),[s,w]=t.useState(!0),o=S().id,g=new $,a=P(l=>l.availabilityForm);t.useEffect(()=>{r(O("Availability Preview"))});const k=()=>{window.print()},N=async()=>{const l=await g.fetchSingleAvailability(o);if(l.status!=200)return;const C=l.data.data.availability;r(p(C))};t.useEffect(()=>{a.contract_attachment&&D("availability","availability_file",a.availability_file).then(l=>{r(p({availability_file_preview:l}))})},[]);const j=[{label:"Vendor Name",value:((c=a.vendor)==null?void 0:c.vendor_name)??""},{label:"Vendor Quote No",value:a.vendor_quote_no},{label:"Vendor Source",value:a.availability_source},{label:"Availability Owner",value:`${((m=a.owner)==null?void 0:m.first_name)??""} ${((d=a.owner)==null?void 0:d.last_name)??""}`},{label:"Created By",value:`${((v=a.creator)==null?void 0:v.first_name)??""} ${((u=a.creator)==null?void 0:u.last_name)??""}`},{label:"Modified By",value:`${((y=a.modifier)==null?void 0:y.first_name)??""} ${((_=a.modifier)==null?void 0:_.last_name)??""}`}],x=[{key:"cost_3000",label:"Cost_3000"},{key:"cost_1000",label:"Cost_1000"},{key:"cost_500",label:"cost_500"},{key:"cost_250",label:"Cost_250"},{key:"cost_25",label:"Cost_25"},{key:"cost_10",label:"Cost_10"},{key:"cost_1",label:"Cost_1"}];return t.useEffect(()=>{N().then(()=>{w(!1)})},[o]),s?e(h,{}):!b("read-availability")||s?e(h,{}):n("div",{children:[e("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:e(E,{loading:s,hasPermission:b,modelId:o,exportTable:k,routeModel:"availability",permissionModel:"availability"})}),n("div",{className:"panel",children:[n("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[e("div",{className:"text-2xl font-semibold uppercase",children:"Availability"}),e("div",{className:"shrink-0",children:e("img",{src:T(a.image_data),alt:"vendor image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),e(B,{data:j}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(i,{title:"Availability Information",leftObjects:[{label:"Availability Name",value:a.availability_name}],rightObjects:[{label:"Availability File",value:e("a",{disabled:!a.availability_file,className:"btn btn-sm btn-outline-primary cursor-pointer",href:a.availability_file_preview??a.availability_file,target:"__blank",children:"Download"})}]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(i,{title:"Status Information",leftObjects:[{label:"Availability Type",value:a.availability_type},{label:"Valid",value:a.valid}],rightObjects:[{label:"Availability Date",value:a.created_at},{label:"Availability No",value:a.availability_no},{label:"Rating",value:a.rating}]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(i,{title:"Quote Line",leftObjects:[{label:"Product name",value:((f=a.product)==null?void 0:f.product_name)??""},{label:"SKU name",value:a.quantity},{label:"In Stock Quantity",value:a.in_stock_quantity},{label:"Currency",value:a.currency},{label:"Cost",value:a.cost},{label:"Exchange Rate",value:a.exchange_rate}],rightObjects:[{label:"Lead Time",value:a.vat_no},{label:"Date Code",value:a.forwarder},{label:"SPQ",value:a.forwarder_account_no},{label:"MOQ",value:a.forwarder_account_no},{label:"Comment",value:a.comment}]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(i,{title:"Development Information",leftObjects:[{label:"From Our Inventory",value:a.from_our_inventory?"Yes":"No"}],rightObjects:[{label:"Portal Availability Id",value:a.portal_availability_id}]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(F,{title:"Price-Breaks Items",items:a.price_breaks,columns:x})]})]})};export{U as default};
