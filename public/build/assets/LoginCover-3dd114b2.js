import{u as f,T as g,c as h,r as x,s as b,j as e,e as w,b as a,b6 as l,S as N,a as v}from"./main-cc930730.js";const S=()=>{const d=new v,m=f(),n=g(),{isLoggedIn:r,isLoading:u}=h();x.useEffect(()=>{if(r){n("/");return}m(b("Login Cover"))},[r]);const p=async t=>{t.preventDefault();const i=t.target.email.value,c=t.target.password.value;try{const s=await d.login({email:i,password:c});s.data.isOk&&s.status===200?(l(s.data.token,"token"),l(s.data.user,"userData"),l(s.data.userUnifiedToken,"userUniqueIdentifier"),n("/")):(o(`Login failed : ${s.data.message}`,"error"),console.error("Login failed:",s.data.message))}catch(s){console.error("Error during API call:",s),o("An error occurred. Please try again later.","error")}},o=(t="",i="success")=>{N.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:i,title:t,padding:"10px 20px"})};return u||r?e(w,{}):a("div",{className:"flex min-h-screen",children:[a("div",{className:"bg-gradient-to-t from-[#001F3F] to-[#3b82f6] w-1/2 min-h-screen hidden lg:flex flex-col items-center justify-center text-white dark:text-black p-4",children:[e("div",{className:"w-full mx-auto mb-5",children:e("img",{src:"/assets/images/sascrm-cover.png",alt:"SasCrm",className:"lg:max-w-[370px] xl:max-w-[400px] mx-auto"})}),e("h3",{className:"text-3xl font-bold mb-4 text-center",children:"Your Gateway to CRM Success."}),e("p",{children:"Streamline, Simplify, Succeed."})]}),e("div",{className:"w-full lg:w-1/2 relative flex justify-center items-center",children:a("div",{className:"max-w-[480px] p-5 md:p-10",children:[a("h2",{className:"font-bold text-3xl mb-3 text-center",children:[e("span",{className:"text-blue-500",children:"BLUE"}),e("span",{className:"text-[#001F3F]"})," CRM"]}),e("p",{className:"mb-7",children:"Enter your email and password to login"}),a("form",{className:"space-y-5",onSubmit:p,children:[a("div",{children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{id:"email",type:"email",className:"form-input",placeholder:"Enter Email"})]}),a("div",{children:[e("label",{htmlFor:"password",children:"Password"}),e("input",{id:"password",type:"password",className:"form-input",placeholder:"Enter Password"})]}),e("div",{}),e("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:bg-blue-700 focus:ring-2 focus:ring-blue-200 active:bg-blue-800",children:"SIGN IN"})]})]})})]})};export{S as default};
