import{c as x,u as S,r as o,h as D,d as I,s as O,j as a,e as h,b as s,f as P,i as p,aG as T,a as $}from"./main-d43b918e.js";import{I as B}from"./InfoListComponent-477c8835.js";import{A as L}from"./ActionButtonsPreview-ba9703c7.js";import{I as t}from"./InformationSectionPreview-2b5daa63.js";import{T as M}from"./TableSectionPreview-49d99044.js";import{A as Q}from"./AttachmentSection-46c244f1.js";import{A as E}from"./AttachmentDownloadButton-b9487ee0.js";import"./CommonIcons-e725f090.js";const H=()=>{var c,m,d,u,v,y,f,_;const{hasPermission:n}=x(),b=S(),[r,g]=o.useState(!0),l=D().id,w=new $,e=I(i=>i.availabilityForm);o.useEffect(()=>{b(O("Availability Preview"))});const k=()=>{window.print()},N=async()=>{const i=await w.fetchSingleAvailability(l);if(i.status!=200)return;const C=i.data.data.availability;b(T(C))},A=[{label:"Vendor Name",value:((c=e.vendor)==null?void 0:c.vendor_name)??""},{label:"Vendor Quote No",value:e.vendor_quote_no},{label:"Vendor Source",value:e.availability_source},{label:"Availability Owner",value:`${((m=e.owner)==null?void 0:m.first_name)??""} ${((d=e.owner)==null?void 0:d.last_name)??""}`},{label:"Created By",value:`${((u=e.creator)==null?void 0:u.first_name)??""} ${((v=e.creator)==null?void 0:v.last_name)??""}`},{label:"Modified By",value:`${((y=e.modifier)==null?void 0:y.first_name)??""} ${((f=e.modifier)==null?void 0:f.last_name)??""}`}],j=[{key:"cost_3000",label:"Cost_3000"},{key:"cost_1000",label:"Cost_1000"},{key:"cost_500",label:"cost_500"},{key:"cost_250",label:"Cost_250"},{key:"cost_25",label:"Cost_25"},{key:"cost_10",label:"Cost_10"},{key:"cost_1",label:"Cost_1"}];return o.useEffect(()=>{N().then(()=>{g(!1)})},[l]),r?a(h,{}):!n("read-availability")||r?a(h,{}):s("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(L,{loading:r,hasPermission:n,modelId:l,exportTable:k,routeModel:"availability",permissionModel:"availability"})}),s("div",{className:"panel",children:[s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Availability"}),a("div",{className:"shrink-0",children:a("img",{src:P(e.image_data),alt:"vendor image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a(B,{data:A}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Availability Information",leftObjects:[{label:"Availability Name",value:e.availability_name}],rightObjects:[{label:"Availability File",value:a(E,{formAttribute:"availability_file",modelName:"availability",formState:e})}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Status Information",leftObjects:[{label:"Availability Type",value:e.availability_type},{label:"Valid",value:e.valid}],rightObjects:[{label:"Availability Date",value:e.created_at},{label:"Availability No",value:e.availability_no},{label:"Rating",value:e.rating}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Quote Line",leftObjects:[{label:"Product name",value:((_=e.product)==null?void 0:_.product_name)??""},{label:"SKU name",value:e.quantity},{label:"In Stock Quantity",value:e.in_stock_quantity},{label:"Currency",value:e.currency},{label:"Cost",value:e.cost},{label:"Exchange Rate",value:e.exchange_rate}],rightObjects:[{label:"Lead Time",value:e.vat_no},{label:"Date Code",value:e.forwarder},{label:"SPQ",value:e.forwarder_account_no},{label:"MOQ",value:e.forwarder_account_no},{label:"Comment",value:e.comment}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Development Information",leftObjects:[{label:"From Our Inventory",value:e.from_our_inventory?"Yes":"No"}],rightObjects:[{label:"Portal Availability Id",value:e.portal_availability_id}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(M,{title:"Price-Breaks Items",items:e.price_breaks,columns:j}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(t,{title:"Date information",leftObjects:[{label:"Created Date",value:p(e.created_at)}],rightObjects:[{label:"Modified Date",value:p(e.updated_at)}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(Q,{modelId:l,modelName:"availability"})]})]})};export{H as default};
