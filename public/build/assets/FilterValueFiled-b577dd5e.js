import{j as s,F as r,b as a,d as O}from"./main-5b2834b9.js";import{S as w}from"./react-select.esm-928fe285.js";import{A as k}from"./react-select-async.esm-d5696ca1.js";const S=new O,I=(F,t,V,_)=>{const v=(e,n)=>{const l={..._};l[e]={...l[e],value:n},V(l)},h=(e,n)=>{const l={value:n.target.value};v(e,l)},b=(e,n)=>{const{name:l,value:c}=n.target,i=_[e],u=i?i.value:{},d=l==="from"?c:u.from||"",o=l==="to"?c:u.to||"";v(e,{from:d,to:o})},y=(e,n)=>{const{name:l,value:c}=n.target,i=_[e],u=i?i.value:{},d=l==="period_val"?c:u.value||2,o=l==="period"?c:u.period||"day";v(e,{value:d,period:o})},g=(e,n,l="is_not")=>{let c,i,u,d;if(n.target!=null){const{name:o,value:p}=n.target,C=_[e],x=C?C.value:{};u=o==="duration"?p:x.duration||2,d=o==="duration_condition"?p:x.duration_condition||"=",i=x.options??[]}else i=n.map(o=>o.value);l==="is_not"?c={options:i}:l==="is"&&(c={options:i,duration:u,duration_condition:d}),v(e,c)},N=(e,n)=>{let l;Array.isArray(n)?l={options:n.map(c=>c.value)}:l={options:[n.value]},v(e,l)},M=(e,n)=>{const l={options:n.map(c=>c.value)};v(e,l)},j=async(e,n)=>{if(e.length<2)return[];const l=n.type_info.api,c="id",i="name",u="avatar",d="email";try{const o=await S.loadAdminUsers(e,l);return o.status?o.data.map(p=>({value:p[c],label:s("div",{className:"flex items-center",children:[a("img",{src:p[u],alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),s("div",{children:[a("div",{className:"text-sm font-bold",children:p[i]}),a("div",{className:"text-xs text-gray-500",children:p[d]})]})]},p[c])})):(console.error("An error occurred while fetching users",o.message),[])}catch(o){return console.error("An error occurred while fetching users:",o),[]}},A=async(e,n)=>{if(e.length<2)return[];const l=n.type_info.api,c=n.type_info.method,i=n.type_info.value_flield,u=n.type_info.lable_filed;try{const d=await S.loadApiModelsPost(e,l,c);return d.status?d.data.data.map(o=>({value:o[i],label:a("div",{className:"flex items-center",children:a("div",{children:a("div",{className:"text-sm font-bold",children:o[u]})})},o[i])})):(console.error("An error occurred while fetching users",d.message),[])}catch(d){return console.error("An error occurred while fetching users:",d),[]}},m=F.condition,f=t.type;if(!t.condition[m]||!t.condition[m].input)return null;if(f=="number")switch(m){case"between":return s(r,{children:[a("label",{className:"block text-sm text-gray-600",children:"From:"}),a("input",{type:"number",name:"from",className:"border p-2 w-full",onChange:e=>b(t.value,e)}),a("label",{className:"block text-sm text-gray-600",children:"To:"}),a("input",{type:"number",name:"to",className:"border p-2 w-full",onChange:e=>b(t.value,e)})]});case"not_between":return s(r,{children:[a("label",{className:"block text-sm text-gray-600",children:"From:"}),a("input",{type:"number",name:"from",className:"border p-2 w-full",onChange:e=>b(t.value,e)}),a("label",{className:"block text-sm text-gray-600",children:"To:"}),a("input",{type:"number",name:"to",className:"border p-2 w-full",onChange:e=>b(t.value,e)})]});default:return s(r,{children:[a("label",{className:"block font-semibold",children:"Value:"}),a("input",{type:"number",placeholder:"Search value",className:"border p-2 w-full",onChange:e=>h(t.value,e)})]})}else if(f=="select"){const e=t.options,n=Object.keys(e).map(l=>({value:l,label:e[l]}));switch(m){case"is_empty":case"is_not_empty":break;case"is_not":case"is":return a(r,{children:a(w,{placeholder:"Select an option",onChange:l=>N(t.value,l),options:n,isMulti:!1})});default:return s(r,{children:[a("label",{className:"block font-semibold",children:"Value:"}),a("input",{type:"text",placeholder:"Search value that contains",className:"border p-2 w-full",onChange:l=>h(t.value,l)})]})}}else if(f=="select2_multiple_duration"){const e=t.options,n=Object.keys(e).map(l=>({value:l,label:e[l]}));switch(m){case"is_empty":case"is_not_empty":break;case"is_not":return a(r,{children:a(w,{placeholder:"Select an option",onChange:l=>g(t.value,l,"is_not"),options:n,isMulti:!0})});case"is":return s(r,{children:[a(w,{placeholder:"Select an option",onChange:l=>g(t.value,l,"is"),options:n,isMulti:!0}),s("div",{className:" mt-4",children:[a("label",{className:"block font-semibold",children:"Duration:"}),s("div",{className:"mb-2",children:[a("input",{type:"number",placeholder:"Days",className:"border p-2 w-1/2",min:"1",name:"duration",onChange:l=>g(t.value,l,"is")}),s("select",{name:"duration_condition",className:"border p-2 w-1/2",placeholder:"Select a Condition",onChange:l=>g(t.value,l,"is"),children:[a("option",{value:"=",children:"="}),a("option",{value:"<",children:"<"}),a("option",{value:">",children:">"}),a("option",{value:"<=",children:"<="}),a("option",{value:">=",children:">="})]})]})]})]});default:return s(r,{children:[a("label",{className:"block font-semibold",children:"Value:"}),a("input",{type:"text",placeholder:"Search value that contains",className:"border p-2 w-full",onChange:l=>h(t.value,l)})]})}}else if(f=="select2_multiple"){const e=t.options,n=Object.keys(e).map(l=>({value:l,label:e[l]}));switch(m){case"is_empty":case"is_not_empty":break;case"is_not":case"is":return a(r,{children:a(w,{placeholder:"Select an option",onChange:l=>N(t.value,l),options:n,isMulti:!0})});default:return s(r,{children:[a("label",{className:"block font-semibold",children:"Value:"}),a("input",{type:"text",placeholder:"Search value that contains",className:"border p-2 w-full",onChange:l=>h(t.value,l)})]})}}else if(f=="select2_multiple_api_user")switch(m){case"is_empty":case"is_not_empty":break;case"is_not":case"is":return a(r,{children:a(k,{placeholder:"Type at least 2 characters to search...",loadOptions:e=>j(e,t),onChange:e=>M(t.value,e),isMulti:!0})});default:return s(r,{children:[a("label",{className:"block font-semibold",children:"Value:"}),a("input",{type:"text",placeholder:"Search value that contains",className:"border p-2 w-full",onChange:e=>h(t.value,e)})]})}else if(f=="select2_multiple_api")switch(m){case"is_empty":case"is_not_empty":break;case"is_not":case"is":return a(r,{children:a(k,{placeholder:"Type at least 2 characters to search...",loadOptions:e=>A(e,t),onChange:e=>N(t.value,e),isMulti:!0})});default:return s(r,{children:[a("label",{className:"block font-semibold",children:"Value:"}),a("input",{type:"text",placeholder:"Search value that contains",className:"border p-2 w-full",onChange:e=>h(t.value,e)})]})}else if(f=="text")switch(m){case"between":return s(r,{children:[a("label",{className:"block text-sm text-gray-600",children:"From:"}),a("input",{type:"date",name:"from",className:"border p-2 w-full",onChange:e=>b(t.value,e)}),a("label",{className:"block text-sm text-gray-600",children:"To:"}),a("input",{type:"date",name:"to",className:"border p-2 w-full",onChange:e=>b(t.value,e)})]});case"is_empty":case"is_not_empty":break;case"in_the_last":case"due_in":return a(r,{children:s("div",{className:"flex",children:[a("input",{type:"number",placeholder:"2",className:"border p-2 w-1/2",min:"1",name:"period_val",onChange:e=>y(t.value,e)}),s("select",{name:"period",className:"border p-2 w-1/2",defaultValue:"days",onChange:e=>y(t.value,e),children:[a("option",{value:"days",children:"Days"}),a("option",{value:"weeks",children:"Weeks"}),a("option",{value:"months",children:"Months"})]})]})});case"on":case"before":case"after":return a(r,{children:a("input",{type:"date",className:"border p-2 w-full",onChange:e=>h(t.value,e)})});default:return s(r,{children:[a("label",{className:"block font-semibold",children:"Value:"}),a("input",{type:"text",placeholder:"Search value that contains",className:"border p-2 w-full",onChange:e=>h(t.value,e)})]})}else if(f=="date")switch(m){case"between":return s(r,{children:[a("label",{className:"block text-sm text-gray-600",children:"From:"}),a("input",{type:"date",name:"from",className:"border p-2 w-full",onChange:e=>b(t.value,e)}),a("label",{className:"block text-sm text-gray-600",children:"To:"}),a("input",{type:"date",name:"to",className:"border p-2 w-full",onChange:e=>b(t.value,e)})]});case"is_empty":case"is_not_empty":break;case"in_the_last":case"due_in":return a(r,{children:s("div",{className:"flex",children:[a("input",{type:"number",placeholder:"2",className:"border p-2 w-1/2",min:"1",name:"period_val",onChange:e=>y(t.value,e)}),s("select",{name:"period",className:"border p-2 w-1/2",defaultValue:"days",onChange:e=>y(t.value,e),children:[a("option",{value:"days",children:"Days"}),a("option",{value:"weeks",children:"Weeks"}),a("option",{value:"months",children:"Months"})]})]})});case"on":case"before":case"after":return a(r,{children:a("input",{type:"date",className:"border p-2 w-full",onChange:e=>h(t.value,e)})});default:return s(r,{children:[a("label",{className:"block font-semibold",children:"Value:"}),a("input",{type:"text",placeholder:"Search value that contains",className:"border p-2 w-full",onChange:e=>h(t.value,e)})]})}};export{I as r};
