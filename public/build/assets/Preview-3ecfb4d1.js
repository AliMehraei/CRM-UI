import{c as F,u as S,r as s,h as Q,d as V,s as D,au as q,aU as d,j as a,e as E,b as n,f as I,a as $}from"./main-222e59c9.js";import{A as T,I as w}from"./InformationSectionPreview-4f0f1437.js";import{T as R}from"./TableSectionPreview-981d083b.js";import{A}from"./AttachmentSection-2bec2289.js";import"./CommonIcons-74a966c4.js";const G=()=>{var f,b,p,v,_,h,y,g;const{hasPermission:i}=F(),r=S(),[c,O]=s.useState(!0),l=Q().id,j=new $,e=V(t=>t.vendorRfqForm);s.useEffect(()=>{r(D("Vendor RFQ Preview"))});const N=()=>{window.print()},P=async()=>{const t=await j.fetchSingleVendorRfq(l);if(t.status!=200)return;const o=t.data.data.vendorRfq;r(d(o))};s.useEffect(()=>{e.iso_upload&&q("vendorRfq","iso_upload",e.iso_upload).then(t=>{r(d({iso_upload_preview:t}))}),e.doc_upload&&q("vendorRfq","doc_upload",e.doc_upload).then(t=>{r(d({doc_upload_preview:t}))})},[]);const m={leftObject:[{label:"Vendor RFQ Name",value:e.vendor_rfq_name},{label:"Vendor Name",value:(f=e.vendor)==null?void 0:f.vendor_name},{label:"Status",value:e.status},{label:"Email",value:e.email},{label:"Currency",value:e.currency},{label:"Related RFQs",value:(b=e.related_rfqs)==null?void 0:b.map(t=>t.rfq_name)}],rightObject:[{label:"Date",value:e.date},{label:"Vendor RFQ Number",value:e.vendor_rfq_number},{label:"Vendor RFQ Owner",value:`${((p=e.owner)==null?void 0:p.first_name)??""} ${((v=e.owner)==null?void 0:v.last_name)??""}`},{label:"Created By",value:`${((_=e.creator)==null?void 0:_.first_name)??""} ${((h=e.creator)==null?void 0:h.last_name)??""}`},{label:"Modified By",value:`${((y=e.modifier)==null?void 0:y.first_name)??""} ${((g=e.modifier)==null?void 0:g.last_name)??""}`},{label:"Email Opt Out",value:e.email_opt_out==1?"True":"False"},{label:"Exchange Rate",value:e.exchange_rate}]},u={leftObject:[{label:"Requested Products",value:e.requested_products.map(t=>{var o;return(o=t==null?void 0:t.product)==null?void 0:o.product_name})}],rightObject:[{label:"Is full",value:e.is_full==1?"True":"False"}]},k=[{key:"rfq_name",label:"Source RFQ",model:"rfq"},{key:"rfq_owner_name",label:"RFQ Owner Name"},{key:"product_name",label:"Product",model:"product"},{label:"is Alt for this Product",key:"alt_product"}],x=[{key:"product_name",label:"Offered MPN",model:"product"},{key:"name",label:"Offered Manufacturer",model:"manufacturer"},{label:"Offered Quantity",key:"quantity"},{label:"Offered Price USD",key:"price"},{label:"D/C",key:"dc"}];return s.useEffect(()=>{P().then(()=>{O(!1)})},[l]),!i("read-vendor-rfq")||c?a(E,{}):n("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(T,{loading:c,hasPermission:i,modelId:l,exportTable:N,routeModel:"vendor_rfq",permissionModel:"vendor-rfq"})}),n("div",{className:"panel",children:[n("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Vendor RFQ"}),a("div",{className:"shrink-0",children:a("img",{src:I(e.image_data),alt:"vendorRfq image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(w,{title:"Vendor RFQ Information",leftObjects:m.leftObject,rightObjects:m.rightObject}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(R,{title:"Requested Products",items:e.requested_products,columns:k}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(R,{title:"Offered Products",items:e.offered_products,columns:x}),a(w,{title:"Development ",leftObjects:u.leftObject,rightObjects:u.rightObject}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(A,{modelId:l,modelName:"vendorRfq"})]})]})};export{G as default};
