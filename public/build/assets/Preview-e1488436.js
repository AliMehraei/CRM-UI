import{c as ee,u as ae,r as i,h as te,d as le,s as re,Y as o,j as a,e as F,b as d,f as se,i as H,aC as ie,_ as U,a as oe}from"./main-df5dc7ed.js";import{A as de}from"./ActionButtonsPreview-b8a965fd.js";import{I as l}from"./InformationSectionPreview-f66ace2c.js";import{M as V}from"./MultipleLineSectionPreview-31bef909.js";import{T as ne}from"./TableSectionPreview-195cdfc1.js";import{A as ce}from"./AttachmentDownloadButton-8bdc460b.js";import{A as be}from"./AttachmentSection-2b18bb8f.js";import{G as ue}from"./GenerateEmailLogList-056f10ce.js";import{G as me}from"./GenerateCallList-8e7ca3b6.js";import"./CommonIcons-4af903f4.js";import"./sortBy-4d9efad5.js";import"./_baseIsEqual-9290e441.js";const Ne=()=>{var v,_,f,g,O,y,$,S,j,w,P,N,D,C,k,L,A,x,I,B,q,T,E,M,R,Q,G;const{hasPermission:n}=ee(),c=ae(),[s,z]=i.useState(!0),t=te().id,W=new oe,e=le(r=>r.purchaseOrderForm);i.useEffect(()=>{c(re("Purchase Order Preview"))});const Y=()=>{window.print()},Z=async()=>{const r=await W.fetchSinglePurchaseOrder(t);if(r.status!=200)return;const X=r.data.data.purchaseOrder;c(ie(X))};i.useEffect(()=>{Z().then(()=>{z(!1)})},[t]);const b={leftObjects:[{label:"Vendor Name",value:`${(v=e.vendor)==null?void 0:v.vendor_name}`},{label:"Contact Name",value:`${e.contact?((_=e.contact)==null?void 0:_.first_name)+" "+((f=e.contact)==null?void 0:f.last_name):""}`},{label:"Availability No",value:(g=e.availability)==null?void 0:g.availability_name},{label:"Currency",value:`${e.currency}`},{label:"Exchange Rate ",value:`${e.exchange_rate}`}],rightObjects:[{label:"PO Number",value:`${e.po_number}`},{label:"PO Date",value:`${e.so_date}`},{label:"Purchase Order Owner",value:`${((O=e.owner)==null?void 0:O.first_name)??""} ${((y=e.owner)==null?void 0:y.last_name)??""}`},{label:"Approved By",value:`${(($=e.approved_by)==null?void 0:$.first_name)??""} ${((S=e.approved_by)==null?void 0:S.last_name)??""}`},{label:"Created By",value:`${((j=e.creator)==null?void 0:j.first_name)??""} ${((w=e.creator)==null?void 0:w.last_name)??""}`},{label:"Modified By",value:`${((P=e.modifier)==null?void 0:P.first_name)??""} ${((N=e.modifier)==null?void 0:N.last_name)??""}`}]},J=[{value:"vendor_forwarder",label:"Vendor Forwarder"},{value:"ups",label:"UPS"},{value:"usps",label:"USPS"},{value:"dhl",label:"DHL"},{value:"blue_dart",label:"BlueDart"}],u={leftObjects:[{label:"PO Type",value:`${e.purchase_order}`},{label:"Parent PO NO.",value:`${e.customer_po_date}`},{label:"Parent SO Nr",value:e.parent_so_nr},{label:"ZohoBooksId",value:`${e.zoho_books_id}`}],rightObjects:[{label:"Subject",value:`${e.subject}`},{label:"Status",value:`${o(e.status,U)}`},{label:"Requested DD",value:e.requested_delivery_date},{label:"Confirmed DD",value:e.confirmed_delivery_date},{label:"Confirmed DD",value:e.confirmed_delivery_date},{label:"Carrier",value:`${o(e.carrier,J)}`},{label:"AWB",value:e.awb},{label:"Confirmation Vendor",value:a(ce,{formAttribute:"confirmation_vendor",modelName:"purchaseOrder",formState:e})}]},m={leftObjects:[{label:"Requested Delivery Date",value:e.requested_delivery_date},{label:"Product Name",value:(D=e.product)==null?void 0:D.product_name},{label:"Quantity",value:e.quantity},{label:"Cost",value:e.cost}],rightObjects:[{label:"Confirmed Delivery Date",value:e.confirmed_delivery_date},{label:"Date Code",value:e.date_code},{label:"SPQ",value:e.spq},{label:"Comment",value:e.comment}]},h={leftObjects:[{label:"Account",value:`${(k=(C=e.sales_order)==null?void 0:C.account)==null?void 0:k.account_name}`},{label:"SO No",value:`${(L=e.sales_order)==null?void 0:L.so_number}`},{label:"Quantity",value:`${(A=e.sales_order)==null?void 0:A.quantity}`},{label:"Resale",value:`${(x=e.sales_order)==null?void 0:x.resale}`},{label:"SO Status",value:`${o((I=e.sales_order)==null?void 0:I.status,U)}`}],rightObjects:[{label:"Requested D.D.",value:`${(B=e.sales_order)==null?void 0:B.requested_delivery_date}`},{label:"Confirmed D.D.",value:`${(q=e.sales_order)==null?void 0:q.confirmed_delivery_date}`},{label:"D/C",value:`${(T=e.sales_order)==null?void 0:T.date_code}`},{label:"SPQ SO",value:`${(E=e.sales_order)==null?void 0:E.spq}`}]},p={leftObjects:[{label:"Billing Street",value:`${e.billing_street}`},{label:"Billing City",value:`${e.billing_city}`},{label:"Billing State",value:`${e.billing_state}`},{label:"Billing Code",value:`${e.billing_code}`},{label:"Billing Country",value:`${e.billing_country}`}],rightObjects:[{label:"Shipping Street",value:`${e.shipping_street}`},{label:"Shipping City",value:`${e.shipping_city}`},{label:"Shipping State",value:`${e.shipping_state}`},{label:"Shipping Code",value:`${e.shipping_code}`},{label:"Shipping Country",value:`${e.shipping_country}`}]},K=[{key:"product_name",label:"Product Name",model:"product"},{key:"quantity",label:"Quantity"},{key:"list_price",label:"List Price"},{key:"amount",label:"Amount"}];return`${((M=e.owner)==null?void 0:M.first_name)??""}${((R=e.owner)==null?void 0:R.last_name)??""}`,`${((Q=e.sales_person)==null?void 0:Q.first_name)??""}${((G=e.sales_person)==null?void 0:G.last_name)??""}`,s?a(F,{}):!n("read-purchase-order")||s?a(F,{}):d("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a(de,{loading:s,hasPermission:n,modelId:t,exportTable:Y,routeModel:"purchase",permissionModel:"purchase-order"})}),d("div",{className:"panel",children:[d("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Purchase Order"}),a("div",{className:"shrink-0",children:a("img",{src:se(e.image_data),alt:"Purchase Order image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Header",leftObjects:b.leftObjects,rightObjects:b.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Purchase Order Information",leftObjects:u.leftObjects,rightObjects:u.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(ne,{title:"Purchase Items",items:e.items,columns:K,total:e.sales_total}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"PO Line",leftObjects:m.leftObjects,rightObjects:m.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Linked SO",leftObjects:h.leftObjects,rightObjects:h.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Address Information",leftObjects:p.leftObjects,rightObjects:p.rightObjects}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(V,{sectionTitle:"Terms And Conditions",data:[{label:"Terms and Conditions",value:e.terms_and_conditions}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(V,{sectionTitle:"Description ",data:[{label:"Description",value:e.description}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(l,{title:"Date information",leftObjects:[{label:"Created Date",value:H(e.created_at)}],rightObjects:[{label:"Modified Date",value:H(e.updated_at)}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(be,{modelId:t,modelName:"purchaseOrder"}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(me,{permissionName:"read-purchase-order",type:"call",routeName:"fetchPurchaseOrderCall",modelId:t,title:"Call Logs"}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(ue,{permissionName:"read-purchase-order",type:"email-log",routeName:"fetchPurchaseOrderEmailLogs",modelId:t,title:"Email Logs"})]})]})};export{Ne as default};
