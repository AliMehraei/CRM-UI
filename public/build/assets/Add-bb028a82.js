import{a as x,u as g,e as q,b as e,X as I,i as y,x as O,k as P,F as v,aL as u,r as _,j as s,T as F,aB as k,c as T,s as S,aM as C,d as V}from"./main-abaca463.js";import{A as h}from"./react-select-async.esm-ef864f04.js";import{S as w}from"./react-select.esm-8e3be6d7.js";import{G as R,R as p}from"./GenerateFields-0ca5d491.js";import{F as M}from"./index-9df264ec.js";import{A as D}from"./ActionButtonsComponent-581a3a1c.js";/* empty css                  */import"./Select-aecb2a80.esm-ebd29451.js";const Q=()=>{x(n=>n.vendorRfqForm);const i=g();new q;const d=(n,c)=>{i(u({[n]:c}))},r=[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"excel-generate",label:"Excel Generated"},{value:"email-sent",label:"Email Sent"},{value:"closed",label:"Closed"}],l={"Vendor RFQ Information":{"Vendor RFQ Name":e("input",{id:"vendor_rfq_name",name:"vendor_rfq_name",className:"form-input flex-1 ",onChange:n=>d(n.target.name,n.target.value)}),"Vendor Name":e(h,{defaultOptions:!0,isMulti:!1,id:"vendor_id",placeholder:"Type at least 2 characters to search...",name:"vendor_id",loadOptions:I,onChange:({value:n})=>{d("vendor_id",n)},className:"flex-1"}),Status:e(w,{options:r,name:"status",id:"status",onChange:({value:n})=>{d("status",n)},className:"flex-1",defaultValue:r.find(n=>n.value=="draft")}),Email:e("input",{id:"email",name:"email",className:"form-input flex-1 ",onChange:n=>d(n.target.name,n.target.value)}),Currency:e(w,{options:y,name:"currency",id:"currency",onChange:({value:n})=>{d("currency",n)},className:"flex-1",defaultValue:y.find(n=>n.value=="EUR")}),"Related RFQs":e(h,{defaultOptions:!0,isMulti:!0,id:"related_rfqs_id",placeholder:"Type at least 2 characters to search...",name:"related_rfqs_id",loadOptions:O,onChange:n=>{d("related_rfqs_id",n.map(c=>c.value))},className:"flex-1"})},"":{Date:e(M,{name:"date",options:{dateFormat:"Y-m-d "},className:"form-input flex-1",placeholder:"YYYY-MM-DD",onChange:(n,c)=>d("date",c)}),"Vendor RFQ Owner":e(h,{defaultOptions:!0,isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:P,onChange:({value:n})=>{d("owner_id",n)},className:"flex-1"}),"Email Opt Out":e("input",{id:"email_opt_out",type:"checkbox",name:"email_opt_out",className:"form-checkbox",onChange:n=>d(n.target.name,n.target.checked)}),"Exchange Rate":e("input",{id:"exchange_rate",name:"exchange_rate",className:"form-input flex-1 ",disabled:!0,onChange:n=>d(n.target.name,n.target.value),defaultValue:1})}};return e(v,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(R,{fields:l})})})},j=()=>{const i=x(t=>t.vendorRfqForm),d=g(),r=(t,a,o)=>{const m={...i.requested_products[o],[t]:a},f={...i.requested_products,[o]:m};n(Object.values(f)),d(u({requested_products:f}))},[l,n]=_.useState([{id:1}]),c=()=>{let t;t=l!=null&&l.length?l.reduce((o,m)=>m.id>o?m.id:o,l[0].id):0;let a=[...l,{id:t+1}];n(a),d(u({requested_products:a}))},N=[{label:"-None-",value:"none"},{label:"Stock",value:"stock"},{label:"Lead Time",value:"lead_time"}],b=(t=null)=>{const a=l.filter(o=>o.id!=t.id);n(a),d(u({requested_products:a}))};return e(v,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:" w-full ltr:lg:mr-12 rtl:lg:ml-12 mb-12 ",children:s("div",{className:"",children:[e("div",{className:"text-lg",children:"Requested Products :"}),s("div",{className:"mt-8",children:[e("div",{className:"overflow-x-auto	w-11/12",children:s("table",{className:"table-auto w-5",children:[e("thead",{children:s("tr",{children:[s("th",{className:"w-1",children:["Source RFQ ",e(p,{})]}),e("th",{className:"w-1",children:"RFQ Owner Name"}),s("th",{className:"w-1",children:["Product ",e(p,{})]}),e("th",{className:"w-1",children:"Is Alt For This Product"}),s("th",{className:"w-1",children:["Manufacturer ",e(p,{})]}),s("th",{className:"w-1",children:["Quantity ",e(p,{})]}),s("th",{className:"w-1",children:["Lead Time Demand ",e(p,{})]}),e("th",{className:"w-1",children:"Comments"})]})}),e("tbody",{children:l.map(t=>s("tr",{className:"align-top",children:[e("td",{children:e(h,{defaultOptions:!0,isMulti:!1,id:"rfq_id",name:"rfq_id",placeholder:"Type at least 2 characters to search...",loadOptions:O,onChange:({value:a})=>{r("rfq_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e("input",{name:"rfq_owner_name",type:"text",className:"form-input min-w-[200px]",onChange:a=>r(a.target.name,a.target.value,t.id),defaultValue:t.rfq_owner_name})}),e("td",{children:e(h,{defaultOptions:!0,isMulti:!1,id:"product_id",name:"product_id",placeholder:"Type at least 2 characters to search...",loadOptions:F,onChange:({value:a})=>{r("product_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e("input",{name:"alt_product",type:"text",className:"form-input min-w-[200px]",onChange:a=>r(a.target.name,a.target.value,t.id),defaultValue:t.alt_product})}),e("td",{children:e(h,{defaultOptions:!0,isMulti:!1,id:"manufacturer_id",name:"manufacturer_id",placeholder:"Type at least 2 characters to search...",loadOptions:k,onChange:({value:a})=>{r("manufacturer_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e("input",{name:"quantity",type:"text",className:"form-input min-w-[200px]",onChange:a=>r(a.target.name,a.target.value,t.id),defaultValue:t.quantity})}),e("td",{children:e(w,{options:N,name:"lead_time_demand",id:"lead_time_demand",onChange:({value:a})=>{r("lead_time_demand",a,t.id)},menuPlacement:"top",menuPortalTarget:document.body,defaultValue:N.find(a=>a.value==i.lead_time_demand),className:"flex-1 min-w-[200px]"})}),e("td",{children:e("textarea",{name:"comment",className:"form-input min-w-[200px]",defaultValue:t.date_code,onChange:a=>r(a.target.name,a.target.value,t.id)})}),e("td",{children:e("button",{type:"button",onClick:()=>b(t),children:s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},t.id))})]})}),e("div",{className:"flex justify-between sm:flex-row flex-col mt-6 px-4",children:e("div",{className:"sm:mb-0 mb-6",children:e("button",{type:"button",className:"btn btn-primary",onClick:()=>c(),children:"Add Item"})})})]})]},"Quote Items")})})})},L=()=>{const i=x(t=>t.vendorRfqForm),d=g(),r=(t,a,o)=>{const m={...i.offered_products[o],[t]:a},f={...i.offered_products,[o]:m};n(Object.values(f)),d(u({offered_products:f}))},[l,n]=_.useState([{id:1}]),c=()=>{let t;t=l!=null&&l.length?l.reduce((o,m)=>m.id>o?m.id:o,l[0].id):0;let a=[...l,{id:t+1,name:"",part_id:"",quantity:1,SPQ:"",list_price:"",lead_time:"",date_code:"",comment:"",amount:0}];n(a),d(u({offered_products:a}))},N=[{label:"-None-",value:"none"},{label:"Stock",value:"stock"},{label:"Lead Time",value:"lead_time"}],b=(t=null)=>{const a=l.filter(o=>o.id!=t.id);n(a),d(u({offered_products:a}))};return e(v,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:" w-full ltr:lg:mr-12 rtl:lg:ml-12 mb-12 ",children:s("div",{className:"",children:[e("div",{className:"text-lg",children:"Offered Products :"}),s("div",{className:"mt-8",children:[e("div",{className:"overflow-x-auto	w-11/12",children:s("table",{className:"table-auto w-5",children:[e("thead",{children:s("tr",{children:[e("th",{className:"w-1",children:"Offered MPN"}),e("th",{className:"w-1",children:"Offered Manufacturer"}),e("th",{className:"w-1",children:"Offered Quantity"}),e("th",{className:"w-1",children:"Offered Price (USD)"}),e("th",{className:"w-1",children:"D/C"}),e("th",{className:"w-1",children:"Offered Lead Time"}),e("th",{className:"w-1",children:"Comments"})]})}),e("tbody",{children:l.map(t=>s("tr",{className:"align-top",children:[e("td",{children:e(h,{defaultOptions:!0,isMulti:!1,id:"product_id",name:"product_id",placeholder:"Type at least 2 characters to search...",loadOptions:F,onChange:({value:a})=>{r("product_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e(h,{defaultOptions:!0,isMulti:!1,id:"manufacturer_id",name:"manufacturer_id",placeholder:"Type at least 2 characters to search...",loadOptions:k,onChange:({value:a})=>{r("manufacturer_id",a,t.id)},menuPortalTarget:document.body,className:"flex-1  min-w-[200px]"})}),e("td",{children:e("input",{name:"quantity",type:"text",className:"form-input min-w-[200px]",onChange:a=>r(a.target.name,a.target.value,t.id),defaultValue:t.quantity})}),e("td",{children:e("input",{name:"price",type:"text",className:"form-input min-w-[200px]",onChange:a=>r(a.target.name,a.target.value,t.id),defaultValue:t.price})}),e("td",{children:e("input",{name:"dc",type:"text",className:"form-input min-w-[200px]",onChange:a=>r(a.target.name,a.target.value,t.id),defaultValue:t.dc})}),e("td",{children:e(w,{options:N,name:"offer_lead_time",id:"offer_lead_time",onChange:({value:a})=>{r("offer_lead_time",a,t.id)},menuPlacement:"top",menuPortalTarget:document.body,className:"flex-1 min-w-[200px]"})}),e("td",{children:e("textarea",{name:"comment",className:"form-input min-w-[200px]",defaultValue:t.date_code,onChange:a=>r(a.target.name,a.target.value,t.id)})}),e("td",{children:e("button",{type:"button",onClick:()=>b(t),children:s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},t.id))})]})}),e("div",{className:"flex justify-between sm:flex-row flex-col mt-6 px-4",children:e("div",{className:"sm:mb-0 mb-6",children:e("button",{type:"button",className:"btn btn-primary",onClick:()=>c(),children:"Add Item"})})})]})]},"Quote Items")})})})},A=()=>{x(l=>l.vendorRfqForm);const i=g();new q;const d=(l,n)=>{i(u({[l]:n}))};return e(v,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(R,{fields:{Development:{"Requested Products JSON":e("textarea",{id:"requested_products",rows:2,name:"requested_products",className:"form-textarea flex-1",placeholder:""})},"":{"Is full":e("input",{id:"is_full",type:"checkbox",name:"is_full",className:"form-checkbox",onChange:l=>d(l.target.name,l.target.checked)})}}})})})},E=()=>s("div",{className:"mt-8 px-4",children:[e(Q,{},"VendorRFQInformation"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(j,{},"RequestedProducts"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(L,{},"OfferedProducts"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(A,{},"Development")]}),z=()=>{const{hasPermission:i}=T(),d=x(l=>l.vendorRfqForm),r=g();return _.useEffect(()=>{r(S("Vendor Rfq Add"))}),_.useEffect(()=>{r(C())},[]),i("create-vendor-rfq")?s("div",{className:"px-4",children:[e(D,{formState:d,resetForm:C}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(E,{})})})]}):e(V,{})};export{z as default};
