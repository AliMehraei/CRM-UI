import{u,c as b,a as h,b as e,F as g,o,r as S,j as m,s as q,q as I}from"./main-2481ab9f.js";import{A as p}from"./react-select-async.esm-a0bd60b0.js";import{G as f,b as A,d as D,i as T,a as j,l as P,s as C,h as M,S as L,R as B,m as O,n as Y,o as Q,c as E}from"./CommonFunctions-d37f68f5.js";import{S as _}from"./react-select.esm-300dd603.js";import{F as x}from"./index-79663c3d.js";/* empty css                  */import"./Select-aecb2a80.esm-77401763.js";import"./sweetalert2.all-d12b6692.js";const R=()=>{const i=u();new b,h(t=>t.salesOrderForm);const n=(t,d)=>{i(o({[t]:d}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{Header:{"Account Name":e(p,{isMulti:!1,required:!0,id:"account_id",placeholder:"Type at least 2 characters to search...",name:"account_id",loadOptions:A,onChange:({value:t})=>{n("account_id",t)},className:"flex-1"}),"Contact Name":e(p,{isMulti:!1,required:!0,id:"contact_id",placeholder:"Type at least 2 characters to search...",name:"contact_id",loadOptions:D,onChange:({value:t})=>{n("contact_id",t)},className:"flex-1"}),"Quote Name":e(p,{isMulti:!1,required:!0,id:"quote_id",placeholder:"Type at least 2 characters to search...",name:"quote_id",loadOptions:T,onChange:({value:t})=>{n("quote_id",t)},className:"flex-1"}),Currency:e(_,{options:j,name:"currency",id:"currency",onChange:({value:t})=>{n("currency",t)},className:"flex-1"})},"":{"Deals Name":e(p,{isMulti:!1,required:!0,id:"deal_id",placeholder:"Type at least 2 characters to search...",name:"deal_id",loadOptions:P,onChange:({value:t})=>{n("deal_id",t)},className:"flex-1"}),"Deal Stage":e(_,{options:[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"no_feedback",label:"No Feedback"},{value:"open",label:"open"},{value:"lost",label:"lost"}],name:"deal_stage",id:"deal_stage",onChange:({value:t})=>{n("deal_stage",t)},className:"flex-1"}),"SalesOrders Owner":e(p,{isMulti:!1,required:!0,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:C,onChange:({value:t})=>{n("owner_id",t)},className:"flex-1"}),"Sales Person":e(p,{isMulti:!1,required:!0,id:"sales_person_id",placeholder:"Type at least 2 characters to search...",name:"sales_person_id",loadOptions:C,onChange:({value:t})=>{n("sales_person_id",t)},className:"flex-1"}),"Approved By":e(p,{isMulti:!1,required:!0,id:"approved_by_id",placeholder:"Type at least 2 characters to search...",name:"approved_by_id",loadOptions:C,onChange:({value:t})=>{n("approved_by_id",t)},className:"flex-1"}),"Exchange Rate":e("input",{id:"exchange_rate",name:"exchange_rate",type:"text",value:"1",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0})}}})})})},H=()=>{const i=u();new b,h(t=>t.salesOrderForm);const n=(t,d)=>{i(o({[t]:d}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{"Sales Orders Information":{"Purchase Order":e("input",{id:"purchase_order",name:"purchase_order",className:"form-input flex-1 ",onChange:t=>n(t.target.name,t.target.value)}),"Customer PO Date":e(x,{options:{dateFormat:"Y-m-d ",position:"auto left"},name:"customer_po_date",value:"",className:"form-input flex-1",onChange:(t,d)=>n("customer_po_date",d)}),"PO Upload":e("input",{id:"po_upload",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"*",onChange:t=>M(t,d=>{i(o({po_upload:`${d==null?void 0:d.data.data.file_url}`}))}),name:"po_upload"},"po_upload"),"SO Type":e(_,{options:[{value:"none",label:"-None-"},{value:"single_order",label:"Single Order"},{value:"frame_contract",label:"Frame Contract"},{value:"call_off",label:"Call Off"},{value:"forecast",label:"Forecast"}],name:"so_type",id:"so_type",onChange:({value:t})=>{n("so_type",t)},className:"flex-1"}),"Parent SO Nr.":e("input",{id:"parent_so_nr",name:"parent_so_nr",className:"form-input flex-1 ",onChange:t=>n(t.target.name,t.target.value)})},"":{Subject:e("input",{id:"subject",required:!0,name:"subject",className:"form-input flex-1 ",onChange:t=>n(t.target.name,t.target.value)}),Pending:e("input",{id:"pending",name:"pending",className:"form-input flex-1 ",onChange:t=>n(t.target.name,t.target.value)}),Status:e(_,{options:L,name:"status",id:"status",onChange:({value:t})=>{n("status",t)},className:"flex-1"}),ZohoBooksID:e("input",{id:"zoho_books_id",name:"zoho_books_id",className:"form-input flex-1 ",onChange:t=>n(t.target.name,t.target.value)})}}})})})},$=()=>{h(r=>r.salesOrderForm);const[i,n]=S.useState([{id:1,amount:0}]),s=u(),a=(r,l,c)=>{const v=i.find(N=>N.id===c),F=i.findIndex(N=>N.id===c),y={...v,[r]:l},k={...y,amount:parseInt(y.quantity??0)*parseFloat(y.list_price??0)},w={...i,[F]:k};n(Object.values(w)),s(o({items:w}))},t=()=>{let r;r=i!=null&&i.length?i.reduce((c,v)=>v.id>c?v.id:c,i[0].id):0;let l=[...i,{id:r+1,amount:0}];n(l),s(o({items:l}))},d=(r=null)=>{const l=i.filter(c=>c.id!=r.id);n(l),s(o({items:l}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:" w-full ltr:lg:mr-12 rtl:lg:ml-12 mb-12 ",children:m("div",{className:"",children:[m("div",{className:"text-lg",children:["Ordered Items",e(B,{})," :"]}),m("div",{className:"mt-8",children:[e("div",{className:"overflow-x-auto	w-11/12",children:m("table",{className:"table-auto w-5",children:[e("thead",{children:m("tr",{children:[e("th",{className:"w-1",children:"Product Name"}),e("th",{className:"w-1",children:"Quantity"}),e("th",{className:"w-1",children:"Customer Part ID"}),e("th",{className:"w-1",children:"List Price"}),e("th",{className:"w-1",children:"Date Code"}),e("th",{className:"w-1",children:"Amount"}),e("th",{className:"w-1",children:"Requested Delivery Date"}),e("th",{className:"w-1",children:"Estimated Delivery Date"})]})}),e("tbody",{children:i.map(r=>m("tr",{className:"align-top",children:[m("td",{children:[e(p,{isMulti:!1,id:"product_id",name:"product_id",placeholder:"Type at least 2 characters to search...",loadOptions:O,onChange:({value:l})=>{a("product_id",l,r.id)},className:"flex-1  min-w-[200px]"}),e("textarea",{name:"description",className:"form-textarea mt-4",placeholder:"Enter Description",onChange:l=>a(l.target.name,l.target.value,r.id)})]}),e("td",{children:e("input",{type:"number",className:"form-input w-32",placeholder:"Quantity",name:"quantity",min:0,onChange:l=>a(l.target.name,l.target.value,r.id)})}),e("td",{children:e("input",{name:"customer_part_id",type:"text",className:"form-input min-w-[200px]",onChange:l=>a(l.target.name,l.target.value,r.id)})}),e("td",{children:e("input",{type:"number",className:"form-input w-32",placeholder:"Price",name:"list_price",min:0,onChange:l=>a(l.target.name,l.target.value,r.id)})}),e("td",{children:e("input",{name:"date_code",type:"text",className:"form-input min-w-[200px]",onChange:l=>a(l.target.name,l.target.value,r.id)})}),e("td",{children:e("input",{name:"amount",type:"text",value:r.amount,className:"flex-1 form-input min-w-[200px] disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0,onChange:l=>a(l.target.name,l.target.value,r.id)})}),e("td",{children:e(x,{name:"requested_delivery_date",options:{dateFormat:"Y-m-d",position:"auto left"},placeholder:"Y-m-d",className:"form-input flex-1 min-w-[200px]",onChange:(l,c)=>a("requested_delivery_date",c,r.id)})}),e("td",{children:e(x,{name:"estimated_delivery_date",options:{dateFormat:"Y-m-d",position:"auto left"},placeholder:"Y-m-d",className:"form-input flex-1 min-w-[200px]",onChange:(l,c)=>a("estimated_delivery_date",c,r.id)})}),e("td",{children:e("button",{type:"button",onClick:()=>d(r),children:m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},r.id))})]})}),e("div",{className:"flex justify-between sm:flex-row flex-col mt-6 px-4",children:e("div",{className:"sm:mb-0 mb-6",children:e("button",{type:"button",className:"btn btn-primary",onClick:()=>t(),children:"Add Item"})})})]})]},"Quote Items")})})})},z=()=>{const i=u(),n=(a,t)=>{i(o({[a]:t}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{"SO line":{"Requested Delivery Date":e(x,{options:{dateFormat:"Y-m-d ",position:"auto left"},placeholder:"Y-m-d",name:"requested_delivery_date",value:"",className:"form-input flex-1",onChange:(a,t)=>n("requested_delivery_date",t)}),"Product Name":e(p,{isMulti:!1,required:!0,id:"product_id",placeholder:"Type at least 2 characters to search...",name:"product_id",loadOptions:O,onChange:({value:a})=>{n("product_id",a)},className:"flex-1"}),"Customer part Id":e("input",{id:"customer_part_id",name:"customer_part_id",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)}),Quantity:e("input",{id:"quantity",name:"quantity",className:"form-input flex-1 ",type:"number",onChange:a=>n(a.target.name,a.target.value)}),"List Price":e("input",{type:"number",id:"list_price",name:"list_price",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)})},"":{"Estimated Delivery Date":e(x,{options:{dateFormat:"Y-m-d ",position:"auto left"},placeholder:"Y-m-d",name:"estimated_delivery_date",value:"",className:"form-input flex-1",onChange:(a,t)=>n("estimated_delivery_date",t)}),"Date Code":e("input",{id:"date_code",name:"date_code",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)}),SPQ:e("input",{id:"spq",name:"spq",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)}),comment:e("input",{id:"comment",name:"comment",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)})}}})})})},G=()=>{const i=u();new b,h(a=>a.salesOrderForm);const n=(a,t)=>{i(o({[a]:t}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{"Linked Availability":{"Availability Name":e(p,{isMulti:!1,id:"availability_id",required:!0,placeholder:"Type at least 2 characters to search...",name:"availability_id",loadOptions:Y,onChange:({value:a})=>{n("availability_id",a)},className:"flex-1"}),"Availability No":e("input",{id:"availability_no",name:"availability_no",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)}),"Availability Cost":e("input",{type:"number",id:"availability_cost",name:"availability_cost",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)})},"":{"Availability Quantity":e("input",{type:"number",id:"availability_quantity",name:"availability_quantity",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)}),"Availability LT":e("input",{id:"availability_lt",name:"availability_lt",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)}),"Availability DC":e("input",{id:"availability_dc",name:"availability_dc",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value)})}}})})})},U=()=>{const i=u();new b,h(a=>a.salesOrderForm);const n=(a,t)=>{i(o({[a]:t}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{"Address Information":{"Billing Street":e("input",{required:!0,id:"billing_street",name:"billing_street",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)}),"Billing City":e("input",{required:!0,id:"billing_city",name:"billing_city",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)}),"Billing State":e("input",{id:"billing_state",name:"billing_state",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)}),"Billing Code":e("input",{required:!0,id:"billing_code",name:"billing_code",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)}),"Billing Country":e("input",{required:!0,id:"billing_country",name:"billing_country",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)})},"":{"Shipping Street":e("input",{id:"shipping_street",name:"shipping_street",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)}),"Shipping City":e("input",{id:"shipping_city",name:"shipping_city",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)}),"Shipping State":e("input",{id:"shipping_state",name:"shipping_state",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)}),"Shipping Code":e("input",{id:"shipping_code",name:"shipping_code",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)}),"Shipping Country":e("input",{id:"shipping_country",name:"shipping_country",className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)})}}})})})},W=()=>{h(a=>a.salesOrderForm);const i=u();new b;const n=(a,t)=>{i(o({[a]:t}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{"Terms and Conditions":{"Terms and Conditions":e("textarea",{id:"terms_conditions",rows:3,name:"terms_conditions",className:"form-textarea flex-1",placeholder:"",onChange:a=>n(a.target.name,a.target.value)})},"":{}}})})})},Z=()=>{h(a=>a.salesOrderForm);const i=u();new b;const n=(a,t)=>{i(o({[a]:t}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{"Description Information":{Description:e("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",placeholder:"",onChange:a=>n(a.target.name,a.target.value)})},"":{}}})})})},J=()=>{const i=u();h(a=>a.salesOrderForm);const n=(a,t)=>{i(o({[a]:t}))};return e(g,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(f,{fields:{"Technical information":{"Waiting for approval":e("input",{id:"waiting_approval",type:"checkbox",name:"waiting_approval",className:"form-checkbox",onChange:a=>n(a.target.name,a.target.checked)}),Approval:e("input",{id:"approval",type:"checkbox",name:"approval",className:"form-checkbox",onChange:a=>n(a.target.name,a.target.checked)}),"Approve Changes":e(_,{options:Q,name:"approval_changes",id:"approval_changes",onChange:({value:a})=>{n("approval_changes",a)},className:"flex-1"}),Tech:e("input",{id:"tech",type:"checkbox",name:"tech",className:"form-checkbox",onChange:a=>n(a.target.name,a.target.checked)})},"":{"Technical info":e("textarea",{id:"tech_info",rows:2,name:"tech_info",className:"form-textarea flex-1",placeholder:"",onChange:a=>n(a.target.name,a.target.value)}),Subform:e("textarea",{id:"subform",rows:2,name:"subform",className:"form-textarea flex-1",placeholder:"",onChange:a=>n(a.target.name,a.target.value)})}}})})})},K=()=>m("div",{className:"mt-8 px-4",children:[e(R,{},"HeaderSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(H,{},"SalesOrderInformationSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e($,{},"SalesItemsSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(z,{},"SOLineSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(G,{},"LinkedAvailabilitySection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(U,{},"AddressInformationSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(W,{},"TermsConditionsSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Z,{},"DescriptionInformationSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(J,{},"TechnicalInformationSection")]}),re=()=>{const i=h(s=>s.salesOrderForm),n=u();return S.useEffect(()=>{n(q("Sales Order Add"))}),m("div",{className:"px-4",children:[e(E,{formState:i,resetForm:I}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(K,{})})})]})};export{re as default};
