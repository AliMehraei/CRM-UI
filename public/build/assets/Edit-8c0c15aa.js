import{u as v,c as F,a as b,j as u,b as e,d as f,F as y,r as k,f as M,s as O,g as P,e as U}from"./main-35460055.js";import{h as D,g as R,A as T,C as j,a as B,s as E,G as w,b as L,c as $}from"./CommonFunctions-8d68cb35.js";/* empty css                  */import{A}from"./react-select-async.esm-fd963321.js";import{S as V}from"./react-select.esm-0f23c0c6.js";import{C as Q}from"./ClearButtonComponent-dbb5eebf.js";import{F as z}from"./index-4ec3b352.js";import"./sweetalert2.all-0e486584.js";import"./Select-aecb2a80.esm-98e07ddb.js";const G=()=>{var d,h,c,r,m,p,N,C,x,g,l,S,I,q;const o=v();new F;const t=b(i=>i.accountForm),n=(i,_)=>{o(f({[i]:_}))},s=[{value:"none",label:"-None-"},{value:"no_activity",label:"No Activity"},{value:"more_1_year",label:"> 1 year Activity"},{value:"more_1_month",label:"> 1 month Activity"},{value:"regular_activity",label:"Regular Activity"}],a={Account:{"Account Image":u("div",{className:"",children:[u("div",{className:"flex",children:[e("input",{id:"account_image",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"image/*",onChange:i=>D(i,_=>{o(f({image:`${_==null?void 0:_.data.data.file_url}`}))}),name:"account_image"},"account_image"),e(Q,{callBack:()=>{const i=document.getElementById("account_image");i&&(i.value="",i.dispatchEvent(new Event("change",{bubbles:!0}))),o(f({image:null}))}})]}),e("img",{id:"manufacturer_image_preview",src:R(t.image||t.oldImage),alt:"img",className:"mt-4 w-20 h-20 rounded"})]}),"Account Name":e("input",{id:"account_name",required:!0,name:"account_name",className:"form-input flex-1 ",onChange:i=>n(i.target.name,i.target.value),defaultValue:t.account_name}),"Account Type":e(V,{name:"account_type",id:"account_type",placeholder:"Select Account Type...",options:T,onChange:({value:i})=>{n("account_type",i)},defaultValue:T.find(i=>i.value==t.account_type)}),Contracts:e(V,{name:"contract",id:"contract",placeholder:"Select Contract...",options:j,onChange:({value:i})=>{n("contract",i)},defaultValue:j.find(i=>i.value==t.contract)}),"Contract Attachment":u("div",{className:"flex",children:[e("input",{id:"contract_attachment",type:"file",className:"form-input mr-1 file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"image/*",onChange:i=>D(i,_=>{o(f({field:"contract_attachment",value:`${_==null?void 0:_.data.data.file_url}`}))}),name:"contract_attachment"},"contract_attachment"),e("a",{className:"btn btn-outline-primary",href:t.contract_attachment,target:"_blank",children:"Download"})]}),"Business Account":e("input",{id:"is_business",type:"checkbox",name:"business_account",className:"form-checkbox",onChange:i=>n(i.target.name,i.target.checked),checked:t.business_account}),"Approved by":e("input",{id:"approved_by",name:"approved_by_id",type:"text",value:"None",placeholder:"Readonly input hereâ€¦",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",defaultValue:((d=t.approved_by)==null?void 0:d.first_name)+" "+((h=t.approved_by)==null?void 0:h.last_name),disabled:!0}),Currency:e(V,{id:"currency",name:"currency",options:B,onChange:({value:i})=>{n("currency",i)},defaultValue:B.find(i=>i.value==t.currency),className:"flex-1"})},"":{"Account Owner":e(A,{isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:E,onChange:({value:i})=>{n("owner_id",i)},defaultValue:{value:(c=t.owner)==null?void 0:c.id,label:u("div",{className:"flex items-center",children:[e("img",{src:(r=t.owner)==null?void 0:r.image,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),u("div",{children:[e("div",{className:"text-sm font-bold",children:((m=t.owner)==null?void 0:m.first_name)+" "+((p=t.owner)==null?void 0:p.last_name)}),e("div",{className:"text-xs text-gray-500",children:(N=t.owner)==null?void 0:N.email})]})]},(C=t.owner)==null?void 0:C.id)},className:"flex-1"}),"PM User":e(A,{isMulti:!1,id:"pm_user_id",placeholder:"Type at least 2 characters to search...",name:"pm_user_id",loadOptions:E,onChange:({value:i})=>{n("pm_user_id",i)},required:!0,defaultValue:{value:(x=t.pm_user)==null?void 0:x.id,label:u("div",{className:"flex items-center",children:[e("img",{src:(g=t.pm_user)==null?void 0:g.avatar,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),u("div",{children:[e("div",{className:"text-sm font-bold",children:((l=t.pm_user)==null?void 0:l.first_name)+" "+((S=t.pm_user)==null?void 0:S.last_name)}),e("div",{className:"text-xs text-gray-500",children:(I=t.pm_user)==null?void 0:I.email})]})]},(q=t.pm_user)==null?void 0:q.id)},className:"flex-1"}),"Account Activity":e(V,{id:"account_activity",name:"account_activity",options:s,onChange:({value:i})=>{n("account_activity",i)},defaultValue:s.find(i=>i.value==t.account_activity),className:"flex-1"}),TAM:e("input",{id:"tam",name:"tam",className:"form-input flex-1 ",onChange:i=>n(i.target.name,i.target.value),defaultValue:t.tam}),"Exchange Rate":e("input",{id:"exchange_rate",name:"exchange_rate",type:"text",value:"1",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0}),"Lead Reference":e("input",{id:"lead_reference",name:"lead_reference",className:"form-input flex-1 ",onChange:i=>n(i.target.name,i.target.value),defaultValue:t.lead_reference})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(w,{fields:a})})})},W=()=>{var d,h,c,r,m,p,N,C,x,g;const o=v();new F;const t=b(l=>l.accountForm),n=(l,S)=>{o(f({[l]:S}))},s=[{value:"none",label:"-None-"},{value:"back_to_lead",label:"Back to lead"},{value:"converted_to_lead",label:"Converted to lead"},{value:"must_be_deleted",label:"Must be deleted"}],a={"Account Information":{"Primary First Name":e("input",{id:"primary_first_name",name:"primary_first_name",className:"form-input flex-1 ",onChange:l=>n(l.target.name,l.target.value),defaultValue:t.primary_first_name}),Phone:e("input",{id:"phone",required:!0,name:"phone",className:"form-input flex-1 ",onChange:l=>n(l.target.name,l.target.value),defaultValue:t.phone}),Fax:e("input",{id:"fax",name:"fax",className:"form-input flex-1 ",onChange:l=>n(l.target.name,l.target.value),defaultValue:t.fax}),Email:e("input",{id:"email",required:!0,name:"email",className:"form-input flex-1 ",onChange:l=>n(l.target.name,l.target.value),defaultValue:t.email}),Website:e("input",{required:!0,id:"website",name:"website",className:"form-input flex-1 ",onChange:l=>n(l.target.name,l.target.value),defaultValue:t.website})},"":{"Primary Last Name":e("input",{id:"primary_last_name",name:"primary_last_name",className:"form-input flex-1 ",onChange:l=>n(l.target.name,l.target.value),defaultValue:t.primary_last_name}),"Parent Account":e(A,{isMulti:!1,id:"parent_account_id",placeholder:"Type at least 2 characters to search...",name:"parent_account_id",loadOptions:L,onChange:({value:l})=>{n("parent_account_id",l)},defaultValue:{value:(d=t.parent)==null?void 0:d.id,label:u("div",{className:"flex items-center",children:[e("img",{src:(h=t.parent)==null?void 0:h.image,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),u("div",{children:[e("div",{className:"text-sm font-bold",children:(c=t.parent)==null?void 0:c.name}),e("div",{className:"text-xs text-gray-500",children:(r=t.parent)==null?void 0:r.email})]})]},(m=t.parent)==null?void 0:m.id)},className:"flex-1"}),"LinkedIn Company":e("input",{id:"linkedin_company",name:"linkedin",className:"form-input flex-1 ",onChange:l=>n(l.target.name,l.target.value),defaultValue:t.linkedin}),"Account Number":e("input",{id:"account_number",name:"account_number",className:"form-input flex-1 ",onChange:l=>n(l.target.name,l.target.value),defaultValue:t.account_number}),"Double Check Status":e(V,{id:"double_check_status",name:"double_check_status",onChange:({value:l})=>{n("double_check_status",l)},className:"flex-1",defaultValue:s.find(l=>l.value==t.double_check_status),options:s}),"Child Account":e(A,{isMulti:!1,id:"child_account_id",placeholder:"Type at least 2 characters to search...",name:"child_account_id",loadOptions:L,onChange:({value:l})=>{n("child_account_id",l)},defaultValue:{value:(p=t.child)==null?void 0:p.id,label:u("div",{className:"flex items-center",children:[e("img",{src:(N=t.parent)==null?void 0:N.image,alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}),u("div",{children:[e("div",{className:"text-sm font-bold",children:(C=t.parent)==null?void 0:C.name}),e("div",{className:"text-xs text-gray-500",children:(x=t.parent)==null?void 0:x.email})]})]},(g=t.parent)==null?void 0:g.id)},className:"flex-1"}),"Has No Contacts":e("input",{id:"has_no_contacts",type:"checkbox",name:"has_no_contacts",className:"form-checkbox",onChange:l=>n(l.target.name,l.target.checked),checked:t.has_no_contacts}),DCheck:e("input",{id:"d_check",type:"checkbox",name:"d_check",className:"form-checkbox",onChange:l=>n(l.target.name,l.target.checked),checked:t.has_no_contacts})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(w,{fields:a})})})},Y=()=>{const o=v(),t=b(a=>a.accountForm),n=(a,d)=>{o(f({[a]:d}))},s={"Terms and Shipping":{Incoterms:e("input",{id:"incoterm",name:"incoterm",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.incoterm}),"Payment Terms":e("input",{id:"payment_term",name:"payment_term",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.payment_term}),"Credit Line":e("input",{id:"credit_line",name:"credit_line",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.credit_line})},"":{"VAT No":e("input",{id:"vat_no",name:"vat_no",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.vat_no}),Forwarder:e("input",{id:"forwarder",name:"forwarder",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.forwarder}),forwarder_account_no:e("input",{id:"forwarder_account_no",name:"forwarder_account_no",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.forwarder_account_no})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(w,{fields:s})})})},H=()=>{const o=v(),t=b(c=>c.accountForm),[n,s]=k.useState([]),a=(c,r,m)=>{const p=n.find(g=>g.id===m),N=n.findIndex(g=>g.id===m),C={...p,[c]:r},x={...n,[N]:C};s(Object.values(x)),o(f({forecasts:x}))};k.useEffect(()=>{s(Object.values(t.forecasts))},[]);const d=()=>{let c;c=n!=null&&n.length?n.reduce((m,p)=>p.id>m?p.id:m,n[0].id):0;const r=[...n,{id:c+1,q1:"",q2:"",q3:"",q4:""}];s(r),o(f({forecasts:r}))},h=(c=null)=>{const r=n.filter(m=>m.id!=c.id);s(r),o(f({forecasts:r}))};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e("div",{className:" w-full ltr:lg:mr-12 rtl:lg:ml-12 mb-12",children:u("div",{className:"",children:[u("div",{className:"text-lg",children:["Forecast ",new Date().getFullYear()," :"]}),u("div",{className:"mt-8",children:[e("div",{className:"overflow-x",children:u("table",{className:"table-auto overflow-scroll ",children:[e("thead",{children:u("tr",{children:[e("th",{className:"w-1",children:"S.NO"}),e("th",{className:"w-1",children:"Forecast Q1 (â‚¬)"}),e("th",{className:"w-1",children:"Forecast Q2 (â‚¬)"}),e("th",{className:"w-1",children:"Forecast Q3 (â‚¬)"}),e("th",{className:"w-1",children:"Forecast Q4 (â‚¬)"})]})}),e("tbody",{children:n.map(c=>u("tr",{className:"align-top",children:[e("td",{children:c.id}),e("td",{children:e("input",{name:"q1",type:"text",className:"form-input w-32",defaultValue:c.q1,onChange:r=>a(r.target.name,r.target.value,c.id)})}),e("td",{children:e("input",{name:"q2",type:"text",className:"form-input w-32",defaultValue:c.q2,onChange:r=>a(r.target.name,r.target.value,c.id)})}),e("td",{children:e("input",{name:"q3",type:"text",className:"form-input w-32",defaultValue:c.q3,onChange:r=>a(r.target.name,r.target.value,c.id)})}),e("td",{children:e("input",{name:"q4",type:"text",className:"form-input w-32",defaultValue:c.q4,onChange:r=>a(r.target.name,r.target.value,c.id)})}),e("td",{children:e("button",{type:"button",onClick:()=>h(c),children:u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},c.id))})]})}),e("div",{className:"flex justify-between sm:flex-row flex-col mt-6 px-4",children:e("div",{className:"sm:mb-0 mb-6",children:e("button",{type:"button",className:"btn btn-primary",onClick:()=>d(),children:"Add Item"})})})]})]},"Quote Items")})})})},Z=()=>{const o=v(),t=b(a=>a.accountForm),n=(a,d)=>{o(f({[a]:d}))},s={"Description Information":{"Description Information":e("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",placeholder:"",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.description}),"Last Activity Date":e(z,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${t.last_activity_date?new Date(t.last_activity_date):""}`},name:"last_activity_date",value:t.last_activity_date?new Date(t.last_activity_date):"",className:"form-input flex-1",onChange:(a,d)=>n("last_activity_date",d)})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(w,{fields:s})})})},J=()=>{const o=v(),t=b(a=>a.accountForm),n=(a,d)=>{o(f({[a]:d}))},s={"Technical information":{ZohoBooksID:e("input",{id:"zoho_books_id",name:"zoho_books_id",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.zoho_books_id}),"BooksID EUR":e("input",{id:"books_id_eur",name:"books_id_eur",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.books_id_eur})},"":{"Account Margin":e("input",{id:"account_margin",name:"account_margin",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.account_margin}),"BooksID USD":e("input",{id:"books_id_usd",name:"books_id_usd",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.books_id_usd})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(w,{fields:s})})})},K=()=>{const o=v(),t=b(a=>a.accountForm),n=(a,d)=>{o(f({[a]:d}))},s={Unused:{"Purchasing Volume Current":e("input",{id:"purchasing_volume_current",name:"purchasing_volume_current",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.purchasing_volume_current})},"":{"Annual Revenue":e("input",{id:"annual_revenue",name:"annual_revenue",className:"form-input flex-1 ",onChange:a=>n(a.target.name,a.target.value),defaultValue:t.annual_revenue})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(w,{fields:s})})})},X=()=>{const o=v(),t=b(a=>a.accountForm),n=(a,d)=>{o(f({[a]:d}))},s={"Address Information":{"Billing Street":e("input",{required:!0,id:"billing_street",name:"billing_street",className:"form-input flex-1",defaultValue:t.billing_street,onChange:a=>n(a.target.name,a.target.value)}),"Billing City":e("input",{required:!0,id:"billing_city",name:"billing_city",className:"form-input flex-1",defaultValue:t.billing_city,onChange:a=>n(a.target.name,a.target.value)}),"Billing State":e("input",{id:"billing_state",name:"billing_state",className:"form-input flex-1",defaultValue:t.billing_state,onChange:a=>n(a.target.name,a.target.value)}),"Billing Code":e("input",{required:!0,id:"billing_code",name:"billing_code",className:"form-input flex-1",defaultValue:t.billing_code,onChange:a=>n(a.target.name,a.target.value)}),"Billing Country":e("input",{required:!0,id:"billing_country",name:"billing_country",defaultValue:t.billing_country,className:"form-input flex-1",onChange:a=>n(a.target.name,a.target.value)})},"":{"Shipping Street":e("input",{id:"shipping_street",name:"shipping_street",className:"form-input flex-1",defaultValue:t.shipping_street,onChange:a=>n(a.target.name,a.target.value)}),"Shipping City":e("input",{id:"shipping_city",name:"shipping_city",className:"form-input flex-1",defaultValue:t.shipping_city,onChange:a=>n(a.target.name,a.target.value)}),"Shipping State":e("input",{id:"shipping_state",name:"shipping_state",className:"form-input flex-1",defaultValue:t.shipping_state,onChange:a=>n(a.target.name,a.target.value)}),"Shipping Code":e("input",{id:"shipping_code",name:"shipping_code",className:"form-input flex-1",defaultValue:t.shipping_code,onChange:a=>n(a.target.name,a.target.value)}),"Shipping Country":e("input",{id:"shipping_country",name:"shipping_country",className:"form-input flex-1",defaultValue:t.shipping_country,onChange:a=>n(a.target.name,a.target.value)})}};return e(y,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(w,{fields:s})})})},ee=()=>u("div",{className:"mt-8 px-4",children:[e(G,{},"invoiceInformation"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(W,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Y,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(X,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(H,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(Z,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(J,{}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(K,{})]}),de=()=>{const o=b(r=>r.accountForm),[t,n]=k.useState(!0),a=M().id,d=new F,h=v();k.useEffect(()=>{h(O("Account Edit"))}),k.useEffect(()=>{h(f({api:"updateSingleAccount",redirectTo:"/account/edit/:id",action:"edit"}))},[]),k.useEffect(()=>{c().then(()=>{n(!1)})},[a]);const c=async()=>{const r=await d.fetchSingleAccount(a);if(r.status!=200)return;const m=r.data.data.account;h(f(m))};return t?e(P,{}):u("div",{className:"px-4",children:[e($,{formState:o,resetForm:U}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(ee,{})})})]})};export{de as default};
