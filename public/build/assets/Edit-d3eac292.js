import{u as _,c as g,a as v,b as e,j as p,F as x,t as f,r as w,f as U,s as Y,g as H,v as Q}from"./main-2481ab9f.js";import{A as h}from"./react-select-async.esm-a0bd60b0.js";import{p as z,d as G,n as W,a as L,s as E,G as y,q as Z,S as R,h as J,m as K,b as X,j as ee,c as ae}from"./CommonFunctions-d37f68f5.js";import{S as N}from"./react-select.esm-300dd603.js";import{F as C}from"./index-79663c3d.js";/* empty css                  */import"./Select-aecb2a80.esm-77401763.js";import"./sweetalert2.all-d12b6692.js";const te=()=>{var t,o,m,i,s,n,r,b,O,V,D,F,q,P,j,k,T,A,I,B,M,$;const c=_();new g;const a=v(d=>d.purchaseOrderForm),l=(d,S)=>{c(f({[d]:S}))},u={Header:{"Vendor Name":e(h,{isMulti:!1,required:!0,id:"vendor_id",placeholder:"Type at least 2 characters to search...",name:"vendor_id",loadOptions:z,onChange:({value:d})=>{l("vendor_id",d)},className:"flex-1",defaultValue:{value:(t=a.vendor)==null?void 0:t.id,label:e("div",{className:"flex items-center",children:p("div",{children:[e("div",{className:"text-sm font-bold",children:(o=a.vendor)==null?void 0:o.vendor_name}),e("div",{className:"text-xs text-gray-500",children:(m=a.vendor)==null?void 0:m.email})]})},(i=a.vendor)==null?void 0:i.id)}}),"Contact Name":e(h,{isMulti:!1,id:"contact_id",placeholder:"Type at least 2 characters to search...",name:"contact_id",loadOptions:G,onChange:({value:d})=>{l("contact_id",d)},className:"flex-1",defaultValue:{value:(s=a.contact)==null?void 0:s.id,label:p("div",{className:"flex items-center",children:[a.contact?e("img",{src:a.contact.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,p("div",{children:[e("div",{className:"text-sm font-bold",children:((n=a.contact)==null?void 0:n.first_name)+" "+((r=a.account)==null?void 0:r.last_name)}),e("div",{className:"text-xs text-gray-500",children:(b=a.contact)==null?void 0:b.email})]})]},(O=a.contact)==null?void 0:O.id)}}),"Availability No":e(h,{isMulti:!1,id:"availability_id",placeholder:"Type at least 2 characters to search...",name:"availability_id",loadOptions:W,onChange:({value:d})=>{l("availability_id",d)},className:"flex-1",defaultValue:{value:(V=a.availability)==null?void 0:V.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(D=a.availability)==null?void 0:D.availability_name})},(F=a.availability)==null?void 0:F.id)}}),Currency:e(N,{options:L,name:"currency",id:"currency",onChange:({value:d})=>{l("currency",d)},className:"flex-1",defaultValue:L.find(d=>d.value==a.currency)}),"Exchange Rate":e("input",{id:"exchange_rate",name:"exchange_rate",type:"text",value:"1",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",disabled:!0,defaultValue:a.exchange_rate})},"":{"PO Date":e(C,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.po_date?new Date(a.po_date):""}`},name:"po_date",value:a.po_date?new Date(a.po_date):"",className:"form-input flex-1",onChange:(d,S)=>l("po_date",S)}),"PurchaseOrders Owner":e(h,{isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:E,onChange:({value:d})=>{l("owner_id",d)},className:"flex-1",defaultValue:{value:(q=a.owner)==null?void 0:q.id,label:p("div",{className:"flex items-center",children:[a.owner?e("img",{src:a.owner.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,p("div",{children:[e("div",{className:"text-sm font-bold",children:((P=a.owner)==null?void 0:P.first_name)+" "+((j=a.owner)==null?void 0:j.last_name)}),e("div",{className:"text-xs text-gray-500",children:(k=a.owner)==null?void 0:k.email})]})]},(T=a.owner)==null?void 0:T.id)}}),"Approved By":e(h,{isMulti:!1,id:"approved_by_id",placeholder:"Type at least 2 characters to search...",name:"approved_by_id",loadOptions:E,onChange:({value:d})=>{l("approved_by_id",d)},className:"flex-1",defaultValue:{value:(A=a.approved_by)==null?void 0:A.id,label:p("div",{className:"flex items-center",children:[a.approved_by?e("img",{src:a.approved_by.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,p("div",{children:[e("div",{className:"text-sm font-bold",children:((I=a.approved_by)==null?void 0:I.first_name)+" "+((B=a.approved_by)==null?void 0:B.last_name)}),e("div",{className:"text-xs text-gray-500",children:(M=a.approved_by)==null?void 0:M.email})]})]},($=a.approved_by)==null?void 0:$.id)}})}};return e(x,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(y,{fields:u})})})},le=()=>{var m,i,s;const c=_();new g;const a=v(n=>n.purchaseOrderForm),l=(n,r)=>{c(f({[n]:r}))},u=[{value:"none",label:"-None-"},{value:"single",label:"Single PO"},{value:"frame",label:"Frame PO"},{value:"call_off",label:"Call Off"},{value:"forecast",label:"Forecast PO"}],t=[{value:"vendor_forwarder",label:"Vendor Forwarder"},{value:"ups",label:"UPS"},{value:"usps",label:"USPS"},{value:"dhl",label:"DHL"},{value:"blue_dart",label:"BlueDart"}],o={"PurchaseOrders Information":{"PO Type":e(N,{options:u,name:"po_type",id:"po_type",onChange:({value:n})=>{l("purchapo_typeseOrder_type",n)},className:"flex-1",defaultValue:u.find(n=>n.value==a.po_type)}),"Parent PO No.":e(h,{isMulti:!1,id:"parent_po_id",placeholder:"Type at least 2 characters to search...",name:"parent_po_id",loadOptions:Z,onChange:({value:n})=>{l("parent_po_id",n)},className:"flex-1",defaultValue:{value:(m=a.parent_po)==null?void 0:m.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(i=a.parent_po)==null?void 0:i.subject})},(s=a.parent_po)==null?void 0:s.id)}}),ZohoBooksID:e("input",{id:"zoho_books_id",name:"zoho_books_id",className:"form-input flex-1 ",onChange:n=>l(n.target.name,n.target.value),defaultValue:a.zoho_books_id})},"":{Subject:e("input",{id:"subject",required:!0,name:"subject",className:"form-input flex-1 ",onChange:n=>l(n.target.name,n.target.value),defaultValue:a.subject}),Status:e(N,{options:R,name:"status",id:"status",onChange:({value:n})=>{l("status",n)},className:"flex-1",defaultValue:R.find(n=>n.value==a.status)}),Carrier:e(N,{options:t,name:"carrier",id:"carrier",onChange:({value:n})=>{l("carrier",n)},className:"flex-1",defaultValue:t.find(n=>n.value==a.carrier)}),AWB:e("input",{id:"awb",name:"awb",className:"form-input flex-1 ",onChange:n=>l(n.target.name,n.target.value),defaultValue:a.awb}),"Confirmation Vendor":e("input",{id:"confirmation_vendor",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",accept:"*",onChange:n=>J(n,r=>{c(f({field:"confirmation_vendor",value:`${r==null?void 0:r.data.data.file_url}`}))}),name:"confirmation_vendorFile"},"confirmation_vendor")}};return e(x,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(y,{fields:o})})})},ne=()=>(_(),new g,v(a=>a.purchaseOrderForm),e(x,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(y,{fields:{"Purchase Items":{},"":{}}})})})),re=()=>{var t,o,m;const c=_();new g;const a=v(i=>i.purchaseOrderForm),l=(i,s)=>{c(f({[i]:s}))},u={"PO line":{"Requested Delivery Date":e(C,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.requested_delivery_date?new Date(a.requested_delivery_date):""}`},name:"requested_delivery_date",value:a.requested_delivery_date?new Date(a.requested_delivery_date):"",className:"form-input flex-1",onChange:(i,s)=>l("requested_delivery_date",s)}),"Product Name":e(h,{isMulti:!1,id:"product_id",placeholder:"Type at least 2 characters to search...",name:"product_id",loadOptions:K,onChange:({value:i})=>{l("product_id",i)},className:"flex-1",defaultValue:{value:(t=a.product)==null?void 0:t.id,label:e("div",{className:"flex items-center",children:e("div",{className:"text-sm font-bold",children:(o=a.product)==null?void 0:o.product_name})},(m=a.product)==null?void 0:m.id)}}),Quantity:e("input",{id:"quantity",name:"quantity",className:"form-input flex-1 ",type:"number",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.quantity}),Cost:e("input",{type:"number",id:"cost",name:"cost",className:"form-input flex-1 ",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.cost})},"":{"Confirmed Delivery Date":e(C,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.confirmed_delivery_date?new Date(a.confirmed_delivery_date):""}`},name:"confirmed_delivery_date",value:a.confirmed_delivery_date?new Date(a.confirmed_delivery_date):"",className:"form-input flex-1",onChange:(i,s)=>l("confirmed_delivery_date",s)}),"Date Code":e("input",{id:"date_code",name:"date_code",className:"form-input flex-1 ",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.date_code}),SPQ:e("input",{id:"spq",name:"spq",className:"form-input flex-1 ",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.spq}),comment:e("input",{id:"comment",name:"comment",className:"form-input flex-1 ",onChange:i=>l(i.target.name,i.target.value),defaultValue:a.comment})}};return e(x,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(y,{fields:u})})})},ie=()=>{var o,m,i,s,n;const c=_();new g;const a=v(r=>r.purchaseOrderForm),l=(r,b)=>{c(f({[r]:b}))},u=[{value:"none",label:"-None-"},{value:"draft",label:"Draft"},{value:"request_for_approval",label:"Request For Approval"},{value:"approved",label:"Approved"},{value:"confirmed",label:"Confirmed"},{value:"packed",label:"Packed"},{value:"shipped",label:"Shipped"}],t={"Linked SO":{"Account Name":e(h,{isMulti:!1,id:"account_id",placeholder:"Type at least 2 characters to search...",name:"account_id",loadOptions:X,onChange:({value:r})=>{l("account_id",r)},className:"flex-1",defaultValue:{value:(o=a.account)==null?void 0:o.id,label:p("div",{className:"flex items-center",children:[a.account?e("img",{src:a.account.image??"/assets/images/user-profile.jpeg",alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,p("div",{children:[e("div",{className:"text-sm font-bold",children:(m=a.account)==null?void 0:m.account_name}),e("div",{className:"text-xs text-gray-500",children:(i=a.account)==null?void 0:i.email})]})]},(s=a.account)==null?void 0:s.id)}}),"SO Number":e(h,{isMulti:!1,id:"sales_order_id",placeholder:"Type at least 2 characters to search...",name:"sales_order_id",loadOptions:ee,onChange:({value:r})=>{l("sales_order_id",r)},className:"flex-1",defaultValue:{value:a.sales_order_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(n=a.sales_order)==null?void 0:n.subject})})},a.sales_order_id)}}),"Quantity SO":e("input",{id:"quantity_so",type:"number",name:"quantity_so",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.quantity_so}),Resale:e("input",{id:"resale",type:"number",name:"resale",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.resale}),"SO Status":e(N,{options:u,name:"so_status",id:"so_status",onChange:({value:r})=>{l("so_status",r)},className:"flex-1",defaultValue:u.find(r=>r.value==a.so_status)})},"":{"Requested D.D.":e(C,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.so_requested_d_d?new Date(a.so_requested_d_d):""}`},name:"so_requested_d_d",value:a.so_requested_d_d?new Date(a.so_requested_d_d):"",className:"form-input flex-1",onChange:(r,b)=>l("so_requested_d_d",b)}),"Confirmed D.D.":e(C,{options:{dateFormat:"Y-m-d ",position:"auto left",defaultDate:`${a.so_confirmed_d_d?new Date(a.so_confirmed_d_d):""}`},name:"so_confirmed_d_d",value:a.so_confirmed_d_d?new Date(a.so_confirmed_d_d):"",className:"form-input flex-1",onChange:(r,b)=>l("so_confirmed_d_d",b)}),"D/C":e("input",{id:"dc",name:"dc",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.dc}),"SPQ SO":e("input",{id:"spq_so",name:"spq_so",className:"form-input flex-1 ",onChange:r=>l(r.target.name,r.target.value),defaultValue:a.spq_so})}};return e(x,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(y,{fields:t})})})},se=()=>{const c=_();new g;const a=v(t=>t.purchaseOrderForm),l=(t,o)=>{c(f({[t]:o}))},u={"Address Information":{"Billing Street":e("input",{required:!0,id:"billing_street",name:"billing_street",className:"form-input flex-1",defaultValue:a.billing_street,onChange:t=>l(t.target.name,t.target.value)}),"Billing City":e("input",{required:!0,id:"billing_city",name:"billing_city",className:"form-input flex-1",defaultValue:a.billing_city,onChange:t=>l(t.target.name,t.target.value)}),"Billing State":e("input",{id:"billing_state",name:"billing_state",className:"form-input flex-1",defaultValue:a.billing_state,onChange:t=>l(t.target.name,t.target.value)}),"Billing Code":e("input",{required:!0,id:"billing_code",name:"billing_code",className:"form-input flex-1",defaultValue:a.billing_code,onChange:t=>l(t.target.name,t.target.value)}),"Billing Country":e("input",{required:!0,id:"billing_country",name:"billing_country",defaultValue:a.billing_country,className:"form-input flex-1",onChange:t=>l(t.target.name,t.target.value)})},"":{"Shipping Street":e("input",{id:"shipping_street",name:"shipping_street",className:"form-input flex-1",defaultValue:a.shipping_street,onChange:t=>l(t.target.name,t.target.value)}),"Shipping City":e("input",{id:"shipping_city",name:"shipping_city",className:"form-input flex-1",defaultValue:a.shipping_city,onChange:t=>l(t.target.name,t.target.value)}),"Shipping State":e("input",{id:"shipping_state",name:"shipping_state",className:"form-input flex-1",defaultValue:a.shipping_state,onChange:t=>l(t.target.name,t.target.value)}),"Shipping Code":e("input",{id:"shipping_code",name:"shipping_code",className:"form-input flex-1",defaultValue:a.shipping_code,onChange:t=>l(t.target.name,t.target.value)}),"Shipping Country":e("input",{id:"shipping_country",name:"shipping_country",className:"form-input flex-1",defaultValue:a.shipping_country,onChange:t=>l(t.target.name,t.target.value)})}};return e(x,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(y,{fields:u})})})},oe=()=>{const c=v(t=>t.purchaseOrderForm),a=_();new g;const l=(t,o)=>{a(f({[t]:o}))},u={"Terms and Conditions":{"Terms and Conditions":e("textarea",{id:"terms_conditions",rows:3,name:"terms_conditions",className:"form-textarea flex-1",placeholder:"",onChange:t=>l(t.target.name,t.target.value),defaultValue:c.terms_conditions})},"":{}};return e(x,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(y,{fields:u})})})},de=()=>{const c=v(t=>t.purchaseOrderForm),a=_();new g;const l=(t,o)=>{a(f({[t]:o}))},u={"Description Information":{Description:e("textarea",{id:"description",rows:3,name:"description",className:"form-textarea flex-1",placeholder:"",onChange:t=>l(t.target.name,t.target.value),defaultValue:c.description})},"":{}};return e(x,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(y,{fields:u})})})},ce=()=>p("div",{className:"mt-8 px-4",children:[e(te,{},"HeaderSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(le,{},"PurchaseOrderInformationSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(ne,{},"PurchaseItemsSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(re,{},"POLineSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(ie,{},"LinkedSOSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(se,{},"AddressInformationSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(oe,{},"TermsConditionsSection"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(de,{},"DescriptionInformationSection")]}),be=()=>{const c=v(s=>s.purchaseOrderForm),[a,l]=w.useState(!0),t=U().id,o=new g,m=_();w.useEffect(()=>{m(Y("PurchaseOrder Edit"))});const i=async()=>{const s=await o.fetchSinglePurchaseOrder(t);if(s.status!=200)return;const n=s.data.data.purchaseOrder;m(f(n))};return w.useEffect(()=>{i().then(()=>{l(!1)})},[t]),w.useEffect(()=>{m(f({api:"updateSinglePurchaseOrder",redirectTo:"/purchase/edit/:id",action:"edit"}))},[]),a?e(H,{}):p("div",{className:"px-4",children:[e(ae,{formState:c,resetForm:Q}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(ce,{})})})]})};export{be as default};
