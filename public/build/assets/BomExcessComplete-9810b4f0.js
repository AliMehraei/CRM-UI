import{u as Y,c as q,r,d as A,h as Q,S as U,bb as W,s as N,ad as n,j as e,e as G,F as u,b as a,f as J,a6 as K,q as v,a as X}from"./main-1aa98c91.js";import{_ as w}from"./react-apexcharts.min-b8a0df9a.js";const ae=()=>{const c=Y();q();const[x,y]=r.useState(""),[_,S]=r.useState(""),[j,k]=r.useState(""),[T,P]=r.useState(""),[f,C]=r.useState({}),[D,L]=r.useState({}),[F,M]=r.useState(""),[R,d]=r.useState(!0),i=A(t=>t.contactForm),m=new X,b=Q(),l=b.contactId,[h,z]=r.useState("contact"),B=U.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:5e3}),E=b.id,I=W(),{pathname:g}=I;r.useEffect(()=>{c(N(x))},[c]);const o={series:[44,55,13],options:{chart:{height:300,type:"pie",zoom:{enabled:!1},toolbar:{show:!1}},labels:["Ignore Record","Founded MPN Record","Not Founded MPN Record"],colors:["#4361ee","#805dca","#00ab55"],responsive:[{breakpoint:480,options:{chart:{width:200}}}],stroke:{show:!1},legend:{position:"bottom"}}};r.useEffect(()=>{const s=window.location.pathname.split("/");z(s[1]=="availability-vendor"?"vendor":"contact"),y(n(s[1])+" - Overview"),S(s[1]),k("View "+n(s[1])+" List"),P("Your "+n(s[1])+" List Overview"),M("Here you can see an overview about your uploaded "+n(s[1])+"  list"),c(N(n(s[1])+" - Overview"))},[]);const $=()=>{window.location.href=`/${_}/list/${l}`},O=async()=>{if(g.split("/")[1]!="availability-vendor"){const t=await m.fetchSingleContact(l);if(t.status!=200)return;const s=t.data.data.contact;c(v(s))}else{const t=await m.fetchSingleVendor(l);if(t.status!=200)return;const s=t.data.data.vendor;c(v(s))}};r.useEffect(()=>{O().then(()=>{d(!1)})},[l]);const H=async()=>{d(!0);const t=await m.bomItemProcess(l,h,E);d(!1),t.status==302&&(B.fire({icon:"error",title:t.data.message,padding:"10px 20px"}),setTimeout(()=>{const V=g.split("/");window.location.href=`/${V[1]}/list/${l}`},1e3));const s=t.data.data;C(s.configHeaders),L(s.BOMItemDetails)};r.useEffect(()=>{H()},[]);const p=t=>{switch(t.process_status){case"incorrect_data":return"text-red-600";case"without_product_name":return"text-red-400";case"not_found":return"text-yellow-500";case"found":return"text-green-500";default:return"p-1 rounded font-bold"}};return R?e(G,{}):e(u,{children:a("div",{className:"panel px-0 border-white-light dark:border-[#1b2e4b]",children:[a("div",{className:"flex justify-end flex-wrap gap-4 px-4",children:[e("div",{className:"flex",children:a("div",{children:[a("div",{className:"text-sm font-semibold mt-5",children:[i.first_name," ",i.last_name," | ",i.vendor_name]}),e("div",{className:"text-s font-semibold ",children:i.email}),e("div",{className:"text-s font-semibold ",children:i.phone})]})}),a("div",{className:"shrink-0",children:[e("img",{src:J(i.image_data),alt:"Contact image",className:"w-20 ltr:ml-auto rtl:mr-auto"}),a("a",{className:"text-sm font-semibold mt-5  text-primary ",target:"_blank",href:`/${h}/preview/${l}`,children:["View ",h]})]})]}),e("hr",{className:"border-white-light dark:border-[#849bbc] my-6"}),e("div",{className:"px-4 sm:px-6 lg:px-8",children:e("section",{className:"border-b border-gray-200 pb-4",children:e("div",{className:"sm:flex sm:items-center sm:justify-between",children:e("h3",{className:"title-1",children:e("b",{children:x})})})})}),a("div",{className:"my-4",children:[e("section",{className:" px-4 sm:px-6 lg:px-8 ",children:a("div",{className:"sm:flex sm:items-center sm:justify-between border-b border-gray-200 pb-4",children:[e("h3",{className:"title-1",children:" "}),e("div",{className:"flex mt-3 sm:ml-4 sm:mt-0 space-x-1",children:a("button",{id:"confirmlist-next-tour",type:"button",onClick:$,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold flex items-center p-2 space-x-2 text-sm rounded border-primary-500",children:[e("span",{children:j}),e("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})})]})}),e("section",{className:"dashboard-item-view-page  px-4 sm:px-6 lg:px-8 ",children:a("div",{className:"rounded-lg bg-white overflow-hidden shadow p-6 text-center",children:[e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:T}),e("p",{className:"text-sm font-medium text-gray-500 mt-4",children:F}),a("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5 mt-4 divide-x divide-y md:divide-y-0 divide-gray-200",children:[a("div",{className:"col-span-2",children:[a("div",{className:"chartjs-size-monitor",children:[e("div",{className:"chartjs-size-monitor-expand",children:e("div",{className:""})}),e("div",{className:"chartjs-size-monitor-shrink",children:e("div",{className:""})})]}),e("div",{className:"flex items-center justify-center p-5 text-lg font-medium leading-6 text-gray-900 text-center",children:"Data Source"}),e(w,{series:o.series,options:o.options,className:"rounded-lg bg-white dark:bg-black",type:"pie",height:300})]}),a("div",{className:"col-span-2",children:[a("div",{className:"chartjs-size-monitor",children:[e("div",{className:"chartjs-size-monitor-expand",children:e("div",{className:""})}),e("div",{className:"chartjs-size-monitor-shrink",children:e("div",{className:""})})]}),e("div",{className:"flex items-center justify-center p-5 text-lg font-medium leading-6 text-gray-900 text-center",children:"Founded MPNs"}),e(w,{series:o.series,options:o.options,className:"rounded-lg bg-white dark:bg-black",type:"pie",height:300})]})]})]})}),e("section",{id:"table-section-list2-tour",className:"dashboard-item-view-page  px-4 sm:px-6 lg:px-8 mt-6",children:e("div",{className:"rounded-lg bg-white overflow-hidden shadow p-6",children:a("div",{className:"",children:[e("div",{className:"flex flex-row items-center justify-between h-full space-x-3",children:e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Your uploaded file data"})}),e("div",{className:"overflow-x-scroll mt-6",children:e("div",{className:"flex flex-col",children:e("div",{className:"flex-grow",children:e("div",{id:"DataTables_Table_0_wrapper",className:"dataTables_wrapper dt-bootstrap4 no-footer",children:a("table",{className:"datatable relative min-w-full border-collapse dataTable no-footer",id:"DataTables_Table_0","aria-describedby":"DataTables_Table_0_info",children:[e("thead",{className:"bg-gray-200 sticky z-30 top-0",children:a("tr",{className:"header-row",children:[e("th",{className:"p-2 whitespace-nowrap text-left text-sm text-gray-500 sorting sorting_asc",tabIndex:"0","aria-controls":"DataTables_Table_0",rowSpan:"1",colSpan:"1","aria-label":"#: activate to sort column descending","aria-sort":"ascending",children:"#"}),Object.keys(f).map((t,s)=>e(K.Fragment,{children:s===3?a(u,{children:[e("th",{className:"p-2 whitespace-nowrap text-left text-sm text-gray-500",children:e("div",{className:"flex flex-row justify-between items-center space-x-3",children:e("span",{children:"Selected offer"})})}),e("th",{className:"p-2 whitespace-nowrap text-left text-sm text-gray-500",children:"Status"})]}):e("th",{className:"p-2 whitespace-nowrap text-left text-sm text-gray-500",children:f[t]})},s))]})}),e("tbody",{children:Object.values(D).map((t,s)=>a("tr",{title:t.process_status,"data-row-id":t.id,className:"detail-row",children:[e("td",{className:"border p-2 text-sm text-gray-500",children:e("span",{className:p(t),children:t.row_number})}),e("td",{className:"border p-2 text-sm text-gray-500",children:t.processed_data.Product_Name}),e("td",{className:"border p-2 text-sm text-gray-500",children:t.processed_data.Manufacture}),e("td",{className:"border p-2 text-sm text-gray-500",children:t.processed_data.Quantity}),e("td",{className:"border p-2 text-sm text-gray-500",children:t.process_status==="found"?e("div",{className:"flex flex-col p-2",children:a("span",{className:p(t),children:[t.selected.product_name," | ",t.selected.manufacture_name]})}):e(u,{})}),e("td",{className:"border p-2 text-sm text-gray-500",children:e("span",{className:p(t),children:t.process_status})})]},s))})]})})})})}),e("div",{className:"mt-6"})]})})})]})]})})};export{ae as default};
