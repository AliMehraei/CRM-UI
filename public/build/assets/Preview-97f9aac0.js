import{c as S,u as D,r as s,h as E,d as Q,s as V,ax as w,aX as d,j as a,e as C,b as i,f as L,i as R,a as I}from"./main-df5dc7ed.js";import{A as $}from"./ActionButtonsPreview-b8a965fd.js";import{I as n}from"./InformationSectionPreview-f66ace2c.js";import{T as O}from"./TableSectionPreview-195cdfc1.js";import{A as M}from"./AttachmentSection-2b18bb8f.js";import{G as T}from"./GenerateEmailLogList-056f10ce.js";import{G as A}from"./GenerateCallList-8e7ca3b6.js";import"./CommonIcons-4af903f4.js";import"./sortBy-4d9efad5.js";import"./_baseIsEqual-9290e441.js";const ee=()=>{var b,p,h,v,_,g,y,q;const{hasPermission:m}=S(),l=D(),[c,N]=s.useState(!0),t=E().id,j=new I,e=Q(r=>r.vendorRfqForm);s.useEffect(()=>{l(V("Vendor RFQ Preview"))});const k=()=>{window.print()},x=async()=>{const r=await j.fetchSingleVendorRfq(t);if(r.status!=200)return;const o=r.data.data.vendorRfq;l(d(o))};s.useEffect(()=>{e.iso_upload&&w("vendorRfq","iso_upload",e.iso_upload).then(r=>{l(d({iso_upload_preview:r}))}),e.doc_upload&&w("vendorRfq","doc_upload",e.doc_upload).then(r=>{l(d({doc_upload_preview:r}))})},[]);const u={leftObject:[{label:"Vendor RFQ Name",value:e.vendor_rfq_name},{label:"Vendor Name",value:(b=e.vendor)==null?void 0:b.vendor_name},{label:"Status",value:e.status},{label:"Email",value:e.email},{label:"Currency",value:e.currency},{label:"Related RFQs",value:(p=e.related_rfqs)==null?void 0:p.map(r=>r.rfq_name)}],rightObject:[{label:"Date",value:e.date},{label:"Vendor RFQ Number",value:e.vendor_rfq_number},{label:"Vendor RFQ Owner",value:`${((h=e.owner)==null?void 0:h.first_name)??""} ${((v=e.owner)==null?void 0:v.last_name)??""}`},{label:"Created By",value:`${((_=e.creator)==null?void 0:_.first_name)??""} ${((g=e.creator)==null?void 0:g.last_name)??""}`},{label:"Modified By",value:`${((y=e.modifier)==null?void 0:y.first_name)??""} ${((q=e.modifier)==null?void 0:q.last_name)??""}`},{label:"Email Opt Out",value:e.email_opt_out==1?"True":"False"},{label:"Exchange Rate",value:e.exchange_rate}]},f={leftObject:[{label:"Requested Products",value:e.requested_products.map(r=>{var o;return(o=r==null?void 0:r.product)==null?void 0:o.product_name})}],rightObject:[{label:"Is full",value:e.is_full==1?"True":"False"}]},P=[{key:"rfq_name",label:"Source RFQ",model:"rfq"},{key:"rfq_owner_name",label:"RFQ Owner Name"},{key:"product_name",label:"Product",model:"product"},{label:"is Alt for this Product",key:"alt_product"}],F=[{key:"product_name",label:"Offered MPN",model:"product"},{key:"name",label:"Offered Manufacturer",model:"manufacturer"},{label:"Offered Quantity",key:"quantity"},{label:"Offered Price USD",key:"price"},{label:"D/C",key:"dc"}];return s.useEffect(()=>{x().then(()=>{N(!1)})},[t]),!m("read-vendor-rfq")||c?a(C,{}):i("div",{children:[a("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:a($,{loading:c,hasPermission:m,modelId:t,exportTable:k,routeModel:"vendor_rfq",permissionModel:"vendor-rfq"})}),i("div",{className:"panel",children:[i("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[a("div",{className:"text-2xl font-semibold uppercase",children:"Vendor RFQ"}),a("div",{className:"shrink-0",children:a("img",{src:L(e.image_data),alt:"vendorRfq image",className:"w-20 ltr:ml-auto rtl:mr-auto"})})]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(n,{title:"Vendor RFQ Information",leftObjects:u.leftObject,rightObjects:u.rightObject}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(O,{title:"Requested Products",items:e.requested_products,columns:P}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(O,{title:"Offered Products",items:e.offered_products,columns:F}),a(n,{title:"Development ",leftObjects:f.leftObject,rightObjects:f.rightObject}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(n,{title:"Date information",leftObjects:[{label:"Created Date",value:R(e.created_at)}],rightObjects:[{label:"Modified Date",value:R(e.updated_at)}]}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(M,{modelId:t,modelName:"vendorRfq"}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(A,{permissionName:"read-vendor-rfq",type:"call",routeName:"fetchVendorRfqCall",modelId:t,title:"Call Logs"}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(T,{permissionName:"read-vendor-rfq",type:"email-log",routeName:"fetchVendorRfqEmailLogs",modelId:t,title:"Email Logs"})]})]})};export{ee as default};
