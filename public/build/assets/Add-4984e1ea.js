import{u as p,d as y,r as c,b as u,j as a,A as x,E as P,B as T,F as f,b9 as b,q as _,aB as R,H as w,G as q,aR as j,$ as L,_ as D,aL as E,Z as I,I as k,aC as G,J as Q,b7 as B,c as $,s as H,ba as A,e as U}from"./main-26e33097.js";import{G as h}from"./GenerateFields-7f61a10d.js";import{S as d}from"./react-select.esm-0d275f8d.js";import{F as J}from"./index-6a2dc1a0.js";import{a1 as Y,a2 as Z,a3 as z}from"./SelectOptions-a8f98db0.js";import{A as K}from"./ActionButtonsComponent-27b25d1c.js";/* empty css                  */import"./index-66762a43.js";const W=()=>{const r=p(),s=y(e=>e.callForm),[o,l]=c.useState("App\\Models\\Contact"),[i,N]=c.useState("App\\Models\\Account"),[M,g]=c.useState(null),[O,C]=c.useState(null),t=(e,n)=>{r(b({[e]:n}))},v=[{value:"App\\Models\\Lead",label:"Lead"},{value:"App\\Models\\Contact",label:"Contact"}],m=[{value:"App\\Models\\Account",label:"Account",api:_},{value:"App\\Models\\Vendor",label:"Vendor",api:R},{value:"App\\Models\\Quote",label:"Quote",api:w},{value:"App\\Models\\Rfq",label:"Rfq",api:q},{value:"App\\Models\\Excess",label:"Excess",api:j},{value:"App\\Models\\Availability",label:"Availability",api:L},{value:"App\\Models\\Product",label:"Product",api:D},{value:"App\\Models\\Manufacturer",label:"Manufacturer",api:E},{value:"App\\Models\\Deal",label:"Deals",api:I},{value:"App\\Models\\SalesOrder",label:"Sales Order",api:k},{value:"App\\Models\\PurchaseOrder",label:"Purchase Order",api:G},{value:"App\\Models\\Invoice",label:"Invoice",api:Q},{value:"App\\Models\\VendorRfq",label:"Vendor Rfq",api:B}],S=e=>(m.find(F=>F.value===i)??{value:null,label:null,api:_}).api.call(null,e),V={"Call Information":{"Call To":u("div",{className:"flex",children:[a(d,{id:"callable_type",name:"callable_type",onChange:({value:e})=>{l(e),g(null),t("callable_type",e),t("callable_id",null)},defaultValue:v.find(e=>e.value==s.callable_type),className:"flex-none w-64 mr-2",options:v}),a(x,{isMulti:!1,id:"callable_id",placeholder:"Type at least 2 characters to search...",name:"callable_id",value:M,menuPortalTarget:document.body,loadOptions:o==="App\\Models\\Lead"?P:T,onChange:({value:e,label:n})=>{g({value:e,label:n}),t("callable_id",e)},className:"flex-1",required:!0})]}),"Related To":u("div",{className:"flex",children:[a(d,{id:"relatable_type",name:"relatable_type",onChange:({value:e})=>{N(e),C(null),t("relatable_type",e),t("relatable_id",null)},className:"flex-none w-64 mr-2",options:m,defaultValue:m.find(e=>e.value==s.relatable_type)}),a(x,{isMulti:!1,id:"relatable_id",menuPortalTarget:document.body,placeholder:"Type at least 2 characters to search...",name:"relatable_id",loadOptions:e=>S(e),onChange:({value:e,label:n})=>{C({value:e,label:n}),t("relatable_id",e)},value:O,className:"flex-1",required:!0})]}),"Call Type":a(d,{id:"type",name:"type",required:!0,options:Y,defaultValue:{value:"ausgehend",label:"Ausgehend"},onChange:({value:e})=>{t("type",e)},className:"flex-1"}),"Outgoing Call Status":a("input",{id:"outgoing_call_status",name:"outgoing_call_status",type:"text",placeholder:"readOnly input hereâ€¦",className:"flex-1 form-input disabled:pointer-events-none disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b] cursor-not-allowed",defaultValue:"Abgeschlossen",disabled:!0}),"Call Start Time":a(J,{required:!0,name:"call_start_time","data-enable-time":!0,options:{enableTime:!0,dateFormat:"Y-m-d H:i",position:"auto left"},onChange:(e,n)=>t("call_start_time",n),className:"form-input flex-1"}),"Call Duration":u("div",{className:"flex",children:[a("input",{id:"call_duration_minutes",required:!0,name:"call_duration_minutes",className:"form-input mr-2 flex-1 ",onChange:e=>t(e.target.name,e.target.value),placeholder:"Minutes"}),a("input",{id:"call_duration_seconds",required:!0,name:"call_duration_seconds",className:"form-input ml-2 flex-1 ",onChange:e=>t(e.target.name,e.target.value),placeholder:"Seconds"})]}),Subject:a("input",{required:!0,id:"subject",name:"subject",className:"form-input flex-1 ",defaultValue:"Outgoing call to Unknown",onChange:e=>t(e.target.name,e.target.value)}),"Voice Recording":a("input",{id:"voice_recording",name:"voice_recording",className:"form-input flex-1 ",onChange:e=>t(e.target.name,e.target.value)})}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:V})})})},X=()=>{const r=p(),s=(l,i)=>{r(b({[l]:i}))},o={"Purpose Of Outgoing Call":{"Call Purpose":a(d,{id:"call_purpose",name:"call_purpose",options:Z,menuPortalTarget:document.body,defaultValue:{value:"none",label:"None"},onChange:({value:l})=>{s("call_purpose",l)},className:"flex-1"}),"Call Agenda":a("input",{id:"call_agenda",name:"call_agenda",className:"form-input flex-1 ",onChange:l=>s(l.target.name,l.target.value)})}};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:o})})})},ee=()=>{const r=p(),s=(l,i)=>{r(b({[l]:i}))};return a(f,{children:a("div",{className:"flex justify-between lg:flex-row flex-col",children:a(h,{fields:{"Outcome Of Outgoing Call":{"Call Result":a(d,{id:"call_result",name:"call_result",options:z,defaultValue:{value:"none",label:"None"},onChange:({value:l})=>{s("call_result",l)},className:"flex-1"}),Description:a("input",{id:"description",name:"description",className:"form-input flex-1 ",onChange:l=>s(l.target.name,l.target.value)})}}})})})},ae=()=>u("div",{className:"mt-8 px-4",children:[a(W,{}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(X,{}),a("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),a(ee,{})]}),ue=()=>{const{hasPermission:r}=$(),s=y(l=>l.callForm),o=p();return c.useEffect(()=>{o(H("Call Add"))}),c.useEffect(()=>{o(A())},[]),r("create-call")?u("div",{className:"px-4",children:[a(K,{formState:s,resetForm:A}),a("div",{className:"flex xl:flex-row flex-col gap-2.5",children:a("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6",children:a(ae,{})})})]}):a(U,{})};export{ue as default};
