import{u as v,a as g,b as e,ay as f,k as S,j as h,f as M,F as b,e as C,n as y,c as I,r as u,az as N,s as A,d as w}from"./main-abaca463.js";import{A as _}from"./react-select-async.esm-ef864f04.js";import{G as F}from"./GenerateFields-0ca5d491.js";import{I as O}from"./ImageUploadComponent-42e0a7ca.js";import{A as k}from"./AttachmentSection-80a3a552.js";import{A as E}from"./ActionButtonsComponent-581a3a1c.js";import"./Select-aecb2a80.esm-ebd29451.js";import"./ClearButtonComponent-2e20a897.js";const V=()=>{var m,l,o,i,r;const n=v(),t=g(a=>a.manufacturerForm),s=(a,c)=>{n(f({[a]:c}))},d={"Manufacturer Information":{"Manufacturer Image":e(O,{formState:t,modelName:"manufacturer",id:"manufacturer_image",formAttribute:"image",updateFormData:f}),"Manufacturer Name":e("input",{id:"name",required:!0,name:"name",className:"form-input flex-1 ",onChange:a=>s(a.target.name,a.target.value),value:t.name}),"Octo Api Id":e("input",{id:"octo_api_id",name:"octo_api_id",className:"form-input flex-1 ",onChange:a=>s(a.target.name,a.target.value),value:t.octo_api_id}),"Alias Names":e("textarea",{id:"alias_names",name:"alias_names",rows:3,className:"form-textarea flex-1",onChange:a=>s(a.target.name,a.target.value),value:t.alias_names})},"":{Active:e("input",{id:"is_active",type:"checkbox",name:"is_active",className:"form-checkbox",onChange:a=>s(a.target.name,a.target.checked),checked:t.is_active}),"Manufacturer Owner":e(_,{defaultOptions:!0,isMulti:!1,id:"owner_id",placeholder:"Type at least 2 characters to search...",name:"owner_id",loadOptions:S,onChange:({value:a})=>{s("owner_id",a)},className:"flex-1",defaultValue:{value:(m=t.owner)==null?void 0:m.id,label:h("div",{className:"flex items-center",children:[t.owner?e("img",{src:M(t.owner.avatar),alt:"avatar",className:"w-8 h-8 mr-2 rounded-full"}):null,h("div",{children:[e("div",{className:"text-sm font-bold",children:((l=t.owner)==null?void 0:l.first_name)+" "+((o=t.owner)==null?void 0:o.last_name)}),e("div",{className:"text-xs text-gray-500",children:(i=t.owner)==null?void 0:i.email})]})]},(r=t.owner)==null?void 0:r.id)}})}};return e(b,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(F,{fields:d})})})},L=()=>{var o,i;const n=g(r=>r.manufacturerForm),t=v(),s=new C,d=(r,a)=>{t(f({[r]:a}))},m=async r=>{const a="id",c="vendor_name",x=await s.searchVendor({query:r});if(x.status)return x.data.data.map(p=>({value:p[a],label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:p[c]})})},p[a])}))},l={"Line Card":{"Vendor_Line Card":e(_,{defaultOptions:!0,isMulti:!1,id:"vendor_line_card_id",name:"vendor_line_card_id",placeholder:"Type at least 2 characters to search...",loadOptions:m,className:"flex-1",onChange:({value:r})=>{d("vendor_line_card_id",r)},defaultValue:{value:n.vendor_line_card_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(o=n.vendor_line_card)==null?void 0:o.vendor_name})})},n.vendor_line_card_id)}})},"":{"Vendor_Strong Lines":e(_,{defaultOptions:!0,isMulti:!1,id:"vendor_strong_lines_id",name:"vendor_strong_lines_id",placeholder:"Type at least 2 characters to search...",loadOptions:m,className:"flex-1",onChange:({value:r})=>{d("vendor_strong_lines_id",r)},defaultValue:{value:n.vendor_strong_lines_id,label:e("div",{className:"flex items-center",children:e("div",{children:e("div",{className:"text-sm font-bold",children:(i=n.vendor_strong_lines)==null?void 0:i.vendor_name})})},n.vendor_strong_lines_id)}})}};return e(b,{children:e("div",{className:"flex justify-between lg:flex-row flex-col",children:e(F,{fields:l})})})},j=()=>{const t=y().id;return h("div",{className:"mt-8 px-4",children:[e(V,{},"manufacturerInfo"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(L,{},"lineCard"),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e(k,{modelId:t,modelName:"manufacturer"})]})},B=()=>{const{hasPermission:n}=I(),t=g(a=>a.manufacturerForm),[s,d]=u.useState(!0),l=y().id,o=new C,i=v();u.useEffect(()=>{i(N())},[]),u.useEffect(()=>{i(A("Manufacturer Edit"))});const r=async()=>{const a=await o.fetchSingleManufacturer(l);if(a.status!=200)return;const c=a.data.data.manufacturer;c.oldImage=c.image,i(f(c))};return u.useEffect(()=>{r().then(()=>{d(!1)})},[l]),u.useEffect(()=>{i(f({api:"updateSingleManufacturer",redirectTo:"/manufacturer/edit/:id",action:"edit"}))},[]),s?e(w,{}):!n("update-manufacturer")||s?e(w,{}):h("div",{className:"px-4",children:[e(E,{formState:t,resetForm:N}),e("div",{className:"flex xl:flex-row flex-col gap-2.5",children:e("div",{className:"panel px-0 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6 overflow-hidden",children:e(j,{})})})]})};export{B as default};
