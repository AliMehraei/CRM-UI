import{u as r,r as f,b as x,j as t,ax as g,av as v}from"./main-2e04d675.js";import{C as w}from"./ClearButtonComponent-51c72971.js";const u=({updateFormData:i,formState:n,modelName:p,id:s,formAttribute:e})=>{const c=r(),[d,o]=f.useState(!0),h=async()=>{let l=null;d?l=await v(p,e,n[e]):l=n[`${e}_preview`];const a=document.createElement("a");a.href=l,a.target="_blank",a.download=n[e].split("/").pop(),a.click()};return x("div",{className:"flex",children:[t("input",{id:s??e,type:"file",className:"form-input mr-1 file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-primary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary flex-1",onChange:l=>g(l,p,"attachments",a=>{c(i({[e]:`${a==null?void 0:a.data.data.file_asset_path}`})),c(i({[`${e}_preview`]:l.target.files&&URL.createObjectURL(l.target.files[0])})),o(!1)}),name:s??e},s??e),t("button",{disabled:!n[e],className:"btn btn-outline-primary cursor-pointer",onClick:h,children:"Download"}),t(w,{callBack:()=>{const l=document.getElementById(s??e);l&&(l.value="",l.dispatchEvent(new Event("change",{bubbles:!0}))),c(i({[e]:null}))}})]})};export{u as F};
